"use strict";(self.webpackChunkexpenses_manager=self.webpackChunkexpenses_manager||[]).push([[196],{3932:(e,t,s)=>{s.d(t,{Z:()=>g});var l=s(3605),n=s(1431),i=s(2556),a=s(7257),r=(s(2791),s(8416)),o=s(7703),d=s(8807),c=s(184);const g=(0,a.Pi)((e=>{let{disabled:t,reset:s}=e;const{userOptions:a}=o.optionsStore,{isSmallScreen:g}=d.userStore;return(0,c.jsx)(n.Z,{title:r.Z.reset[a.language],children:(0,c.jsx)(i.ZP,{disabled:t,onClick:s,size:g?"small":"middle",children:(0,c.jsx)(l.Z,{})})})}))},2158:(e,t,s)=>{s.d(t,{Z:()=>z});var l=s(2791),n=s(7257),i=s(4520),a=s(4248),r=s(1431),o=s(7708),d=s(4320),c=s(7892),g=s.n(c),u=s(9026),m=s.n(u),S=s(4895),h=s(4187),p=s(8807),x=s(5967),j=s(3623),Z=s(7703),f=s(6619),v=s(184);const y=(0,n.Pi)((()=>{const{list:e}=d.listStore,{defaultRange:t}=Z.optionsStore,s=(0,l.useMemo)((()=>(0,f.BF)(e,t)),[e,t]),n={labels:new Array(s.length).fill(""),datasets:[{data:s}]};return(0,v.jsx)(j.x1,{style:{inlineSize:"100%"},data:n,options:{plugins:{legend:{display:!1},tooltip:{enabled:!1}},scales:{x:{display:!1,grid:{display:!1}},y:{display:!1,grid:{display:!1}}},elements:{point:{radius:0},line:{cubicInterpolationMode:"monotone",borderColor:"#7775"}},aspectRatio:25}})})),b=(0,l.memo)(y);var O=s(8416);x.kL.register(x.u,x.jn,x.ST,x.uw,x.f$,x.od),g().extend(m());const C=(0,n.Pi)((e=>{let{range:t,setRange:s,isAccurate:n,setIsAccurate:c}=e;const{list:u,listTemplate:m}=d.listStore,{isSmallScreen:x,isTourStarted:j}=p.userStore,{defaultRange:f,setDefaultRange:y,userOptions:C}=Z.optionsStore,[z,I]=(0,l.useState)(f),P=(0,l.useMemo)((()=>{const e=Object.values(j?m:u).map((e=>e.date));return[Math.min(...e),Math.max(...e)]}),[u,j,m]),M=(0,l.useMemo)((()=>{const e=g()(P[0]).startOf("day"),t=g()(P[1]).endOf("day"),s={};let l=e;if(n)for(;l.isBefore(t)||l.isSame(t,"day");)s[l.valueOf()]=1===l.date()?0===l.month()?l.format("YYYY"):l.format("M"):" ",l=l.add(1,"day").startOf("day");else for(;l.isBefore(t)||l.isSame(t,"month");)s[l.valueOf()]=0===l.month()?l.format("YYYY"):" ",l=l.add(1,"month").startOf("month");return s}),[P,n]);(0,l.useEffect)((()=>{y(P)}),[P,y]),(0,l.useEffect)((()=>{s(f)}),[f,s]);const R=(0,l.useCallback)((e=>{s(e)}),[s]);return(0,l.useEffect)((()=>{I(t)}),[t]),(0,l.useEffect)((()=>{x&&c(!1)}),[x,c]),(0,l.useEffect)((()=>{!n&&s([g().max([g()(t[0]).startOf("month"),g()(f[0])]).valueOf(),g().min([g()(t[1]).endOf("month"),g()(f[1])]).valueOf()])}),[n]),g()(f[1]).diff(g()(f[0]),"hours")>=48?(0,v.jsxs)(i.Z,{gap:16,align:"center",style:{inlineSize:"100%"},children:[(0,v.jsx)(a.Z,{size:x?"small":"middle",defaultValue:n,value:n,onChange:c,options:[{label:(0,v.jsx)(r.Z,{title:O.Z.byMonth[C.language],children:(0,v.jsx)(S.Z,{})}),value:!1},{label:(0,v.jsx)(r.Z,{title:O.Z.byDay[C.language],children:(0,v.jsx)(h.Z,{})}),value:!0,disabled:x}]}),(0,v.jsxs)(i.Z,{vertical:!0,align:"stretch",style:{inlineSize:"100%"},children:[(0,v.jsx)(b,{}),(0,v.jsx)(o.Z,{range:!0,value:z,marks:M,step:null,dots:!0,tooltip:{formatter:e=>(0,v.jsx)(v.Fragment,{children:g()(e).format(n?"DD.MM.YY":"MM.YY")})},min:P[0],max:P[1],defaultValue:f,onChange:I,onChangeComplete:R})]})]}):(0,v.jsx)(v.Fragment,{})})),z=(0,l.memo)(C)},5196:(e,t,s)=>{s.r(t),s.d(t,{default:()=>K});var l=s(2791),n=s(6246),i=s(7257),a=s(4664),r=s(6051),o=s(1046),d=s(6619),c=s(8807),g=s(7703);const u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;const[s,n]=(0,l.useState)(e);return(0,l.useEffect)((()=>{const s=setTimeout((()=>{n(e)}),t);return()=>{clearTimeout(s)}}),[e,t]),s};var m=s(6281),S=s(4320),h=s(5831),p=s(184);const x=(0,i.Pi)((e=>{let{filteredListIds:t}=e;const{loading:s,isSmallScreen:i,isTourStarted:x}=c.userStore,{listOptions:j}=g.optionsStore,{lastDeletedItemIds:Z}=S.listStore,f=u(j),v=(0,l.useMemo)((()=>(0,d.W2)(f,t).filter((e=>!Z.includes(e)))),[t,f,Z]);return x?(0,p.jsx)(h.Z,{list:"item",mode:f.mode}):(0,p.jsx)(p.Fragment,{children:s?(0,p.jsx)(m.Z,{}):t.length?"list"===f.mode?(0,p.jsx)(r.Z,{style:{inlineSize:"100%"},children:v.map((e=>(0,p.jsx)(n.Z,{mode:f.mode,initialItemId:e},e)))}):(0,p.jsx)(o.Z,{wrap:!0,size:i?8:16,children:v.map((e=>(0,p.jsx)(n.Z,{mode:f.mode,initialItemId:e},e)))}):(0,p.jsx)(a.Z,{image:a.Z.PRESENTED_IMAGE_SIMPLE,description:""})})})),j=(0,l.memo)(x);var Z=s(4520),f=s(7128),v=s(6834),y=s(1431),b=s(2556),O=s(594),C=s(9286),z=s(7892),I=s.n(z),P=s(8416);const M=(0,i.Pi)((()=>{const{addItem:e}=S.listStore,{isSmallScreen:t}=c.userStore,{userOptions:s}=g.optionsStore,[n,i]=(0,l.useState)(!1),a=(0,l.useCallback)((()=>{i((e=>!e))}),[i]),r=(0,l.useCallback)((t=>{const s=I()().valueOf();e({...t,createdAt:s}),a()}),[e,a]);return(0,p.jsxs)(y.Z,{title:P.Z.newItem[s.language],children:[(0,p.jsx)(b.ZP,{onClick:a,size:t?"small":"middle",children:(0,p.jsx)(C.Z,{})}),(0,p.jsx)(O.Z,{opened:n,toggleOpened:a,submitItem:r})]})}));var R=s(2158),k=s(3475),E=s(952),A=s(126);const T=(0,i.Pi)((()=>{const{categories:e}=k.categoryStore,{isSmallScreen:t}=c.userStore,{listOptions:s,handleCategoriesToFilterChange:l,userOptions:n}=g.optionsStore;return(0,p.jsx)(y.Z,{title:P.Z.categoriesSelect[n.language],children:(0,p.jsx)(A.Z,{size:t?"small":"middle",mode:"multiple",showSearch:!1,tagRender:t=>((e,t)=>{const{label:s,value:l,onClose:n}=e,i=Object.keys(t).length>1?t[l].color:"";return(0,p.jsx)(E.Z,{color:i,onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},closable:!0,onClose:n,style:{marginInlineEnd:4},children:(0,p.jsx)("span",{style:{color:i,filter:"invert(1)"},children:s})})})(t,e),style:{minInlineSize:"10em"},value:s.categoriesToFilterIds,onChange:l,options:Object.keys(e).map((t=>({label:e[t].name,value:t})))})})}));var Y=s(4248),w=s(4544),D=s(54),F=s(9168),L=s(2785),_=s(897);const B=(0,i.Pi)((()=>{const{isSmallScreen:e}=c.userStore,{setIsSortingReversed:t,listOptions:s,userOptions:l,handleSortAlgorithmChanging:n}=g.optionsStore;return(0,p.jsxs)(Z.Z,{gap:8,style:{alignSelf:"start"},children:[(0,p.jsx)(y.Z,{title:P.Z.sort.reverse[l.language],children:s.isSortingReversed?(0,p.jsx)(w.Z,{onClick:()=>t(!s.isSortingReversed)}):(0,p.jsx)(D.Z,{onClick:()=>t(!s.isSortingReversed)})}),(0,p.jsx)(Y.Z,{size:e?"small":"middle",value:s.sortingAlgorithm,onChange:n,options:[{label:(0,p.jsx)(y.Z,{title:P.Z.sort.byDate[l.language],children:(0,p.jsx)(F.Z,{})}),value:"date"},{label:(0,p.jsx)(y.Z,{title:P.Z.sort.byTitle[l.language],children:(0,p.jsx)(L.Z,{})}),value:"title"},{label:(0,p.jsx)(y.Z,{title:P.Z.sort.byPrice[l.language],children:(0,p.jsx)(_.Z,{})}),value:"price"}]})]})}));var V=s(6324),G=s(9197);const N=(0,i.Pi)((()=>{const{isSmallScreen:e}=c.userStore,{listOptions:t,handleModeChanging:s,userOptions:l}=g.optionsStore;return(0,p.jsx)(Z.Z,{gap:8,style:{alignSelf:"start"},children:(0,p.jsx)(Y.Z,{size:e?"small":"middle",value:t.mode,onChange:s,options:[{label:(0,p.jsx)(y.Z,{title:P.Z.layout.list[l.language],children:(0,p.jsx)(V.Z,{})}),value:"list",disabled:e},{label:(0,p.jsx)(y.Z,{title:P.Z.layout.grid[l.language],children:(0,p.jsx)(G.Z,{})}),value:"grid"}]})})}));var W=s(4878),$=s(3932);const q=(0,i.Pi)((e=>{let{total:t}=e;const{isSmallScreen:s,loading:n,tourRefs:i}=c.userStore,{listOptions:a,defaultRange:r,resetListOptions:o,handlePageChanging:d,setRange:u,setIsAccurate:m}=g.optionsStore,{isSortingReversed:S,range:h,categoriesToFilterIds:x,pageSize:j,currentPage:y,sortingAlgorithm:b,isAccurate:O}=a,C=(0,l.useMemo)((()=>S||x.length>0||j!==W.Z.defaultPageSize||1!==y||h[0]&&h[1]&&(h[0]!==r[0]||h[1])!==r[1]||"date"!==b),[h,r,S,x,j,y,b]);return(0,p.jsxs)(Z.Z,{ref:i[2],vertical:!0,style:{inlineSize:"100%"},children:[(0,p.jsxs)(Z.Z,{vertical:!0,gap:32,children:[(0,p.jsxs)(Z.Z,{gap:16,vertical:s,children:[(0,p.jsxs)(Z.Z,{gap:16,children:[(0,p.jsx)(M,{}),(0,p.jsx)(T,{})]}),(0,p.jsxs)(Z.Z,{gap:16,children:[(0,p.jsx)(B,{}),(0,p.jsx)(N,{}),(0,p.jsx)($.Z,{disabled:!C,reset:o})]})]}),(0,p.jsx)(R.Z,{setIsAccurate:m,isAccurate:O,range:h,setRange:u})]}),(0,p.jsx)(f.Z,{}),!n&&(0,p.jsx)(v.Z,{style:{alignSelf:"center"},size:s?"small":"default",showSizeChanger:!0,pageSizeOptions:W.Z.pageSizeOptions,current:a.currentPage,pageSize:a.pageSize,total:t,onChange:d,onShowSizeChange:d})]})})),H=(0,l.memo)(q),J=(0,i.Pi)((()=>{const{isSmallScreen:e}=c.userStore,{list:t}=S.listStore,{listOptions:s,userOptions:n,handleModeChanging:i,handlePageChanging:a}=g.optionsStore,{language:r}=n,{range:o,sortingAlgorithm:u,isSortingReversed:m,categoriesToFilterIds:h,pageSize:x}=s;(0,l.useEffect)((()=>{e&&i("grid")}),[e,i]),(0,l.useEffect)((()=>{a(1,x)}),[o,u,m,h,x,a]);const f=(0,l.useMemo)((()=>(0,d.tL)(s,t,r)),[t,r,s]);return(0,p.jsxs)(Z.Z,{vertical:!0,gap:16,align:"center",children:[(0,p.jsx)(H,{total:f.length}),(0,p.jsx)(j,{filteredListIds:f})]})})),K=J}}]);
//# sourceMappingURL=196.31d73359.chunk.js.map