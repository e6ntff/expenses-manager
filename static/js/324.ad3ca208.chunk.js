"use strict";(self.webpackChunkexpenses_manager=self.webpackChunkexpenses_manager||[]).push([[324],{4324:(e,s,t)=>{t.r(s),t.d(s,{default:()=>P});var l=t(7201),n=t(4664),r=t(6051),i=t(914),a=t(6220),o=t(7257),c=t(2791),d=t(8416),u=t(7703),Z=t(8807),p=t(2622),h=t(2864),y=t(9966),j=t(8030),x=t(3475),g=t(7857),S=t(8418),m=t(7892),v=t.n(m),f=t(8650),b=t(184);const E=(0,o.Pi)((e=>{let{query:s}=e;const{restoreCategory:t,deleteCategory:l,categories:o}=x.categoryStore,{isSmallScreen:m}=Z.userStore,{userOptions:E}=u.optionsStore,{language:C}=E,[k,I]=(0,c.useState)([]),M=(0,c.useMemo)((()=>Object.keys(o).reduce(((e,t)=>{if(!0===o[t].deleted){const l=(0,S.yC)(s,o[t].name);if(0!==(null===l||void 0===l?void 0:l.length))return[...e,{id:t,overlaps:l}]}return e}),[])),[o,s]),A=(0,c.useCallback)((()=>{I((e=>(e.forEach((e=>{l(e)})),[])))}),[l]),J=(0,c.useCallback)((()=>{I((e=>(e.forEach((e=>{t(e)})),[])))}),[t]),q=(0,c.useCallback)((e=>s=>{const t=s.target.checked;I(t?s=>[...s,e]:s=>s.filter((s=>s!==e)))}),[I]);return M.length?(0,b.jsx)(r.Z,{style:{inlineSize:"100%"},children:M.map((e=>{let{id:s,overlaps:n}=e;const r=o[s];return(0,b.jsxs)(a.Z,{style:{opacity:k.length&&!k.includes(s)?".5":"1"},children:[(0,b.jsx)(i.Z,{span:1,children:(u=s,Z=q,(0,g.$m)(k.includes(u),C,m,Z(u),A,J))}),(0,b.jsx)(i.Z,{span:16,children:(0,g.I$)(null===r||void 0===r?void 0:r.name,null===r||void 0===r?void 0:r.type,m,C,!1,n)}),(0,b.jsx)(i.Z,{span:1,children:(0,g.J1)((0,b.jsx)(f.Z,{initialCategoryId:s,disabled:!0}),m,h.Z,!0)}),(0,b.jsx)(i.Z,{span:1,children:(0,g.J1)("".concat(d.Z.deletedAt[C],": ").concat(v()(null===r||void 0===r?void 0:r.deletedAt).format("HH:mm:ss DD.MM.YY")),m,y.Z,!1)}),(0,b.jsx)(i.Z,{span:1,children:(0,g.J1)(d.Z.restore[C],m,j.Z,!1,(()=>t(s)))}),(0,b.jsx)(i.Z,{span:1,children:(c=()=>l(s),(0,g.J1)(d.Z.delete[E.language],m,p.Z,!1,c))})]},s);var c,u,Z}))}):(0,b.jsx)(n.Z,{style:{margin:"auto"},image:n.Z.PRESENTED_IMAGE_SIMPLE,description:""})}));var C=t(4320),k=t(6246);const I=(0,o.Pi)((e=>{let{query:s}=e;const{list:t,restoreItem:l,deleteItem:o}=C.listStore,{isSmallScreen:x}=Z.userStore,{userOptions:m}=u.optionsStore,{language:f}=m,[E,I]=(0,c.useState)([]),M=(0,c.useMemo)((()=>Object.keys(t).reduce(((e,l)=>{if(!0===t[l].deleted){const n=(0,S.yC)(s,t[l].title);if(0!==(null===n||void 0===n?void 0:n.length))return[...e,{id:l,overlaps:n}]}return e}),[])),[t,s]),A=(0,c.useCallback)((()=>{I((e=>(e.forEach((e=>{o(e)})),[])))}),[o]),J=(0,c.useCallback)((()=>{I((e=>(e.forEach((e=>{l(e)})),[])))}),[l]),q=(0,c.useCallback)((e=>s=>{const t=s.target.checked;I(t?s=>[...s,e]:s=>s.filter((s=>s!==e)))}),[I]);return M.length?(0,b.jsx)(r.Z,{style:{inlineSize:"100%"},children:M.map((e=>{let{id:s,overlaps:n}=e;const r=t[s];return(0,b.jsxs)(a.Z,{style:{opacity:E.length&&!E.includes(s)?".5":"1"},children:[(0,b.jsx)(i.Z,{span:1,children:(u=s,Z=q,(0,g.$m)(E.includes(u),f,x,Z(u),A,J))}),(0,b.jsx)(i.Z,{span:16,children:(0,g.I$)(null===r||void 0===r?void 0:r.title,null===r||void 0===r?void 0:r.type,x,f,!1,n)}),(0,b.jsx)(i.Z,{span:1,children:(0,g.J1)((0,b.jsx)(k.Z,{initialItem:{id:s,overlaps:n},mode:"grid",selected:E.includes(s),disabled:!0}),x,h.Z,!0)}),(0,b.jsx)(i.Z,{span:1,children:(0,g.J1)("".concat(d.Z.deletedAt[f],": ").concat(v()(null===r||void 0===r?void 0:r.deletedAt).format("HH:mm:ss DD.MM.YY")),x,y.Z,!1)}),(0,b.jsx)(i.Z,{span:1,children:(0,g.J1)(d.Z.restore[f],x,j.Z,!1,(()=>l(s)))}),(0,b.jsx)(i.Z,{span:1,children:(c=()=>o(s),(0,g.J1)(d.Z.delete[m.language],x,p.Z,!1,c))})]},s);var c,u,Z}))}):(0,b.jsx)(n.Z,{style:{margin:"auto"},image:n.Z.PRESENTED_IMAGE_SIMPLE,description:""})}));var M=t(127),A=t(3663),J=t(1082),q=t(4248);const O=(0,o.Pi)((e=>{let{query:s,setQuery:t,debouncedQuery:n,isExpenses:r,setIsExpenses:i}=e;const{deleteItem:a,restoreItem:o,list:h}=C.listStore,{categories:y,deleteCategory:S,restoreCategory:m}=x.categoryStore,{isSmallScreen:v,tourRefs:f}=Z.userStore,{userOptions:E}=u.optionsStore,{language:k}=E,[I,O]=(0,c.useState)(!1),z=(0,c.useCallback)((()=>{Object.keys(h).forEach((e=>{h[e].deleted&&a(e)})),Object.keys(y).forEach((e=>{y[e].deleted&&S(e)}))}),[h,y,S,a]),D=(0,c.useCallback)((()=>{Object.keys(h).forEach((e=>{h[e].deleted&&o(e)})),Object.keys(y).forEach((e=>{y[e].deleted&&m(e)}))}),[h,y,m,o]),P=(0,c.useCallback)((e=>{t(e.target.value),O(!0)}),[t,O]);return(0,c.useEffect)((()=>{O(!1)}),[n]),(0,b.jsxs)(l.Z,{align:"center",gap:16,ref:f[5],style:{inlineSize:"100%"},children:[(0,b.jsx)(J.Z,{title:d.Z.deleteAllConfirm[k],onConfirm:z,children:(0,g.J1)(d.Z.deleteAll[k],v,p.Z,!1)}),(0,b.jsx)(J.Z,{title:d.Z.restoreAllConfirm[k],onConfirm:D,children:(0,g.J1)(d.Z.restoreAll[k],v,j.Z,!1)}),v&&(0,b.jsx)(q.Z,{onChange:i,value:r,options:[{label:(0,b.jsx)(M.Z,{}),value:!0},{label:(0,b.jsx)(A.Z,{}),value:!1}]}),(0,b.jsx)(l.Z,{style:{inlineSize:v?"100%":"50%"},children:(0,g.q8)(P,s,I,v)})]})}));var z=t(763),D=t(4878);const P=(0,o.Pi)((()=>{const{isSmallScreen:e,tourRefs:s}=Z.userStore,[t,n]=(0,c.useState)(""),[r,i]=(0,c.useState)(""),[a,o]=(0,c.useState)(!0),d=(0,c.useMemo)((()=>(0,z.debounce)((e=>i(e)),D.Z.optionsDebounceDelay)),[]);return(0,c.useEffect)((()=>(d(t),()=>{d.cancel()})),[t,d]),(0,b.jsxs)(l.Z,{vertical:!0,gap:e?16:32,children:[(0,b.jsx)(O,{query:t,setQuery:n,debouncedQuery:r,isExpenses:a,setIsExpenses:o}),(0,b.jsx)(l.Z,{ref:s[4],gap:e?16:32,style:{inlineSize:"100%"},children:e?a?(0,b.jsx)(I,{query:r}):(0,b.jsx)(E,{query:r}):(0,b.jsxs)(l.Z,{style:{inlineSize:"100%"},gap:32,children:[(0,b.jsx)(l.Z,{style:{inlineSize:"50%"},children:(0,b.jsx)(I,{query:r})}),(0,b.jsx)(l.Z,{style:{inlineSize:"50%"},children:(0,b.jsx)(E,{query:r})})]})})]})}))}}]);
//# sourceMappingURL=324.ad3ca208.chunk.js.map