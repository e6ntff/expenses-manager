{"version":3,"file":"static/js/324.0604edde.chunk.js","mappings":"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","sources":["components/DeletedCategories.tsx","components/DeletedItems.tsx","components/TrashPanel.tsx","pages/Trash.tsx"],"sourcesContent":["import { Col, Empty, List } from 'antd';\r\nimport Item from 'antd/es/list/Item';\r\nimport { observer } from 'mobx-react-lite';\r\nimport React, { useCallback, useMemo, useState } from 'react';\r\nimport languages from 'settings/languages';\r\nimport { optionsStore } from 'utils/optionsStore';\r\nimport { userStore } from 'utils/userStore';\r\nimport { DeleteOutlined, UndoOutlined } from '@ant-design/icons';\r\nimport { categoryStore } from 'utils/categoryStore';\r\nimport {\r\n\tMyCheckbox,\r\n\tMyIconWithTooltip,\r\n\tMyImage,\r\n\tMyInfoTooltip,\r\n\tMyTitle,\r\n\tMyView,\r\n} from './Items';\r\nimport { CheckboxChangeEvent } from 'antd/es/checkbox';\r\nimport { ItemWithSearch } from 'settings/interfaces';\r\nimport { search } from 'utils/utils';\r\n\r\ninterface Props {\r\n\tquery: string;\r\n}\r\n\r\nconst DeletedCategories: React.FC<Props> = observer(({ query }) => {\r\n\tconst { restoreCategory, deleteCategory, categories } = categoryStore;\r\n\tconst { isSmallScreen } = userStore;\r\n\tconst { userOptions } = optionsStore;\r\n\r\n\tconst { language } = userOptions;\r\n\r\n\tconst [selectedItemIds, setSelectedItemIds] = useState<string[]>([]);\r\n\r\n\tconst deletedCategoryIds: ItemWithSearch[] = useMemo(() => {\r\n\t\treturn Object.keys(categories).reduce(\r\n\t\t\t(acc: ItemWithSearch[], key: string) => {\r\n\t\t\t\tif (categories[key].deleted === true) {\r\n\t\t\t\t\tconst overlaps = search(query, categories[key].name);\r\n\t\t\t\t\tif (overlaps?.length !== 0) {\r\n\t\t\t\t\t\treturn [...acc, { id: key, overlaps: overlaps }];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn acc;\r\n\t\t\t},\r\n\t\t\t[]\r\n\t\t);\r\n\t}, [categories, query]);\r\n\r\n\tconst deleteSelectedItems = useCallback(() => {\r\n\t\tsetSelectedItemIds((prevSelected: string[]) => {\r\n\t\t\tprevSelected.forEach((key: string) => {\r\n\t\t\t\tdeleteCategory(key);\r\n\t\t\t});\r\n\t\t\treturn [];\r\n\t\t});\r\n\t}, [deleteCategory]);\r\n\r\n\tconst restoreSelectedItems = useCallback(() => {\r\n\t\tsetSelectedItemIds((prevSelected: string[]) => {\r\n\t\t\tprevSelected.forEach((key: string) => {\r\n\t\t\t\trestoreCategory(key);\r\n\t\t\t});\r\n\t\t\treturn [];\r\n\t\t});\r\n\t}, [restoreCategory]);\r\n\r\n\tconst handleCategorySelection = useCallback(\r\n\t\t(id: string) => (event: CheckboxChangeEvent) => {\r\n\t\t\tconst value = event.target.checked;\r\n\t\t\tvalue\r\n\t\t\t\t? setSelectedItemIds((prevSelected: string[]) => [...prevSelected, id])\r\n\t\t\t\t: setSelectedItemIds((prevSelected: string[]) =>\r\n\t\t\t\t\t\tprevSelected.filter((item: string) => item !== id)\r\n\t\t\t\t  );\r\n\t\t},\r\n\t\t[setSelectedItemIds]\r\n\t);\r\n\r\n\tconst DeleteJSX = (callback: () => void) =>\r\n\t\tMyIconWithTooltip(\r\n\t\t\tlanguages.delete[userOptions.language],\r\n\t\t\tisSmallScreen,\r\n\t\t\tDeleteOutlined,\r\n\t\t\tcallback\r\n\t\t);\r\n\r\n\tconst CheckboxJSX = (\r\n\t\tkey: string,\r\n\t\thandler: (key: string) => (event: CheckboxChangeEvent) => void\r\n\t) =>\r\n\t\tMyCheckbox(\r\n\t\t\tselectedItemIds.includes(key),\r\n\t\t\tlanguage,\r\n\t\t\tisSmallScreen,\r\n\t\t\thandler(key),\r\n\t\t\tdeleteSelectedItems,\r\n\t\t\trestoreSelectedItems\r\n\t\t);\r\n\r\n\tif (!deletedCategoryIds.length)\r\n\t\treturn (\r\n\t\t\t<Empty\r\n\t\t\t\tstyle={{ margin: 'auto' }}\r\n\t\t\t\timage={Empty.PRESENTED_IMAGE_SIMPLE}\r\n\t\t\t\tdescription={''}\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\treturn (\r\n\t\t<List style={{ inlineSize: '100%' }}>\r\n\t\t\t{deletedCategoryIds.map(({ id, overlaps }: ItemWithSearch) => {\r\n\t\t\t\tconst currentCategory = categories[id];\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Item key={id}>\r\n\t\t\t\t\t\t{CheckboxJSX(id, handleCategorySelection)}\r\n\t\t\t\t\t\t<Col span={1}>\r\n\t\t\t\t\t\t\t{MyImage(currentCategory.color, isSmallScreen, language)}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={10}>\r\n\t\t\t\t\t\t\t{MyTitle(\r\n\t\t\t\t\t\t\t\tcurrentCategory.name,\r\n\t\t\t\t\t\t\t\tisSmallScreen,\r\n\t\t\t\t\t\t\t\tlanguage,\r\n\t\t\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t\t\toverlaps\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={2}>\r\n\t\t\t\t\t\t\t{MyView(\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\t'category',\r\n\t\t\t\t\t\t\t\tisSmallScreen,\r\n\t\t\t\t\t\t\t\tselectedItemIds.includes(id)\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={2}>\r\n\t\t\t\t\t\t\t{MyInfoTooltip(<>{currentCategory.deletedAt}</>, isSmallScreen)}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={2}>\r\n\t\t\t\t\t\t\t{MyIconWithTooltip(id, isSmallScreen, UndoOutlined, () =>\r\n\t\t\t\t\t\t\t\trestoreCategory(id)\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={2}>{DeleteJSX(() => deleteCategory(id))}</Col>\r\n\t\t\t\t\t</Item>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</List>\r\n\t);\r\n});\r\n\r\nexport default DeletedCategories;\r\n","import { Col, Empty, List } from 'antd';\r\nimport Item from 'antd/es/list/Item';\r\nimport { observer } from 'mobx-react-lite';\r\nimport React, { useCallback, useMemo, useState } from 'react';\r\nimport languages from 'settings/languages';\r\nimport { listStore } from 'utils/listStore';\r\nimport { optionsStore } from 'utils/optionsStore';\r\nimport { userStore } from 'utils/userStore';\r\nimport { DeleteOutlined, UndoOutlined } from '@ant-design/icons';\r\nimport {\r\n\tMyCheckbox,\r\n\tMyIconWithTooltip,\r\n\tMyImage,\r\n\tMyInfoTooltip,\r\n\tMyTitle,\r\n\tMyView,\r\n} from './Items';\r\nimport { CheckboxChangeEvent } from 'antd/es/checkbox';\r\nimport { ItemWithSearch } from 'settings/interfaces';\r\nimport { search } from 'utils/utils';\r\n\r\ninterface Props {\r\n\tquery: string;\r\n}\r\n\r\nconst DeletedItems: React.FC<Props> = observer(({ query }) => {\r\n\tconst { list, restoreItem, deleteItem } = listStore;\r\n\tconst { isSmallScreen } = userStore;\r\n\tconst { userOptions } = optionsStore;\r\n\r\n\tconst { language } = userOptions;\r\n\r\n\tconst [selectedItemIds, setSelectedItemIds] = useState<string[]>([]);\r\n\r\n\tconst deletedItemIds: ItemWithSearch[] = useMemo(() => {\r\n\t\treturn Object.keys(list).reduce((acc: ItemWithSearch[], key: string) => {\r\n\t\t\tif (list[key].deleted === true) {\r\n\t\t\t\tconst overlaps = search(query, list[key].title);\r\n\t\t\t\tif (overlaps?.length !== 0) {\r\n\t\t\t\t\treturn [...acc, { id: key, overlaps: overlaps }];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn acc;\r\n\t\t}, []);\r\n\t}, [list, query]);\r\n\r\n\tconst deleteSelectedItems = useCallback(() => {\r\n\t\tsetSelectedItemIds((prevSelected: string[]) => {\r\n\t\t\tprevSelected.forEach((key: string) => {\r\n\t\t\t\tdeleteItem(key);\r\n\t\t\t});\r\n\t\t\treturn [];\r\n\t\t});\r\n\t}, [deleteItem]);\r\n\r\n\tconst restoreSelectedItems = useCallback(() => {\r\n\t\tsetSelectedItemIds((prevSelected: string[]) => {\r\n\t\t\tprevSelected.forEach((key: string) => {\r\n\t\t\t\trestoreItem(key);\r\n\t\t\t});\r\n\t\t\treturn [];\r\n\t\t});\r\n\t}, [restoreItem]);\r\n\r\n\tconst handleItemSelection = useCallback(\r\n\t\t(id: string) => (event: CheckboxChangeEvent) => {\r\n\t\t\tconst value = event.target.checked;\r\n\t\t\tvalue\r\n\t\t\t\t? setSelectedItemIds((prevSelected: string[]) => [...prevSelected, id])\r\n\t\t\t\t: setSelectedItemIds((prevSelected: string[]) =>\r\n\t\t\t\t\t\tprevSelected.filter((item: string) => item !== id)\r\n\t\t\t\t  );\r\n\t\t},\r\n\t\t[setSelectedItemIds]\r\n\t);\r\n\r\n\tconst DeleteJSX = (callback: () => void) =>\r\n\t\tMyIconWithTooltip(\r\n\t\t\tlanguages.delete[userOptions.language],\r\n\t\t\tisSmallScreen,\r\n\t\t\tDeleteOutlined,\r\n\t\t\tcallback\r\n\t\t);\r\n\r\n\tconst CheckboxJSX = (\r\n\t\tkey: string,\r\n\t\thandler: (key: string) => (event: CheckboxChangeEvent) => void\r\n\t) =>\r\n\t\tMyCheckbox(\r\n\t\t\tselectedItemIds.includes(key),\r\n\t\t\tlanguage,\r\n\t\t\tisSmallScreen,\r\n\t\t\thandler(key),\r\n\t\t\tdeleteSelectedItems,\r\n\t\t\trestoreSelectedItems\r\n\t\t);\r\n\r\n\tif (!deletedItemIds.length)\r\n\t\treturn (\r\n\t\t\t<Empty\r\n\t\t\t\tstyle={{ margin: 'auto' }}\r\n\t\t\t\timage={Empty.PRESENTED_IMAGE_SIMPLE}\r\n\t\t\t\tdescription={''}\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\treturn (\r\n\t\t<List style={{ inlineSize: '100%' }}>\r\n\t\t\t{deletedItemIds.map(({ id, overlaps }: ItemWithSearch) => {\r\n\t\t\t\tconst currentItem = list[id];\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Item key={id}>\r\n\t\t\t\t\t\t<Col span={1}>{CheckboxJSX(id, handleItemSelection)}</Col>\r\n\t\t\t\t\t\t<Col span={1}>\r\n\t\t\t\t\t\t\t{MyImage(currentItem.image, isSmallScreen, language)}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={10}>\r\n\t\t\t\t\t\t\t{MyTitle(\r\n\t\t\t\t\t\t\t\tcurrentItem.title,\r\n\t\t\t\t\t\t\t\tisSmallScreen,\r\n\t\t\t\t\t\t\t\tlanguage,\r\n\t\t\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t\t\toverlaps\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={2}>\r\n\t\t\t\t\t\t\t{MyView(id, 'item', isSmallScreen, selectedItemIds.includes(id))}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={2}>\r\n\t\t\t\t\t\t\t{MyInfoTooltip(<>{currentItem.deletedAt}</>, isSmallScreen)}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={2}>\r\n\t\t\t\t\t\t\t{MyIconWithTooltip(id, isSmallScreen, UndoOutlined, () =>\r\n\t\t\t\t\t\t\t\trestoreItem(id)\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={2}>{DeleteJSX(() => deleteItem(id))}</Col>\r\n\t\t\t\t\t</Item>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</List>\r\n\t);\r\n});\r\n\r\nexport default DeletedItems;\r\n","import { DeleteOutlined, UndoOutlined } from '@ant-design/icons';\r\nimport { Button, Flex, Popconfirm, Segmented, Tooltip } from 'antd';\r\nimport { observer } from 'mobx-react-lite';\r\nimport React, {\r\n\tChangeEvent,\r\n\tDispatch,\r\n\tSetStateAction,\r\n\tuseCallback,\r\n\tuseEffect,\r\n\tuseState,\r\n} from 'react';\r\nimport languages from 'settings/languages';\r\nimport { categoryStore } from 'utils/categoryStore';\r\nimport { listStore } from 'utils/listStore';\r\nimport { optionsStore } from 'utils/optionsStore';\r\nimport { userStore } from 'utils/userStore';\r\nimport { MySearch } from './Items';\r\n\r\ninterface Props {\r\n\tquery: string;\r\n\tsetQuery: Dispatch<SetStateAction<string>>;\r\n\tdebouncedQuery: string;\r\n\tisExpenses: boolean;\r\n\tsetIsExpenses: Dispatch<SetStateAction<boolean>>;\r\n}\r\n\r\nconst TrashPanel: React.FC<Props> = observer(\r\n\t({ query, setQuery, debouncedQuery, isExpenses, setIsExpenses }) => {\r\n\t\tconst { deleteItem, restoreItem, list } = listStore;\r\n\t\tconst { categories, deleteCategory, restoreCategory } = categoryStore;\r\n\t\tconst { isSmallScreen, tourRefs } = userStore;\r\n\t\tconst { userOptions } = optionsStore;\r\n\r\n\t\tconst { language } = userOptions;\r\n\r\n\t\tconst [isSearchLoading, setIsSearchLoading] = useState<boolean>(false);\r\n\r\n\t\tconst deleteAll = useCallback(() => {\r\n\t\t\tObject.keys(list).forEach((key: string) => {\r\n\t\t\t\tlist[key].deleted && deleteItem(key);\r\n\t\t\t});\r\n\r\n\t\t\tObject.keys(categories).forEach((key: string) => {\r\n\t\t\t\tcategories[key].deleted && deleteCategory(key);\r\n\t\t\t});\r\n\t\t}, [list, categories, deleteCategory, deleteItem]);\r\n\r\n\t\tconst restoreAll = useCallback(() => {\r\n\t\t\tObject.keys(list).forEach((key: string) => {\r\n\t\t\t\tlist[key].deleted && restoreItem(key);\r\n\t\t\t});\r\n\r\n\t\t\tObject.keys(categories).forEach((key: string) => {\r\n\t\t\t\tcategories[key].deleted && restoreCategory(key);\r\n\t\t\t});\r\n\t\t}, [list, categories, restoreCategory, restoreItem]);\r\n\r\n\t\tconst handleSearch = useCallback(\r\n\t\t\t(event: ChangeEvent<HTMLInputElement>) => {\r\n\t\t\t\tsetQuery(event.target.value);\r\n\t\t\t\tsetIsSearchLoading(true);\r\n\t\t\t},\r\n\t\t\t[setQuery, setIsSearchLoading]\r\n\t\t);\r\n\r\n\t\tuseEffect(() => {\r\n\t\t\tsetIsSearchLoading(false);\r\n\t\t}, [debouncedQuery]);\r\n\r\n\t\treturn (\r\n\t\t\t<Flex\r\n\t\t\t\tgap={16}\r\n\t\t\t\tref={tourRefs[5]}\r\n\t\t\t\tstyle={{ inlineSize: '100%' }}\r\n\t\t\t>\r\n\t\t\t\t<Tooltip title={languages.deleteAll[language]}>\r\n\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\ttitle={languages.deleteAllConfirm[language]}\r\n\t\t\t\t\t\tonConfirm={deleteAll}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button size={isSmallScreen ? 'small' : 'middle'}>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={{ scale: isSmallScreen ? '1' : '1.5' }} />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t\t<Tooltip title={languages.restoreAll[language]}>\r\n\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\ttitle={languages.restoreAllConfirm[language]}\r\n\t\t\t\t\t\tonConfirm={restoreAll}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button size={isSmallScreen ? 'small' : 'middle'}>\r\n\t\t\t\t\t\t\t<UndoOutlined style={{ scale: isSmallScreen ? '1' : '1.5' }} />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t\t{MySearch(handleSearch, query, isSearchLoading, isSmallScreen)}\r\n\t\t\t\t<Segmented\r\n\t\t\t\t\t// style={{ inlineSize: '100%', background: '#0000' }}\r\n\t\t\t\t\tonChange={setIsExpenses}\r\n\t\t\t\t\tvalue={isExpenses}\r\n\t\t\t\t\toptions={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: languages.expenses[language],\r\n\t\t\t\t\t\t\tvalue: true,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: languages.categories[language],\r\n\t\t\t\t\t\t\tvalue: false,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}\r\n\t\t\t\t/>\r\n\t\t\t</Flex>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nexport default TrashPanel;\r\n","import { Flex } from 'antd';\r\nimport DeletedCategories from 'components/DeletedCategories';\r\nimport DeletedList from 'components/DeletedItems';\r\nimport TrashPanel from 'components/TrashPanel';\r\nimport { debounce } from 'lodash';\r\nimport { observer } from 'mobx-react-lite';\r\nimport React, { useEffect, useMemo, useState } from 'react';\r\nimport constants from 'settings/constants';\r\n\r\nimport { userStore } from 'utils/userStore';\r\n\r\nconst Trash: React.FC = observer(() => {\r\n\tconst { isSmallScreen, tourRefs } = userStore;\r\n\r\n\tconst [query, setQuery] = useState<string>('');\r\n\tconst [debouncedQuery, setDebouncedQuery] = useState<string>('');\r\n\tconst [isExpenses, setIsExpenses] = useState<boolean>(true);\r\n\r\n\tconst debouncedSetQuery = useMemo(\r\n\t\t() =>\r\n\t\t\tdebounce(\r\n\t\t\t\t(query: string) => setDebouncedQuery(query),\r\n\t\t\t\tconstants.optionsDebounceDelay\r\n\t\t\t),\r\n\t\t[]\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tdebouncedSetQuery(query);\r\n\t\treturn () => {\r\n\t\t\tdebouncedSetQuery.cancel();\r\n\t\t};\r\n\t}, [query, debouncedSetQuery]);\r\n\r\n\treturn (\r\n\t\t<Flex\r\n\t\t\tvertical\r\n\t\t\tgap={isSmallScreen ? 16 : 32}\r\n\t\t>\r\n\t\t\t<TrashPanel\r\n\t\t\t\tquery={query}\r\n\t\t\t\tsetQuery={setQuery}\r\n\t\t\t\tdebouncedQuery={debouncedQuery}\r\n\t\t\t\tisExpenses={isExpenses}\r\n\t\t\t\tsetIsExpenses={setIsExpenses}\r\n\t\t\t/>\r\n\t\t\t<Flex\r\n\t\t\t\tref={tourRefs[4]}\r\n\t\t\t\tvertical={isSmallScreen}\r\n\t\t\t\tgap={isSmallScreen ? 16 : 32}\r\n\t\t\t\tstyle={{ inlineSize: '100%' }}\r\n\t\t\t>\r\n\t\t\t\t{isExpenses ? (\r\n\t\t\t\t\t<DeletedList query={debouncedQuery} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<DeletedCategories query={debouncedQuery} />\r\n\t\t\t\t)}\r\n\t\t\t</Flex>\r\n\t\t</Flex>\r\n\t);\r\n});\r\n\r\nexport default Trash;\r\n"],"names":["observer","_ref","query","restoreCategory","deleteCategory","categories","categoryStore","isSmallScreen","userStore","userOptions","optionsStore","language","selectedItemIds","setSelectedItemIds","useState","deletedCategoryIds","useMemo","Object","keys","reduce","acc","key","deleted","overlaps","search","name","length","id","deleteSelectedItems","useCallback","prevSelected","forEach","restoreSelectedItems","handleCategorySelection","event","value","target","checked","filter","item","_jsx","List","style","inlineSize","children","map","_ref2","currentCategory","_jsxs","Item","handler","MyCheckbox","includes","Col","span","MyImage","color","MyTitle","MyView","MyInfoTooltip","_Fragment","deletedAt","MyIconWithTooltip","UndoOutlined","callback","languages","delete","DeleteOutlined","Empty","margin","image","PRESENTED_IMAGE_SIMPLE","description","list","restoreItem","deleteItem","listStore","deletedItemIds","title","handleItemSelection","currentItem","setQuery","debouncedQuery","isExpenses","setIsExpenses","tourRefs","isSearchLoading","setIsSearchLoading","deleteAll","restoreAll","handleSearch","useEffect","Flex","gap","ref","Tooltip","Popconfirm","deleteAllConfirm","onConfirm","Button","size","scale","restoreAllConfirm","MySearch","Segmented","onChange","options","label","expenses","setDebouncedQuery","debouncedSetQuery","debounce","constants","optionsDebounceDelay","cancel","vertical","TrashPanel","DeletedList","DeletedCategories"],"sourceRoot":""}