"use strict";(self.webpackChunkfinance_tracker=self.webpackChunkfinance_tracker||[]).push([[650],{8650:(e,t,s)=>{s.d(t,{Z:()=>P});var n=s(2791),l=s(3475),i=s(7257),r=s(4320),a=s(1431),c=s(81),o=s(7201),d=s(3936),u=s(8807),p=s(8416),Z=s(7703),x=s(2506),m=s(6051),h=s(914),j=s(1429),y=s(6220),g=s(7892),S=s.n(g),v=s(4878),C=s(9335),b=s(7857),k=s(2864),I=s(2622),f=s(6246),z=s(184);const D=(0,i.Pi)((e=>{let{opened:t,setOpened:s,itemIds:l}=e;const{list:i,replaceItem:a}=r.listStore,{isSmallScreen:c}=u.userStore,{userOptions:d}=Z.optionsStore,{language:g}=d,D=(0,n.useCallback)((e=>{a(e,{...i[e],categoryId:v.Z.emptyItem.categoryId})}),[i,a]);return(0,z.jsx)(x.Z,{open:t,onCancel:()=>{s(!1)},okButtonProps:{style:{display:"none"}},cancelButtonProps:{style:{display:"none"}},children:(0,z.jsx)(C.ZP,{autoHide:!0,style:{blockSize:"75vh"},children:(0,z.jsx)(m.Z,{children:l.map((e=>(0,z.jsxs)(y.Z,{children:[(0,z.jsx)(h.Z,{span:5,children:(0,z.jsx)(j.Z,{value:S()(i[e].date).format("DD.MM.YY"),style:{scale:c?".75":"1"}})}),(0,z.jsx)(h.Z,{span:10,children:(0,z.jsx)(o.Z,{justify:"center",style:{opacity:i[e].title?"1":".5"},children:(0,b.I$)(i[e].title,i[e].type,c,g,!1)})}),(0,z.jsx)(h.Z,{span:2,children:(0,b.J1)((0,z.jsx)(f.Z,{initialItem:{id:e,overlaps:[]},mode:"grid"}),c,k.Z,!0)}),(0,z.jsx)(h.Z,{span:2,children:(0,b.J1)(p.Z.delete[g],c,I.Z,!1,(()=>D(e)))})]},e)))})})})})),M=(0,n.memo)(D);var O=s(9966),J=s(8341),w=s(9596);const P=(0,i.Pi)((e=>{let{initialCategoryId:t,category:s,disabled:i}=e;const{replaceCategory:x,categories:m,setLastDeletedCategoryIds:h,lastDeletedCategoryIds:j}=l.categoryStore,{list:y,setUserList:g}=r.listStore,{isSmallScreen:S}=u.userStore,{userOptions:C}=Z.optionsStore,{language:k}=C,[f,D]=(0,n.useState)(s||m[t]),[P,F]=(0,n.useState)(!1),Y=(0,n.useMemo)((()=>Object.keys(y).reduce(((e,s)=>y[s].categoryId===t?[...e,s]:[...e]),[])),[y,t]),E=(0,n.useCallback)((()=>{h([...j,t])}),[h,t,j]),A=(0,n.useCallback)((e=>{D((s=>JSON.stringify(s)!==JSON.stringify(e)?(x(t,e),e):s))}),[D,x,t]),L=(0,n.useCallback)((e=>{D((t=>{const s={...t,name:e};return A(s),s}))}),[D,A]),T=(0,n.useCallback)((e=>{D((t=>{const s={...t,color:"#".concat(e.toHex())};return A(s),s}))}),[D,A]),H=(0,n.useCallback)(((e,t)=>{const s=y;Object.keys(y).forEach((n=>{y[n].categoryId===e&&y[n].type!==t&&(s[n].categoryId="0")})),g(s)}),[y,g]),N=(0,n.useCallback)((e=>{D((s=>{const n={...s,type:e};return H(t,n.type),A(n),n}))}),[D,t,A,H]),R=i?(0,b.Vh)(f.color,S,k):(0,z.jsx)(a.Z,{title:p.Z.pickColor[k],children:(0,z.jsx)(c.Z,{value:f.color,format:"hex",onChangeComplete:T,children:(0,b.Vh)(f.color,S,k)})}),$=(0,n.useMemo)((()=>"".concat(p.Z.itemsWithCurrentCategory[k],": ").concat(Y.length)),[Y,k]),V=(0,z.jsxs)(o.Z,{align:"center",justify:"space-evenly",children:[(0,b.J1)($,S,O.Z,!1,(()=>Y.length&&F(!0))),R,(0,b.J1)(p.Z.delete[C.language],S,I.Z,!1,E)]}),W="income"===f.type?(0,z.jsx)(J.Z,{style:{color:v.Z.colors.income},onClick:()=>N("expense")}):(0,z.jsx)(w.Z,{style:{color:v.Z.colors.expense},onClick:()=>N("income")});return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(d.Z,{style:{inlineSize:S?"8em":"12em",pointerEvents:i?"none":"auto"},extra:W,size:"small",title:(0,b.I$)(f.name,f.type,S,k,!i&&{onChange:L}),actions:[V],styles:{title:{padding:10},body:{padding:0}}}),(0,z.jsx)(M,{opened:P,setOpened:F,itemIds:Y})]})}))},594:(e,t,s)=>{s.d(t,{Z:()=>Y});var n=s(2791),l=s(1457),i=s(7257),r=s(8807),a=s(8416),c=s(4133),o=s(3887),d=s(1468),u=s(2506),p=s(3070),Z=s(6106),x=s(914),m=s(4878),h=s(7892),j=s.n(h),y=s(3475),g=s(126),S=s(8228),v=s(184);const C=(0,i.Pi)((e=>{let{id:t,type:s,onChange:n}=e;const{categories:l}=y.categoryStore,{isSmallScreen:i}=r.userStore;return(0,v.jsx)(g.Z,{size:i?"small":"middle",style:{minInlineSize:"7em"},onChange:n,value:t,suffixIcon:(0,v.jsx)(S.Z,{style:{color:l[t]&&l[t].color}}),options:Object.keys(l).filter((e=>!l[e].deleted&&(l[e].type===s||"all"===l[e].type))).map((e=>({label:l[e].name,value:e})))})}));var b=s(7575),k=s(732),I=s(7703),f=s(4320),z=s(7106),D=s(9286),M=s(6452),O=s(8633),J=s(8709);const w=(0,i.Pi)((e=>{let{onChange:t,image:s}=e;const[l,i]=(0,n.useState)(!1),r=(0,n.useCallback)((e=>{"uploading"===e.file.status&&i(!0),"done"===e.file.status&&((e,t)=>{const s=new FileReader;s.addEventListener("load",(()=>t(s.result))),s.readAsDataURL(e)})(e.file.originFileObj,(e=>{i(!1),t(e)}))}),[i,t]);return(0,v.jsx)(J.Z,{cropShape:"round",rotationSlider:!0,children:(0,v.jsx)(M.Z,{action:"1",accept:"image/*",listType:"picture-circle",showUploadList:!1,onChange:r,maxCount:1,children:s?(0,v.jsx)(O.Z,{preview:!1,src:s,style:{width:"100%",borderRadius:"50px"}}):l?(0,v.jsx)(z.Z,{style:{scale:"1.5"}}):(0,v.jsx)(D.Z,{style:{scale:"1.5"}})})})}));var P=s(8418),F=s(6201);const Y=(0,i.Pi)((e=>{let{opened:t,initialItemId:s,toggleOpened:i,submitItem:h}=e;const{currencyRates:y,isSmallScreen:g}=r.userStore,{userOptions:S}=I.optionsStore,{list:z}=f.listStore,{language:D,currency:M}=S,O=(0,n.useMemo)((()=>void 0!==s?z[s]:m.Z.emptyItem),[z,s]),[J,Y]=(0,n.useState)(O),E=(0,n.useCallback)((e=>{const{value:t}=e.target;Y((e=>({...e,title:t})))}),[Y]),A=(0,n.useCallback)((e=>{e&&Y((t=>({...t,date:e.valueOf()})))}),[Y]),L=(0,n.useCallback)((e=>{Y((t=>({...t,categoryId:e})))}),[Y]),T=(0,n.useCallback)((e=>{Y((t=>{const s={...t,price:{...t.price,[M]:Number(e)}};return{...s,price:(0,l.Z)(s.price,y,M)}}))}),[Y,M,y]),H=(0,n.useCallback)((e=>{(0,P.u)(e,.5).then((e=>{Y((t=>({...t,image:e})))}))}),[Y]),N=(0,n.useCallback)((e=>{Y((t=>({...t,type:e})))}),[Y]);(0,n.useEffect)((()=>{const e=s=>{"Enter"===s.key&&t&&(h(J),window.removeEventListener("keyup",e))};return window.addEventListener("keyup",e),()=>{window.removeEventListener("keyup",e)}}),[J,h,t]);const R=(0,v.jsx)(c.Z,{required:!0,type:"text",value:J.title,onInput:E}),$=(0,v.jsx)(o.Z,{style:{inlineSize:"50%"},formatter:e=>"".concat((0,P.Rh)(M)).concat(e),required:!0,min:1,step:1,value:Math.round(J.price[M]),onChange:T}),V=(0,v.jsx)(d.Z,{required:!0,onChange:A,value:j()(J.date),minDate:m.Z.startDate,maxDate:j()()}),W=(0,v.jsx)(C,{id:J.categoryId,type:J.type,onChange:L}),q=(0,v.jsx)(w,{image:J.image,onChange:H});return(0,v.jsx)(u.Z,{open:t,okButtonProps:{size:g?"small":"middle"},cancelButtonProps:{size:g?"small":"middle"},onOk:()=>{h(J)},onCancel:()=>{Y(O),i()},okText:(0,v.jsx)(b.Z,{}),cancelText:(0,v.jsx)(k.Z,{}),children:(0,v.jsxs)(p.Z,{size:g?"small":"middle",layout:"vertical",style:{inlineSize:"100%"},children:[(0,v.jsx)(p.Z.Item,{label:a.Z.type[D],children:(0,v.jsx)(F.Z,{type:J.type,onChange:N})}),(0,v.jsx)(p.Z.Item,{label:a.Z.title[D],children:R}),(0,v.jsx)(p.Z.Item,{label:a.Z.price[D],children:(0,v.jsxs)(Z.Z,{children:[(0,v.jsx)(x.Z,{span:16,children:$}),(0,v.jsx)(x.Z,{span:1})]})}),(0,v.jsx)(p.Z.Item,{label:a.Z.dateAndCat[D],children:(0,v.jsxs)(Z.Z,{children:[(0,v.jsx)(x.Z,{span:10,children:V}),(0,v.jsx)(x.Z,{span:1}),(0,v.jsx)(x.Z,{span:13,children:W})]})}),(0,v.jsx)(p.Z.Item,{label:a.Z.image[D],children:q})]})})}))},7857:(e,t,s)=>{s.d(t,{$m:()=>D,I$:()=>C,IX:()=>k,J1:()=>z,JN:()=>f,Vh:()=>b,Zi:()=>O,o5:()=>I,q8:()=>M});var n=s(1635),l=s(5563),i=s(7201),r=s(1431),a=s(8633),c=s(9367),o=s(1429),d=s(952),u=s(2556),p=s(7338),Z=s(8416),x=s(7892),m=s.n(x),h=s(8418),j=(s(2791),s(2603)),y=s(4191),g=s.n(y),S=s(184);const v=(e,t,s,n,i,r)=>" "===e?(0,S.jsx)(S.Fragment,{children:"\xa0"}):(0,S.jsx)(l.Z.Text,{type:"expense"===t?"danger":"success",style:{fontSize:n?"1em":"1.25em"},editable:i,ellipsis:!0,strong:s,children:e},r||0),C=(e,t,s,n,l,r)=>{const a=r?e.split("").map(((e,n)=>{const i=r.some((e=>{let[t,s]=e;return n>=t&&n<=s}));return v(e,t,i,s,l,n)})):[v(e||Z.Z.noTitle[n],t,!1,s,l)];return(0,S.jsx)(i.Z,{justify:"center",style:{inlineSize:"100%",opacity:e?"1":".5"},children:a},g()())},b=(e,t,s,l)=>e?(0,S.jsx)(r.Z,{color:"#0005",placement:"right",title:!e.startsWith("#")&&(0,S.jsx)(a.Z,{preview:!1,src:e,style:{borderRadius:"50%",inlineSize:"100%",blockSize:"100%",objectFit:"cover"}}),children:(0,S.jsx)(c.C,{style:{cursor:"pointer",background:e.startsWith("#")?e:"unset"},size:t?"small":"default",icon:(0,S.jsx)(i.Z,{style:{inlineSize:"100%",blockSize:"100%",objectFit:"cover"},children:!e.startsWith("#")&&(0,S.jsx)(a.Z,{preview:!1,src:e,style:{inlineSize:"100%",blockSize:"100%",objectFit:"cover"}})})})}):(0,S.jsx)(r.Z,{title:Z.Z.noImage[s],children:(0,S.jsx)(c.C,{style:{cursor:"pointer"},onClick:l,icon:(0,S.jsx)(n.Z,{})})}),k=(e,t,s)=>(0,S.jsxs)(i.Z,{align:"center",children:[(0,S.jsx)(o.Z,{value:m()(e).format("DD.MM.YY"),style:{scale:t?".67":".75"}}),s&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(l.Z.Text,{strong:!0,children:"-"}),(0,S.jsx)(o.Z,{value:m()(s).format("DD.MM.YY"),style:{scale:t?".67":".75"}})]})]}),I=e=>(0,S.jsx)(i.Z,{vertical:!0,align:"stretch",children:e&&(0,S.jsx)(d.Z,{color:e.color,children:(0,S.jsx)("span",{style:{margin:"auto",color:e.color,filter:"invert(1)"},children:e.name})})}),f=(e,t,s,n,r)=>(0,S.jsxs)(i.Z,{justify:"center",children:[(0,S.jsxs)(l.Z.Text,{strong:!0,type:"expense"===t?"danger":"success",style:{fontSize:s?"1.25em":"1.5em"},children:[(0,h.Rh)(n),Math.round(e[n])]}),r&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(l.Z.Text,{strong:!0,type:"expense"===t?"danger":"success",style:{fontSize:s?"1.25em":"1.5em"},children:"/"}),(0,S.jsxs)(l.Z.Text,{strong:!0,type:"expense"===t?"danger":"success",style:{fontSize:s?"1.25em":"1.5em"},children:[(0,h.Rh)(n),Math.round(r[n])]})]})]}),z=(e,t,s,n,l,i)=>(0,S.jsx)(r.Z,{placement:i,title:e,color:n?"#0005":void 0,children:(0,S.jsx)(s,{onClick:l,style:{scale:t?"1":"1.25"}})}),D=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},l=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;return(0,S.jsx)(r.Z,{color:"#0000",title:e?(0,S.jsxs)(i.Z,{vertical:!0,gap:s?4:8,children:[(0,S.jsx)(u.ZP,{onClick:l,size:s?"small":"middle",children:Z.Z.deleteSelected[t]}),a&&(0,S.jsx)(u.ZP,{onClick:a,size:s?"small":"middle",children:Z.Z.restoreSelected[t]})]}):"",children:(0,S.jsx)(p.Z,{onChange:n,checked:e})})},M=(e,t,s,n)=>(0,S.jsx)(j.Z,{size:n?"small":"middle",allowClear:!0,onChange:e,value:t,loading:s}),O=(e,t,s)=>t?(0,S.jsxs)(S.Fragment,{children:["".concat(Z.Z.createdAt[s]," ").concat(m()(e).format("HH:mm:ss DD.MM.YY")),(0,S.jsx)("br",{}),"".concat(Z.Z.updatedAt[s]," ").concat(m()(t).format("HH:mm:ss DD.MM.YY"))]}):(0,S.jsx)(S.Fragment,{children:"".concat(Z.Z.createdAt[s]," ").concat(m()(e).format("HH:mm:ss DD.MM.YY"))})},6246:(e,t,s)=>{s.d(t,{Z:()=>C});var n=s(2791),l=s(6220),i=s(7201),r=s(914),a=s(3936),c=s(7257),o=s(4320),d=s(8807),u=s(594),p=s(7703),Z=s(8416),x=s(3475),m=s(7892),h=s.n(m),j=s(7857),y=s(2622),g=s(1752),S=s(9966),v=s(184);const C=(0,c.Pi)((e=>{let{mode:t,initialItem:s,deleteAll:c,handleSelection:m,selected:C,disabled:b,transparent:k}=e;const{isSmallScreen:I}=d.userStore,{replaceItem:f,setLastDeletedItemIds:z,lastDeletedItemIds:D,list:M}=o.listStore,{userOptions:O}=p.optionsStore,{categories:J}=x.categoryStore,{currency:w,language:P}=O,[F,Y]=(0,n.useState)(!1),[E,A]=(0,n.useState)(M[s.id]),{type:L,date:T,title:H,categoryId:N,price:R,image:$,createdAt:V,updatedAt:W}=E,q=(0,n.useCallback)((()=>{Y((e=>!e))}),[Y]),B=(0,n.useCallback)((e=>{A((t=>{if(JSON.stringify(t)!==JSON.stringify(e)){const t={...e,updatedAt:h()().valueOf()};return f(s.id,t),t}return t})),q()}),[A,f,q,s.id]),U=(0,n.useCallback)((()=>{z([...D,s.id])}),[z,s.id,D]),X=(0,v.jsxs)(i.Z,{justify:"space-evenly",children:[(0,j.$m)(C,P,I,m,c),(0,j.J1)(Z.Z.delete[P],I,y.Z,!1,U),(0,j.JN)(R,L,I,w),(0,j.J1)(Z.Z.edit[P],I,g.Z,!1,q),(0,j.J1)((0,j.Zi)(V,W,P),I,S.Z,!1)]});return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(u.Z,{opened:F,initialItemId:s.id,toggleOpened:q,submitItem:B}),"list"===t?(0,v.jsxs)(l.Z,{style:{pointerEvents:b?"none":"auto",opacity:k?".5":"1"},children:[(0,v.jsx)(r.Z,{span:1,children:(0,j.$m)(C,P,I,m,c)}),(0,v.jsx)(r.Z,{span:1,children:(0,j.Vh)($,I,P,q)}),(0,v.jsx)(r.Z,{span:3,children:(0,j.IX)(T,I)}),(0,v.jsx)(r.Z,{span:7,children:(0,j.I$)(H,L,I,P,!1,s.overlaps)}),(0,v.jsx)(r.Z,{span:4,children:(0,j.o5)(J[N])}),(0,v.jsx)(r.Z,{span:4,children:(0,j.JN)(R,L,I,w)}),(0,v.jsx)(r.Z,{span:1,children:(0,j.J1)(Z.Z.edit[P],I,g.Z,!1,q)}),(0,v.jsx)(r.Z,{span:1,children:(0,j.J1)(Z.Z.delete[P],I,y.Z,!1,U)}),(0,v.jsx)(r.Z,{span:1,children:(0,j.J1)((0,j.Zi)(V,W,P),I,S.Z,!1)})]}):(0,v.jsx)(a.Z,{styles:{title:{fontWeight:"400"}},size:"small",bordered:!0,title:(0,j.I$)(H,L,I,P,!1,s.overlaps),actions:[X],style:{inlineSize:I?"10em":"13em",pointerEvents:b?"none":"auto",opacity:k?".5":"1"},children:(0,v.jsx)(i.Z,{justify:"center",children:(0,v.jsxs)(i.Z,{vertical:!0,align:"stretch",gap:4,children:[(0,v.jsxs)(i.Z,{align:"center",children:[(0,j.Vh)($,I,P,q),(0,j.IX)(T,I)]}),(0,j.o5)(J[N])]})})})]})}))},6201:(e,t,s)=>{s.d(t,{Z:()=>u});var n=s(9596),l=s(8341),i=s(2143),r=s(4248),a=s(7257),c=s(2791),o=s(8807),d=s(184);const u=(0,a.Pi)((e=>{let{type:t,onChange:s,extra:a}=e;const{isSmallScreen:u}=o.userStore,p=(0,c.useMemo)((()=>{const e=[{label:(0,d.jsx)(n.Z,{}),value:"expense"},{label:(0,d.jsx)(l.Z,{}),value:"income"}];return a&&e.splice(1,0,{label:(0,d.jsx)(i.Z,{}),value:"all"}),e}),[a]);return(0,d.jsx)(r.Z,{size:u?"small":"middle",value:t,onChange:s,options:p})}))}}]);
//# sourceMappingURL=650.333b71aa.chunk.js.map