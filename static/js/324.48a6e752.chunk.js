"use strict";(self.webpackChunkfinance_tracker=self.webpackChunkfinance_tracker||[]).push([[324],{4324:(e,s,t)=>{t.r(s),t.d(s,{default:()=>P});var l=t(7201),r=t(4664),n=t(6051),i=t(914),a=t(6220),o=t(7257),c=t(2791),d=t(8416),u=t(7703),Z=t(8807),h=t(2622),p=t(2864),y=t(9966),j=t(8030),x=t(3475),g=t(7857),S=t(8418),f=t(7892),m=t.n(f),v=t(8650),b=t(184);const E=(0,o.Pi)((e=>{let{query:s}=e;const{restoreCategory:t,deleteCategory:l,categories:o}=x.categoryStore,{isSmallScreen:f}=Z.userStore,{userOptions:E}=u.optionsStore,{language:k}=E,[C,I]=(0,c.useState)([]),M=(0,c.useMemo)((()=>Object.keys(o).reduce(((e,t)=>{if(!0===o[t].deleted){const l=(0,S.yC)(s,o[t].name);if(0!==(null===l||void 0===l?void 0:l.length))return[...e,{id:t,overlaps:l}]}return e}),[])),[o,s]),A=(0,c.useCallback)((()=>{I((e=>(e.forEach((e=>{l(e)})),[])))}),[l]),J=(0,c.useCallback)((()=>{I((e=>(e.forEach((e=>{t(e)})),[])))}),[t]),q=(0,c.useCallback)((e=>s=>{const t=s.target.checked;I(t?s=>[...s,e]:s=>s.filter((s=>s!==e)))}),[I]);return M.length?(0,b.jsx)(n.Z,{style:{inlineSize:"100%"},children:M.map((e=>{let{id:s,overlaps:r}=e;const n=o[s];return(0,b.jsxs)(a.Z,{style:{opacity:C.length&&!C.includes(s)?".5":"1"},children:[(0,b.jsx)(i.Z,{span:1,children:(u=s,Z=q,(0,g.$m)(C.includes(u),k,f,Z(u),A,J))}),(0,b.jsx)(i.Z,{span:16,children:(0,g.I$)(null===n||void 0===n?void 0:n.name,null===n||void 0===n?void 0:n.type,f,k,!1,r)}),(0,b.jsx)(i.Z,{span:1,children:(0,g.J1)((0,b.jsx)(v.Z,{initialCategoryId:s,disabled:!0}),f,p.Z,!0)}),(0,b.jsx)(i.Z,{span:1,children:(0,g.J1)("".concat(d.Z.deletedAt[k],": ").concat(m()(null===n||void 0===n?void 0:n.deletedAt).format("HH:mm:ss DD.MM.YY")),f,y.Z,!1)}),(0,b.jsx)(i.Z,{span:1,children:(0,g.J1)(d.Z.restore[k],f,j.Z,!1,(()=>t(s)))}),(0,b.jsx)(i.Z,{span:1,children:(c=()=>l(s),(0,g.J1)(d.Z.delete[E.language],f,h.Z,!1,c))})]},s);var c,u,Z}))}):(0,b.jsx)(r.Z,{style:{margin:"auto"},image:r.Z.PRESENTED_IMAGE_SIMPLE,description:""})}));var k=t(4320),C=t(6246);const I=(0,o.Pi)((e=>{let{query:s}=e;const{list:t,restoreItem:l,deleteItem:o}=k.listStore,{isSmallScreen:x}=Z.userStore,{userOptions:f}=u.optionsStore,{language:v}=f,[E,I]=(0,c.useState)([]),M=(0,c.useMemo)((()=>Object.keys(t).reduce(((e,l)=>{if(!0===t[l].deleted){const r=(0,S.yC)(s,t[l].title);if(0!==(null===r||void 0===r?void 0:r.length))return[...e,{id:l,overlaps:r}]}return e}),[])),[t,s]),A=(0,c.useCallback)((()=>{I((e=>(e.forEach((e=>{o(e)})),[])))}),[o]),J=(0,c.useCallback)((()=>{I((e=>(e.forEach((e=>{l(e)})),[])))}),[l]),q=(0,c.useCallback)((e=>s=>{const t=s.target.checked;I(t?s=>[...s,e]:s=>s.filter((s=>s!==e)))}),[I]);return M.length?(0,b.jsx)(n.Z,{style:{inlineSize:"100%"},children:M.map((e=>{let{id:s,overlaps:r}=e;const n=t[s];return(0,b.jsxs)(a.Z,{style:{opacity:E.length&&!E.includes(s)?".5":"1"},children:[(0,b.jsx)(i.Z,{span:1,children:(u=s,Z=q,(0,g.$m)(E.includes(u),v,x,Z(u),A,J))}),(0,b.jsx)(i.Z,{span:16,children:(0,g.I$)(null===n||void 0===n?void 0:n.title,null===n||void 0===n?void 0:n.type,x,v,!1,r)}),(0,b.jsx)(i.Z,{span:1,children:(0,g.J1)((0,b.jsx)(C.Z,{initialItem:{id:s,overlaps:r},mode:"grid",selected:E.includes(s),disabled:!0}),x,p.Z,!0)}),(0,b.jsx)(i.Z,{span:1,children:(0,g.J1)("".concat(d.Z.deletedAt[v],": ").concat(m()(null===n||void 0===n?void 0:n.deletedAt).format("HH:mm:ss DD.MM.YY")),x,y.Z,!1)}),(0,b.jsx)(i.Z,{span:1,children:(0,g.J1)(d.Z.restore[v],x,j.Z,!1,(()=>l(s)))}),(0,b.jsx)(i.Z,{span:1,children:(c=()=>o(s),(0,g.J1)(d.Z.delete[f.language],x,h.Z,!1,c))})]},s);var c,u,Z}))}):(0,b.jsx)(r.Z,{style:{margin:"auto"},image:r.Z.PRESENTED_IMAGE_SIMPLE,description:""})}));var M=t(127),A=t(3663),J=t(1082),q=t(4248);const O=(0,o.Pi)((e=>{let{query:s,setQuery:t,debouncedQuery:r,isExpenses:n,setIsExpenses:i}=e;const{deleteItem:a,restoreItem:o,list:p}=k.listStore,{categories:y,deleteCategory:S,restoreCategory:f}=x.categoryStore,{isSmallScreen:m,tourRefs:v}=Z.userStore,{userOptions:E}=u.optionsStore,{language:C}=E,[I,O]=(0,c.useState)(!1),z=(0,c.useCallback)((()=>{Object.keys(p).forEach((e=>{p[e].deleted&&a(e)})),Object.keys(y).forEach((e=>{y[e].deleted&&S(e)}))}),[p,y,S,a]),D=(0,c.useCallback)((()=>{Object.keys(p).forEach((e=>{p[e].deleted&&o(e)})),Object.keys(y).forEach((e=>{y[e].deleted&&f(e)}))}),[p,y,f,o]),P=(0,c.useCallback)((e=>{t(e.target.value),O(!0)}),[t,O]);return(0,c.useEffect)((()=>{O(!1)}),[r]),(0,b.jsxs)(l.Z,{align:"center",gap:16,ref:v[5],style:{inlineSize:"100%"},children:[(0,b.jsx)(J.Z,{title:d.Z.deleteAllConfirm[C],onConfirm:z,children:(0,g.J1)(d.Z.deleteAll[C],m,h.Z,!1)}),(0,b.jsx)(J.Z,{title:d.Z.restoreAllConfirm[C],onConfirm:D,children:(0,g.J1)(d.Z.restoreAll[C],m,j.Z,!1)}),m&&(0,b.jsx)(q.Z,{onChange:i,value:n,options:[{label:(0,b.jsx)(M.Z,{}),value:!0},{label:(0,b.jsx)(A.Z,{}),value:!1}]}),(0,b.jsx)(l.Z,{style:{inlineSize:m?"100%":"50%"},children:(0,g.q8)(P,s,I,m)})]})}));var z=t(763),D=t(4878);const P=(0,o.Pi)((()=>{const{isSmallScreen:e,tourRefs:s}=Z.userStore,[t,r]=(0,c.useState)(""),[n,i]=(0,c.useState)(""),[a,o]=(0,c.useState)(!0),d=(0,c.useMemo)((()=>(0,z.debounce)((e=>i(e)),D.Z.optionsDebounceDelay)),[]);return(0,c.useEffect)((()=>(d(t),()=>{d.cancel()})),[t,d]),(0,b.jsxs)(l.Z,{vertical:!0,gap:e?16:32,children:[(0,b.jsx)(O,{query:t,setQuery:r,debouncedQuery:n,isExpenses:a,setIsExpenses:o}),(0,b.jsx)(l.Z,{ref:s[4],gap:e?16:32,style:{inlineSize:"100%"},children:e?a?(0,b.jsx)(I,{query:n}):(0,b.jsx)(E,{query:n}):(0,b.jsxs)(l.Z,{style:{inlineSize:"100%"},gap:32,children:[(0,b.jsx)(l.Z,{style:{inlineSize:"50%"},children:(0,b.jsx)(I,{query:n})}),(0,b.jsx)(l.Z,{style:{inlineSize:"50%"},children:(0,b.jsx)(E,{query:n})})]})})]})}))}}]);
//# sourceMappingURL=324.48a6e752.chunk.js.map