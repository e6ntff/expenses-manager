"use strict";(self.webpackChunkexpenses_manager=self.webpackChunkexpenses_manager||[]).push([[324],{4324:(e,s,l)=>{l.r(s),l.d(s,{default:()=>J});var t=l(7201),r=l(4664),n=l(6051),i=l(914),a=l(6220),c=l(7257),o=l(2791),d=l(8416),u=l(7703),Z=l(8807),x=l(2622),h=l(2864),j=l(9966),p=l(8030),g=l(3475),y=l(7857),m=l(8418),S=l(7892),f=l.n(S),v=l(8650),b=l(184);const E=(0,c.Pi)((e=>{let{query:s}=e;const{restoreCategory:l,deleteCategory:t,categories:c}=g.categoryStore,{isSmallScreen:S}=Z.userStore,{userOptions:E}=u.optionsStore,{language:C}=E,[k,I]=(0,o.useState)([]),M=(0,o.useMemo)((()=>Object.keys(c).reduce(((e,l)=>{if(!0===c[l].deleted){const t=(0,m.yC)(s,c[l].name);if(0!==(null===t||void 0===t?void 0:t.length))return[...e,{id:l,overlaps:t}]}return e}),[])),[c,s]),z=(0,o.useCallback)((()=>{I((e=>(e.forEach((e=>{t(e)})),[])))}),[t]),A=(0,o.useCallback)((()=>{I((e=>(e.forEach((e=>{l(e)})),[])))}),[l]),P=(0,o.useCallback)((e=>s=>{const l=s.target.checked;I(l?s=>[...s,e]:s=>s.filter((s=>s!==e)))}),[I]);return M.length?(0,b.jsx)(n.Z,{style:{inlineSize:"100%"},children:M.map((e=>{let{id:s,overlaps:r}=e;const n=c[s];return(0,b.jsxs)(a.Z,{children:[(0,b.jsx)(i.Z,{span:1,children:(u=s,Z=P,(0,y.$m)(k.includes(u),C,S,Z(u),z,A))}),(0,b.jsx)(i.Z,{span:16,children:(0,y.I$)(null===n||void 0===n?void 0:n.name,S,C,!1,r)}),(0,b.jsx)(i.Z,{span:1,children:(0,y.J1)((0,b.jsx)(v.Z,{initialCategoryId:s,disabled:!0}),S,h.Z,!0)}),(0,b.jsx)(i.Z,{span:1,children:(0,y.J1)("".concat(d.Z.deletedAt[C],": ").concat(f()(null===n||void 0===n?void 0:n.deletedAt).format("HH:mm:ss DD.MM.YY")),S,j.Z,!1)}),(0,b.jsx)(i.Z,{span:1,children:(0,y.J1)(d.Z.restore[C],S,p.Z,!1,(()=>l(s)))}),(0,b.jsx)(i.Z,{span:1,children:(o=()=>t(s),(0,y.J1)(d.Z.delete[E.language],S,x.Z,!1,o))})]},s);var o,u,Z}))}):(0,b.jsx)(r.Z,{style:{margin:"auto"},image:r.Z.PRESENTED_IMAGE_SIMPLE,description:""})}));var C=l(4320),k=l(6246);const I=(0,c.Pi)((e=>{let{query:s}=e;const{list:l,restoreItem:t,deleteItem:c}=C.listStore,{isSmallScreen:g}=Z.userStore,{userOptions:S}=u.optionsStore,{language:v}=S,[E,I]=(0,o.useState)([]),M=(0,o.useMemo)((()=>Object.keys(l).reduce(((e,t)=>{if(!0===l[t].deleted){const r=(0,m.yC)(s,l[t].title);if(0!==(null===r||void 0===r?void 0:r.length))return[...e,{id:t,overlaps:r}]}return e}),[])),[l,s]),z=(0,o.useCallback)((()=>{I((e=>(e.forEach((e=>{c(e)})),[])))}),[c]),A=(0,o.useCallback)((()=>{I((e=>(e.forEach((e=>{t(e)})),[])))}),[t]),P=(0,o.useCallback)((e=>s=>{const l=s.target.checked;I(l?s=>[...s,e]:s=>s.filter((s=>s!==e)))}),[I]);return M.length?(0,b.jsx)(n.Z,{style:{inlineSize:"100%"},children:M.map((e=>{let{id:s,overlaps:r}=e;const n=l[s];return(0,b.jsxs)(a.Z,{children:[(0,b.jsx)(i.Z,{span:1,children:(u=s,Z=P,(0,y.$m)(E.includes(u),v,g,Z(u),z,A))}),(0,b.jsx)(i.Z,{span:16,children:(0,y.I$)(null===n||void 0===n?void 0:n.title,g,v,!1,r)}),(0,b.jsx)(i.Z,{span:1,children:(0,y.J1)((0,b.jsx)(k.Z,{initialItem:{id:s,overlaps:r},mode:"grid",selected:E.includes(s),disabled:!0}),g,h.Z,!0)}),(0,b.jsx)(i.Z,{span:1,children:(0,y.J1)("".concat(d.Z.deletedAt[v],": ").concat(f()(null===n||void 0===n?void 0:n.deletedAt).format("HH:mm:ss DD.MM.YY")),g,j.Z,!1)}),(0,b.jsx)(i.Z,{span:1,children:(0,y.J1)(d.Z.restore[v],g,p.Z,!1,(()=>t(s)))}),(0,b.jsx)(i.Z,{span:1,children:(o=()=>c(s),(0,y.J1)(d.Z.delete[S.language],g,x.Z,!1,o))})]},s);var o,u,Z}))}):(0,b.jsx)(r.Z,{style:{margin:"auto"},image:r.Z.PRESENTED_IMAGE_SIMPLE,description:""})}));var M=l(1431),z=l(1082),A=l(2556),P=l(4248);const q=(0,c.Pi)((e=>{let{query:s,setQuery:l,debouncedQuery:r,isExpenses:n,setIsExpenses:i}=e;const{deleteItem:a,restoreItem:c,list:h}=C.listStore,{categories:j,deleteCategory:m,restoreCategory:S}=g.categoryStore,{isSmallScreen:f,tourRefs:v}=Z.userStore,{userOptions:E}=u.optionsStore,{language:k}=E,[I,q]=(0,o.useState)(!1),O=(0,o.useCallback)((()=>{Object.keys(h).forEach((e=>{h[e].deleted&&a(e)})),Object.keys(j).forEach((e=>{j[e].deleted&&m(e)}))}),[h,j,m,a]),D=(0,o.useCallback)((()=>{Object.keys(h).forEach((e=>{h[e].deleted&&c(e)})),Object.keys(j).forEach((e=>{j[e].deleted&&S(e)}))}),[h,j,S,c]),J=(0,o.useCallback)((e=>{l(e.target.value),q(!0)}),[l,q]);return(0,o.useEffect)((()=>{q(!1)}),[r]),(0,b.jsxs)(t.Z,{vertical:!0,gap:8,align:"end",children:[(0,b.jsxs)(t.Z,{gap:16,ref:v[5],style:{inlineSize:"100%"},children:[(0,b.jsx)(M.Z,{title:d.Z.deleteAll[k],children:(0,b.jsx)(z.Z,{title:d.Z.deleteAllConfirm[k],onConfirm:O,children:(0,b.jsx)(A.ZP,{size:f?"small":"middle",children:(0,b.jsx)(x.Z,{style:{scale:f?"1":"1.5"}})})})}),(0,b.jsx)(M.Z,{title:d.Z.restoreAll[k],children:(0,b.jsx)(z.Z,{title:d.Z.restoreAllConfirm[k],onConfirm:D,children:(0,b.jsx)(A.ZP,{size:f?"small":"middle",children:(0,b.jsx)(p.Z,{style:{scale:f?"1":"1.5"}})})})}),(0,b.jsx)(t.Z,{style:{inlineSize:f?"100%":"50%"},children:(0,y.q8)(J,s,I,f)})]}),f&&(0,b.jsx)(P.Z,{onChange:i,value:n,options:[{label:d.Z.expenses[k],value:!0},{label:d.Z.categories[k],value:!1}]})]})}));var O=l(763),D=l(4878);const J=(0,c.Pi)((()=>{const{isSmallScreen:e,tourRefs:s}=Z.userStore,[l,r]=(0,o.useState)(""),[n,i]=(0,o.useState)(""),[a,c]=(0,o.useState)(!0),d=(0,o.useMemo)((()=>(0,O.debounce)((e=>i(e)),D.Z.optionsDebounceDelay)),[]);return(0,o.useEffect)((()=>(d(l),()=>{d.cancel()})),[l,d]),(0,b.jsxs)(t.Z,{vertical:!0,gap:e?16:32,children:[(0,b.jsx)(q,{query:l,setQuery:r,debouncedQuery:n,isExpenses:a,setIsExpenses:c}),(0,b.jsx)(t.Z,{ref:s[4],gap:e?16:32,style:{inlineSize:"100%"},children:e?a?(0,b.jsx)(I,{query:n}):(0,b.jsx)(E,{query:n}):(0,b.jsxs)(t.Z,{style:{inlineSize:"100%"},gap:32,children:[(0,b.jsx)(t.Z,{style:{inlineSize:"50%"},children:(0,b.jsx)(I,{query:n})}),(0,b.jsx)(t.Z,{style:{inlineSize:"50%"},children:(0,b.jsx)(E,{query:n})})]})})]})}))}}]);
//# sourceMappingURL=324.1c74b6fc.chunk.js.map