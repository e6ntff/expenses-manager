"use strict";(self.webpackChunkfinance_tracker=self.webpackChunkfinance_tracker||[]).push([[305],{7857:(e,t,n)=>{n.d(t,{$m:()=>M,I$:()=>C,IX:()=>D,J1:()=>z,JN:()=>b,Vh:()=>S,Zi:()=>T,o5:()=>k,q8:()=>I});var l=n(1635),s=n(5563),a=n(7201),r=n(1431),i=n(8633),c=n(9367),o=n(1429),d=n(952),h=n(2556),x=n(7338),u=n(8416),m=n(7892),g=n.n(m),j=n(8418),Z=(n(2791),n(2603)),y=n(4191),f=n.n(y),p=n(184);const v=(e,t,n,l,a,r)=>" "===e?(0,p.jsx)(p.Fragment,{children:"\xa0"}):(0,p.jsx)(s.Z.Text,{type:"expense"===t?"danger":"success",style:{fontSize:l?"1em":"1.25em"},editable:a,ellipsis:!0,strong:n,children:e},r||0),C=(e,t,n,l,s,r)=>{const i=r?e.split("").map(((e,l)=>{const a=r.some((e=>{let[t,n]=e;return l>=t&&l<=n}));return v(e,t,a,n,s,l)})):[v(e||u.Z.noTitle[l],t,!1,n,s)];return(0,p.jsx)(a.Z,{justify:"center",style:{inlineSize:"100%",opacity:e?"1":".5"},children:i},f()())},S=(e,t,n,s)=>e?(0,p.jsx)(r.Z,{color:"#0005",placement:"right",title:!e.startsWith("#")&&(0,p.jsx)(i.Z,{preview:!1,src:e,style:{borderRadius:"50%",inlineSize:"100%",blockSize:"100%",objectFit:"cover"}}),children:(0,p.jsx)(c.C,{style:{cursor:"pointer",background:e.startsWith("#")?e:"unset"},size:t?"small":"default",icon:(0,p.jsx)(a.Z,{style:{inlineSize:"100%",blockSize:"100%",objectFit:"cover"},children:!e.startsWith("#")&&(0,p.jsx)(i.Z,{preview:!1,src:e,style:{inlineSize:"100%",blockSize:"100%",objectFit:"cover"}})})})}):(0,p.jsx)(r.Z,{title:u.Z.noImage[n],children:(0,p.jsx)(c.C,{style:{cursor:"pointer"},onClick:s,icon:(0,p.jsx)(l.Z,{})})}),D=(e,t,n)=>(0,p.jsxs)(a.Z,{align:"center",children:[(0,p.jsx)(o.Z,{value:g()(e).format("DD.MM.YY"),style:{scale:t?".67":".75"}}),n&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s.Z.Text,{strong:!0,children:"-"}),(0,p.jsx)(o.Z,{value:g()(n).format("DD.MM.YY"),style:{scale:t?".67":".75"}})]})]}),k=e=>(0,p.jsx)(a.Z,{vertical:!0,align:"stretch",children:e&&(0,p.jsx)(d.Z,{color:e.color,children:(0,p.jsx)("span",{style:{margin:"auto",color:e.color,filter:"invert(1)"},children:e.name})})}),b=(e,t,n,l,r)=>(0,p.jsxs)(a.Z,{justify:"center",children:[(0,p.jsxs)(s.Z.Text,{strong:!0,type:"expense"===t?"danger":"success",style:{fontSize:n?"1.25em":"1.5em"},children:[(0,j.Rh)(l),Math.round(e[l])]}),r&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s.Z.Text,{strong:!0,type:"expense"===t?"danger":"success",style:{fontSize:n?"1.25em":"1.5em"},children:"/"}),(0,p.jsxs)(s.Z.Text,{strong:!0,type:"expense"===t?"danger":"success",style:{fontSize:n?"1.25em":"1.5em"},children:[(0,j.Rh)(l),Math.round(r[l])]})]})]}),z=(e,t,n,l,s,a)=>(0,p.jsx)(r.Z,{placement:a,title:e,color:l?"#0005":void 0,children:(0,p.jsx)(n,{onClick:s,style:{scale:t?"1":"1.25"}})}),M=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return(0,p.jsx)(r.Z,{color:"#0000",title:e?(0,p.jsxs)(a.Z,{vertical:!0,gap:n?4:8,children:[(0,p.jsx)(h.ZP,{onClick:s,size:n?"small":"middle",children:u.Z.deleteSelected[t]}),i&&(0,p.jsx)(h.ZP,{onClick:i,size:n?"small":"middle",children:u.Z.restoreSelected[t]})]}):"",children:(0,p.jsx)(x.Z,{onChange:l,checked:e})})},I=(e,t,n,l)=>(0,p.jsx)(Z.Z,{size:l?"small":"middle",allowClear:!0,onChange:e,value:t,loading:n}),T=(e,t,n)=>t?(0,p.jsxs)(p.Fragment,{children:["".concat(u.Z.createdAt[n]," ").concat(g()(e).format("HH:mm:ss DD.MM.YY")),(0,p.jsx)("br",{}),"".concat(u.Z.updatedAt[n]," ").concat(g()(t).format("HH:mm:ss DD.MM.YY"))]}):(0,p.jsx)(p.Fragment,{children:"".concat(u.Z.createdAt[n]," ").concat(g()(e).format("HH:mm:ss DD.MM.YY"))})},2305:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Y});var l=n(7201),s=n(1468),a=n(5563),r=n(4587),i=n(3887),c=n(3936),o=n(7257),d=n(2791),h=n(7857),x=n(8416),u=n(7892),m=n.n(u),g=n(7703),j=n(8807),Z=n(2622),y=n(9966),f=n(7575),p=n(1752),v=n(6370),C=n(4878),S=n(8418),D=n(184);const k=(0,o.Pi)((e=>{let{initialGoalId:t,handleMoneyChange:n,handleDateChange:o,handleTitleChange:u}=e;const{isSmallScreen:k}=j.userStore,{userOptions:b}=g.optionsStore,{goals:z,lastDeletedGoalIds:M,setLastDeletedGoalIds:I,replaceGoal:T}=v.default,{language:G,currency:Y}=b,[O,F]=(0,d.useState)(z[t]),{title:R,date:w,money:A,createdAt:H,updatedAt:J}=O,[P,W]=(0,d.useState)(!1),$=(0,d.useCallback)((()=>{W((e=>(e&&T(t,O),!e)))}),[W,T,O,t]),N=(0,d.useCallback)((()=>{I([...M,t])}),[I,t,M]),U=()=>{var e;const t=w.start<m()().valueOf(),n=t?(m()().valueOf()-w.start)/(w.end-w.start)*100:(m()().valueOf()-H)/(w.start-H)*100,i=null===(e=[[t?m()(w.end).diff(m()(),"day"):m()(w.start).diff(m()(),"day")," d"],[t?m()(w.end).diff(m()(),"hour"):m()(w.start).diff(m()(),"hour")," h"],[t?m()(w.end).diff(m()(),"minute"):m()(w.start).diff(m()(),"minute")," m"]].find((e=>e[0]>0)))||void 0===e?void 0:e.join("");return(0,D.jsxs)(l.Z,{gap:k?16:32,align:"center",children:[(0,D.jsxs)(l.Z,{vertical:!0,align:"center",gap:8,style:{inlineSize:"100%"},children:[(0,D.jsx)(r.Z,{size:k?"small":"default",percent:A.collected.USD/A.total.USD*100,format:e=>"".concat(Math.round(e),"%")}),(0,D.jsx)(l.Z,{children:P?(0,D.jsxs)(l.Z,{align:"center",gap:4,children:[(0,D.jsx)(s.Z,{onChange:e=>{o(e,"start",F)},value:m()(w.start),size:k?"small":"middle",minDate:C.Z.startDate,maxDate:C.Z.endDate}),(0,D.jsx)(a.Z.Text,{strong:!0,children:"-"}),(0,D.jsx)(s.Z,{onChange:e=>{o(e,"end",F)},value:m()(w.end),size:k?"small":"middle",minDate:m()(w.start),maxDate:C.Z.endDate})]}):(0,h.IX)(w.start,k,w.end)})]}),(0,D.jsx)(r.Z,{status:t?"exception":"active",type:"circle",size:"small",percent:n,format:()=>i})]})},X=(0,D.jsxs)(l.Z,{justify:"space-evenly",children:[(0,h.J1)(x.Z.delete[G],k,Z.Z,!1,N),P?(0,D.jsxs)(l.Z,{gap:8,align:"center",children:[(0,D.jsx)(i.Z,{formatter:e=>"".concat((0,S.Rh)(Y)).concat(e),value:A.collected[Y],onChange:e=>n(e,"collected",F)}),(0,D.jsx)(a.Z.Text,{strong:!0,children:"/"}),(0,D.jsx)(i.Z,{formatter:e=>"".concat((0,S.Rh)(Y)).concat(e),value:A.total[Y],onChange:e=>n(e,"total",F)})]}):(0,h.JN)(A.collected,"expense",k,Y,A.total),(0,h.J1)((0,h.Zi)(H,J,G),k,y.Z,!1,void 0)]});return(0,D.jsx)(c.Z,{title:(0,h.I$)(R,"expense",k,G,!!P&&{onChange:e=>u(e,F)}),extra:(0,h.J1)(x.Z.edit[G],k,P?f.Z:p.Z,!1,$),styles:{actions:{alignItems:"center"}},actions:[X],style:{inlineSize:"100%"},children:(0,D.jsx)(U,{})})}));var b=n(4352),z=n(3070),M=n(4133),I=n(2556);const T=(0,o.Pi)((e=>{let{handleMoneyChange:t,handleDateChange:n,handleTitleChange:r}=e;const{isSmallScreen:c}=j.userStore,{addGoal:o}=v.default,{userOptions:h}=g.optionsStore,{currency:u,language:Z}=h,[y,p]=(0,d.useState)([]),[k,T]=(0,d.useState)(C.Z.emptyGoal),G=(0,d.useCallback)((()=>{y.length?(p([]),T(C.Z.emptyGoal)):p(["0"])}),[p,y]),Y=(0,d.useCallback)((()=>{const e=m()().valueOf();o({...k,createdAt:e}),G()}),[o,G,k]);return(0,D.jsx)(b.Z,{style:{inlineSize:c?"25em":"35em"},ghost:!0,onChange:G,activeKey:y,items:[{key:"0",label:x.Z.newGoal[Z],children:(0,D.jsxs)(z.Z,{children:[(0,D.jsx)(z.Z.Item,{children:(0,D.jsx)(M.Z,{value:k.title,onChange:e=>r(e.target.value,T)})}),(0,D.jsxs)(z.Z.Item,{children:[(0,D.jsx)(s.Z,{onChange:e=>n(e,"start",T)}),(0,D.jsx)(a.Z.Text,{strong:!0,children:" - "}),(0,D.jsx)(s.Z,{onChange:e=>n(e,"end",T)})]}),(0,D.jsx)(z.Z.Item,{children:(0,D.jsxs)(l.Z,{justify:"space-between",children:[(0,D.jsxs)(l.Z,{gap:8,align:"center",children:[(0,D.jsx)(i.Z,{formatter:e=>"".concat((0,S.Rh)(u)).concat(e),value:k.money.collected[u],onChange:e=>t(e,"collected",T)}),(0,D.jsx)(a.Z.Text,{strong:!0,children:"/"}),(0,D.jsx)(i.Z,{formatter:e=>"".concat((0,S.Rh)(u)).concat(e),value:k.money.total[u],onChange:e=>t(e,"total",T)})]}),(0,D.jsx)(I.ZP,{disabled:!k.title,onClick:()=>Y(),children:(0,D.jsx)(f.Z,{})})]})})]})}]})}));var G=n(1457);const Y=(0,o.Pi)((()=>{const{isSmallScreen:e,currencyRates:t}=j.userStore,{goals:n,lastDeletedGoalIds:s}=v.default,{userOptions:a}=g.optionsStore,{currency:r}=a,i=(0,d.useCallback)(((e,t)=>{t((t=>({...t,title:e})))}),[]),c=(0,d.useCallback)(((e,n,l)=>{l((l=>{const s={...l,money:{...l.money,[n]:{...l.money[n],[r]:e}}};return{...s,money:{...s.money,[n]:(0,G.Z)(s.money[n],t,r)}}}))}),[r,t]),o=(0,d.useCallback)(((e,t,n)=>{n((n=>({...n,date:{...n.date,[t]:e.valueOf()}})))}),[]);return(0,D.jsxs)(l.Z,{style:{inlineSize:e?"25em":"35em",margin:"auto"},vertical:!0,gap:e?16:32,align:"center",children:[(0,D.jsx)(T,{handleMoneyChange:c,handleDateChange:o,handleTitleChange:i}),Object.keys(n).filter((e=>!s.includes(e))).map((e=>(0,D.jsx)(k,{initialGoalId:e,handleMoneyChange:c,handleDateChange:o,handleTitleChange:i},e)))]})}))}}]);
//# sourceMappingURL=305.f27a5413.chunk.js.map