"use strict";(self.webpackChunkfinance_tracker=self.webpackChunkfinance_tracker||[]).push([[324],{4324:(e,t,s)=>{s.r(t),s.d(t,{default:()=>_});var l=s(7201),n=s(4664),r=s(6051),i=s(914),a=s(6220),o=s(7257),c=s(2791),d=s(8416),u=s(7703),Z=s(8807),h=s(2622),p=s(2864),y=s(9966),j=s(8030),x=s(3475),g=s(7857),S=s(8418),m=s(7892),f=s.n(m),v=s(8650),k=s(184);const C=(0,o.Pi)((e=>{let{query:t}=e;const{restoreCategory:s,deleteCategory:l,categories:o}=x.categoryStore,{isSmallScreen:m}=Z.userStore,{userOptions:C}=u.optionsStore,{language:b}=C,[E,M]=(0,c.useState)([]),z=(0,c.useMemo)((()=>Object.keys(o).reduce(((e,s)=>{if(!0===o[s].deleted){const l=(0,S.yC)(t,o[s].name);if(0!==(null===l||void 0===l?void 0:l.length))return[...e,{id:s,overlaps:l}]}return e}),[])),[o,t]),I=(0,c.useCallback)((()=>{M((e=>(e.forEach((e=>{l(e)})),[])))}),[l]),q=(0,c.useCallback)((()=>{M((e=>(e.forEach((e=>{s(e)})),[])))}),[s]),O=(0,c.useCallback)((e=>t=>{const s=t.target.checked;M(s?t=>[...t,e]:t=>t.filter((t=>t!==e)))}),[M]);return z.length?(0,k.jsx)(r.Z,{style:{inlineSize:"100%"},children:z.map((e=>{let{id:t,overlaps:n}=e;const r=o[t];return(0,k.jsxs)(a.Z,{style:{opacity:E.length&&!E.includes(t)?".5":"1"},children:[(0,k.jsx)(i.Z,{span:1,children:(u=t,Z=O,(0,g.$m)(E.includes(u),b,m,Z(u),I,q))}),(0,k.jsx)(i.Z,{span:16,children:(0,g.I$)(null===r||void 0===r?void 0:r.name,null===r||void 0===r?void 0:r.type,m,b,!1,n)}),(0,k.jsx)(i.Z,{span:1,children:(0,g.Mz)(p.Z,m,{small:!0,title:(0,k.jsx)(v.Z,{initialCategoryId:t,disabled:!0})})}),(0,k.jsx)(i.Z,{span:1,children:(0,g.Mz)(y.Z,m,{title:"".concat(d.Z.deletedAt[b],": ").concat(f()(null===r||void 0===r?void 0:r.deletedAt).format("HH:mm:ss DD.MM.YY"))})}),(0,k.jsx)(i.Z,{span:1,children:(0,g.Mz)(j.Z,m,{onClick:()=>s(t),title:d.Z.restore[b]})}),(0,k.jsx)(i.Z,{span:1,children:(c=()=>l(t),(0,g.Mz)(h.Z,m,{onClick:c,title:d.Z.delete[C.language]}))})]},t);var c,u,Z}))}):(0,k.jsx)(n.Z,{style:{margin:"auto"},image:n.Z.PRESENTED_IMAGE_SIMPLE,description:""})}));var b=s(4320),E=s(6246);const M=(0,o.Pi)((e=>{let{query:t}=e;const{list:s,restoreItem:l,deleteItem:o}=b.listStore,{isSmallScreen:x}=Z.userStore,{userOptions:m}=u.optionsStore,{language:v}=m,[C,M]=(0,c.useState)([]),z=(0,c.useMemo)((()=>Object.keys(s).reduce(((e,l)=>{if(!0===s[l].deleted){const n=(0,S.yC)(t,s[l].title);if(0!==(null===n||void 0===n?void 0:n.length))return[...e,{id:l,overlaps:n}]}return e}),[])),[s,t]),I=(0,c.useCallback)((()=>{M((e=>(e.forEach((e=>{o(e)})),[])))}),[o]),q=(0,c.useCallback)((()=>{M((e=>(e.forEach((e=>{l(e)})),[])))}),[l]),O=(0,c.useCallback)((e=>t=>{const s=t.target.checked;M(s?t=>[...t,e]:t=>t.filter((t=>t!==e)))}),[M]);return z.length?(0,k.jsx)(r.Z,{style:{inlineSize:"100%"},children:z.map((e=>{let{id:t,overlaps:n}=e;const r=s[t];return(0,k.jsxs)(a.Z,{style:{opacity:C.length&&!C.includes(t)?".5":"1"},children:[(0,k.jsx)(i.Z,{span:1,children:(u=t,Z=O,(0,g.$m)(C.includes(u),v,x,Z(u),I,q))}),(0,k.jsx)(i.Z,{span:16,children:(0,g.I$)(null===r||void 0===r?void 0:r.title,null===r||void 0===r?void 0:r.type,x,v,!1,n)}),(0,k.jsx)(i.Z,{span:1,children:(0,g.Mz)(p.Z,x,{light:!0,title:(0,k.jsx)(E.Z,{initialItem:{id:t,overlaps:n},mode:"grid",selected:C.includes(t),disabled:!0})})}),(0,k.jsx)(i.Z,{span:1,children:(0,g.Mz)(y.Z,x,{title:"".concat(d.Z.deletedAt[v],": ").concat(f()(null===r||void 0===r?void 0:r.deletedAt).format("HH:mm:ss DD.MM.YY"))})}),(0,k.jsx)(i.Z,{span:1,children:(0,g.Mz)(j.Z,x,{onClick:()=>l(t),title:d.Z.restore[v]})}),(0,k.jsx)(i.Z,{span:1,children:(c=()=>o(t),(0,g.Mz)(h.Z,x,{onClick:c,title:d.Z.delete[m.language]}))})]},t);var c,u,Z}))}):(0,k.jsx)(n.Z,{style:{margin:"auto"},image:n.Z.PRESENTED_IMAGE_SIMPLE,description:""})}));var z=s(127),I=s(3663),q=s(1082),O=s(4248);const A=(0,o.Pi)((e=>{let{query:t,setQuery:s,debouncedQuery:n,isExpenses:r,setIsExpenses:i}=e;const{deleteItem:a,restoreItem:o,list:p}=b.listStore,{categories:y,deleteCategory:S,restoreCategory:m}=x.categoryStore,{isSmallScreen:f,tourRefs:v}=Z.userStore,{userOptions:C}=u.optionsStore,{language:E}=C,[M,A]=(0,c.useState)(!1),D=(0,c.useCallback)((()=>{Object.keys(p).forEach((e=>{p[e].deleted&&a(e)})),Object.keys(y).forEach((e=>{y[e].deleted&&S(e)}))}),[p,y,S,a]),P=(0,c.useCallback)((()=>{Object.keys(p).forEach((e=>{p[e].deleted&&o(e)})),Object.keys(y).forEach((e=>{y[e].deleted&&m(e)}))}),[p,y,m,o]),_=(0,c.useCallback)((e=>{s(e.target.value),A(!0)}),[s,A]);return(0,c.useEffect)((()=>{A(!1)}),[n]),(0,k.jsxs)(l.Z,{align:"center",gap:16,ref:v[5],style:{inlineSize:"100%"},children:[(0,k.jsx)(q.Z,{title:d.Z.deleteAllConfirm[E],onConfirm:D,children:(0,g.Mz)(h.Z,f,{})}),(0,k.jsx)(q.Z,{title:d.Z.restoreAllConfirm[E],onConfirm:P,children:(0,g.Mz)(j.Z,f,{})}),f&&(0,k.jsx)(O.Z,{onChange:i,value:r,options:[{label:(0,k.jsx)(z.Z,{}),value:!0},{label:(0,k.jsx)(I.Z,{}),value:!1}]}),(0,k.jsx)(l.Z,{style:{inlineSize:f?"100%":"50%"},children:(0,g.q8)(_,t,M,f)})]})}));var D=s(763),P=s(4878);const _=(0,o.Pi)((()=>{const{isSmallScreen:e,tourRefs:t}=Z.userStore,[s,n]=(0,c.useState)(""),[r,i]=(0,c.useState)(""),[a,o]=(0,c.useState)(!0),d=(0,c.useMemo)((()=>(0,D.debounce)((e=>i(e)),P.Z.optionsDebounceDelay)),[]);return(0,c.useEffect)((()=>(d(s),()=>{d.cancel()})),[s,d]),(0,k.jsxs)(l.Z,{vertical:!0,gap:e?16:32,children:[(0,k.jsx)(A,{query:s,setQuery:n,debouncedQuery:r,isExpenses:a,setIsExpenses:o}),(0,k.jsx)(l.Z,{ref:t[4],gap:e?16:32,style:{inlineSize:"100%"},children:e?a?(0,k.jsx)(M,{query:r}):(0,k.jsx)(C,{query:r}):(0,k.jsxs)(l.Z,{style:{inlineSize:"100%"},gap:32,children:[(0,k.jsx)(l.Z,{style:{inlineSize:"50%"},children:(0,k.jsx)(M,{query:r})}),(0,k.jsx)(l.Z,{style:{inlineSize:"50%"},children:(0,k.jsx)(C,{query:r})})]})})]})}))}}]);
//# sourceMappingURL=324.8fa195ab.chunk.js.map