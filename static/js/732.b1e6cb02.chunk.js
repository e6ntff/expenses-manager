"use strict";(self.webpackChunkfinance_tracker=self.webpackChunkfinance_tracker||[]).push([[732],{7857:(e,s,t)=>{t.d(s,{$m:()=>w,Dr:()=>F,I$:()=>C,IX:()=>k,JN:()=>M,Mz:()=>I,Vh:()=>b,Zi:()=>q,o5:()=>z,q8:()=>O});var l=t(1635),n=t(5563),i=t(7201),r=t(4231),o=t(8633),c=t(9367),a=t(1429),u=t(952),d=t(2556),m=t(7338),h=t(126),v=t(8416),j=t(7892),Z=t.n(j),x=t(8418),y=(t(2791),t(2603)),S=t(4191),g=t.n(S),f=t(184);const p=(e,s,t,l,i,r)=>" "===e?(0,f.jsx)(f.Fragment,{children:"\xa0"}):(0,f.jsx)(n.Z.Text,{type:s?"expense"===s?"danger":"success":void 0,style:{fontSize:l?"1em":"1.25em"},editable:i,ellipsis:!0,strong:t,children:e},r||0),C=(e,s,t,l,n,r)=>{const o=r?null===e||void 0===e?void 0:e.split("").map(((e,l)=>{const i=r.some((e=>{let[s,t]=e;return l>=s&&l<=t}));return p(e,s,i,t,n,l)})):[p(e||l&&v.Z.noTitle[l],s,!1,t,n)];return(0,f.jsx)(i.Z,{style:{inlineSize:"min-content",opacity:e?"1":".5"},children:o},g()())},b=(e,s,t,n)=>e?(0,f.jsx)(r.Z,{color:"#0005",placement:"right",title:!e.startsWith("#")&&(0,f.jsx)(o.Z,{preview:!1,src:e,style:{borderRadius:"50%",inlineSize:"100%",blockSize:"100%",objectFit:"cover"}}),children:(0,f.jsx)(c.C,{style:{cursor:"pointer",background:e.startsWith("#")?e:"unset"},size:s?"small":"default",icon:(0,f.jsx)(i.Z,{style:{inlineSize:"100%",blockSize:"100%",objectFit:"cover"},children:!e.startsWith("#")&&(0,f.jsx)(o.Z,{preview:!1,src:e,style:{inlineSize:"100%",blockSize:"100%",objectFit:"cover"}})})})}):(0,f.jsx)(r.Z,{title:t?v.Z.noImage[t]:"",children:(0,f.jsx)(c.C,{style:{cursor:"pointer"},onClick:n,icon:(0,f.jsx)(l.Z,{})})}),k=(e,s,t)=>(0,f.jsxs)(i.Z,{align:"center",children:[(0,f.jsx)(a.Z,{value:Z()(e).format("DD.MM.YY"),style:{scale:s?".67":".75"}}),t&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(n.Z.Text,{strong:!0,children:"-"}),(0,f.jsx)(a.Z,{value:Z()(t).format("DD.MM.YY"),style:{scale:s?".67":".75"}})]})]}),z=e=>(0,f.jsx)(i.Z,{vertical:!0,align:"stretch",children:e&&(0,f.jsx)(u.Z,{color:e.color,children:(0,f.jsx)("span",{style:{margin:"auto",color:e.color,filter:"invert(1)"},children:e.name})})}),M=(e,s,t,l,r)=>(0,f.jsxs)(i.Z,{justify:"center",children:[(0,f.jsxs)(n.Z.Text,{strong:!0,type:"expense"===s?"danger":"success",style:{fontSize:t?"1.25em":"1.5em"},children:[(0,x.Rh)(l),Math.round(e[l])]}),r&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(n.Z.Text,{strong:!0,type:"expense"===s?"danger":"success",style:{fontSize:t?"1.25em":"1.5em"},children:"/"}),(0,f.jsxs)(n.Z.Text,{strong:!0,type:"expense"===s?"danger":"success",style:{fontSize:t?"1.25em":"1.5em"},children:[(0,x.Rh)(l),Math.round(r[l])]})]})]}),I=(e,s,t)=>{const{onClick:l,small:n,title:i,light:o,placement:a,trigger:u,avatar:d}=t;return(0,f.jsx)(r.Z,{trigger:u,placement:a,title:i,color:o?"#0000":void 0,overlayInnerStyle:{padding:o?"0":"",boxShadow:"none"},children:d?(0,f.jsx)(c.C,{style:{cursor:"pointer"},size:s?"small":"default",onClick:l,icon:(0,f.jsx)(e,{})}):(0,f.jsx)(e,{onClick:l,style:{scale:n?s?".75":"1":s?"1":"1.25"}})})},w=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},n=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return(0,f.jsx)(r.Z,{color:"#0000",title:e?(0,f.jsxs)(i.Z,{vertical:!0,gap:t?4:8,children:[(0,f.jsx)(d.ZP,{onClick:n,size:t?"small":"middle",children:v.Z.deleteSelected[s]}),o&&(0,f.jsx)(d.ZP,{onClick:o,size:t?"small":"middle",children:v.Z.restoreSelected[s]})]}):"",children:(0,f.jsx)(m.Z,{onChange:l,checked:e})})},O=(e,s,t,l)=>(0,f.jsx)(y.Z,{size:l?"small":"middle",allowClear:!0,onChange:e,value:s,loading:t}),q=(e,s,t)=>s?(0,f.jsxs)(f.Fragment,{children:["".concat(v.Z.createdAt[t]," ").concat(Z()(e).format("HH:mm:ss DD.MM.YY")),(0,f.jsx)("br",{}),"".concat(v.Z.updatedAt[t]," ").concat(Z()(s).format("HH:mm:ss DD.MM.YY"))]}):(0,f.jsx)(f.Fragment,{children:"".concat(v.Z.createdAt[t]," ").concat(Z()(e).format("HH:mm:ss DD.MM.YY"))}),F=(e,s,t,l,n)=>{const i=n?Object.keys(t).filter((e=>(null===n||void 0===n?void 0:n.members)&&!Object.keys(null===n||void 0===n?void 0:n.members).includes(e))):Object.keys(t);return(0,f.jsx)(h.Z,{mode:"multiple",size:e?"small":"middle",labelInValue:!0,onChange:s,showSearch:!0,value:l,style:{inlineSize:e?"10em":"15em"},options:i.map((e=>({value:e,label:e})))})}},6732:(e,s,t)=>{t.r(s),t.d(s,{default:()=>ve});var l=t(2995),n=t(6200),i=t(692),r=t(7257),o=t(2791),c=t(8416),a=t(7703),u=t(7201),d=t(6051),m=t(6220),h=t(1120),v=t(7857),j=t(8807),Z=t(6701),x=t(184);const y=(0,r.Pi)((e=>{let{selectedChatId:s,setCurrentChatId:t}=e;const{myUser:l}=h.communityStore,{user:n}=l;return(0,x.jsx)(d.Z,{children:(null===n||void 0===n?void 0:n.chats)&&Object.keys(null===n||void 0===n?void 0:n.chats).map((e=>(0,x.jsx)(S,{id:e,selected:s===e,setCurrentChatId:t},e)))})})),S=(0,r.Pi)((e=>{let{id:s,selected:t,setCurrentChatId:l}=e;const{isSmallScreen:n}=j.userStore,{userOptions:i}=a.optionsStore,[r,c]=(0,o.useState)(null);(0,o.useEffect)((()=>{(0,Z.FV)(s,c)}),[s]);const u=(0,o.useCallback)((()=>{l(s)}),[l,s]);return(0,x.jsx)(m.Z,{style:{opacity:t?".5":"1",cursor:"pointer",inlineSize:"100%"},onClick:u,children:(0,v.I$)(null===r||void 0===r?void 0:r.title,null,n,i.language,!1,void 0)})})),g=y;var f=t(3070),p=t(9469),C=t(732),b=t(7575),k=t(9286);const z=(0,r.Pi)((()=>{const{userOptions:e}=a.optionsStore,{isSmallScreen:s}=j.userStore,{language:t}=e,{myUser:l}=h.communityStore,{user:n,id:i}=l,[r,d]=(0,o.useState)({title:"",users:[]}),m=(0,o.useCallback)((e=>{d((s=>({...s,title:e.target.value})))}),[d]),y=(0,o.useCallback)(((e,s)=>{d((e=>({...e,users:[...e.users,Array.isArray(s)?s[0].value:s.value]})))}),[]),S=(0,o.useMemo)((()=>(0,x.jsxs)(f.Z,{size:s?"small":"middle",layout:"vertical",children:[(0,x.jsx)(f.Z.Item,{label:c.Z.title[t],children:(0,x.jsx)(p.Z,{required:!0,value:r.title,onInput:m})}),(0,x.jsx)(f.Z.Item,{children:(0,v.Dr)(s,y,null===n||void 0===n?void 0:n.friends,r.users)}),(0,x.jsxs)(u.Z,{justify:"space-between",children:[(0,x.jsx)(f.Z.Item,{children:(0,v.Mz)(C.Z,s,{onClick:()=>d({title:"",users:[]})})}),(0,x.jsx)(f.Z.Item,{children:(0,v.Mz)(b.Z,s,{onClick:()=>{(0,Z.P4)(i,r.title,r.users),d({title:"",users:[]})}})})]})]})),[s,m,y,r,t,null===n||void 0===n?void 0:n.friends,i]);return(0,x.jsxs)(u.Z,{justify:"space-between",children:[(0,v.I$)(c.Z.chats[t],null,s,t,!1),(0,v.Mz)(k.Z,s,{title:S,light:!0,placement:"bottomLeft",trigger:"click"})]})}));var M=t(7128),I=t(6641),w=t(7892),O=t.n(w),q=t(9335),F=t(1752),P=t(2622),R=t(4215),D=t(959),E=t(4423),U=t(3097),H=t(1678),T=t(2603);const Y=(0,r.Pi)((e=>{let{chatId:s,scrollbarsRef:t,stuck:l,hasNewMessages:n}=e;const{isSmallScreen:i}=j.userStore,{myUser:r,updates:c}=h.communityStore,{id:a}=r,[d,m]=(0,o.useState)(""),y=(0,o.useCallback)((e=>{m(e.target.value)}),[m]),S=(0,o.useCallback)((()=>{s&&(0,Z.bG)(a,s,d).then((()=>{var e;null===(e=t.current)||void 0===e||e.scrollToBottom(),m("")}))}),[a,s,d,t]),g=(0,o.useMemo)((()=>(0,v.Mz)(E.Z,i,{onClick:()=>{var e;return null===(e=t.current)||void 0===e?void 0:e.scrollToBottom()}})),[i,t]),f=(0,o.useMemo)((()=>(0,x.jsx)(T.Z,{value:d,onChange:y,enterButton:(0,x.jsx)(U.Z,{}),size:"large",onSearch:S})),[d,y,S]);return(0,x.jsxs)(u.Z,{style:{position:"relative",paddingInline:i?".5em":"1em"},children:[!l&&(0,x.jsx)(u.Z,{style:{position:"absolute",right:"0",bottom:"4em"},children:(0,x.jsx)(H.Z,{count:c.chat,children:g})}),f]})}));var B=t(1082),A=t(9372),$=t(7962),V=t(9966),W=t(711);const G=(0,r.Pi)((e=>{let{chatId:s,setCurrentChatId:t,setSelected:l}=e;const{userOptions:n}=a.optionsStore,{isSmallScreen:i}=j.userStore,{myUser:r}=h.communityStore,[d,m]=(0,o.useState)(),{user:y,id:S}=r,{language:g}=n;(0,o.useEffect)((()=>{(0,Z.FV)(s,m)}),[s]);const f=(0,o.useCallback)(((e,t)=>{Array.isArray(t)||(t=[t]),s&&(0,Z.zn)(s,t.map((e=>{let{value:s}=e;return s})))}),[s]),p=(0,o.useCallback)((()=>{t(null),d&&d&&(0,Z.GO)(s,null===d||void 0===d?void 0:d.members)}),[s,d,t]),C=(0,o.useCallback)((()=>{t(null),d&&(0,Z.TW)(S,s,null===d||void 0===d?void 0:d.members)}),[s,d,t,S]),b=(0,o.useMemo)((()=>(0,v.I$)((null===d||void 0===d?void 0:d.title)||"",null,i,g,!1,void 0)),[d,i,g]),z=(0,o.useMemo)((()=>(0,v.Mz)(A.Z,i,{onClick:()=>l((e=>(e.length||t(null),[])))})),[i,t,l]),M=(0,o.useMemo)((()=>(0,x.jsxs)(u.Z,{gap:i?4:8,children:[(0,v.Mz)(k.Z,i,{title:(0,v.Dr)(i,f,null===y||void 0===y?void 0:y.friends,null,d),light:!0,avatar:!0,placement:"bottom",trigger:"click"}),(0,x.jsx)(B.Z,{placement:"bottom",title:c.Z.exitChatConfirm[g],onConfirm:C,children:(0,v.Mz)($.Z,i,{avatar:!0})}),(0,x.jsx)(B.Z,{placement:"bottom",title:c.Z.deleteChatConfirm[g],onConfirm:p,children:(0,v.Mz)(P.Z,i,{avatar:!0})}),(0,v.Mz)(V.Z,i,{title:(0,v.Zi)(null===d||void 0===d?void 0:d.createdAt,void 0,g),placement:"bottom",avatar:!0})]})),[d,i,g,p,f,C,null===y||void 0===y?void 0:y.friends]),I=(0,o.useMemo)((()=>(0,v.Mz)(W.Z,i,{title:M,light:!0,placement:"left",trigger:"click"})),[i,M]);return(0,x.jsxs)(u.Z,{style:{inlineSize:"100%",paddingInline:i?".5em":"1em"},justify:"space-between",children:[z,b,s&&d&&I]})}));var N=t(3441);const J=(0,r.Pi)((e=>{let{chatId:s,setChatId:t}=e;const{isSmallScreen:l}=j.userStore,{messages:n,setMessages:i,onlineFriends:r,myUser:c}=h.communityStore,{id:a}=c,d=(0,o.useRef)(null),[m,v]=(0,o.useState)(!0),[y,S]=(0,o.useState)(!1),[g,f]=(0,o.useState)([]),p=(0,o.useCallback)((e=>{const s=e.top>=.99||e.clientHeight===e.scrollHeight;v(s),s&&S(!1)}),[v,S]),C=(0,o.useCallback)((e=>()=>{f((s=>[...s,e]))}),[f]),b=(0,o.useCallback)((e=>()=>{f((s=>s.filter((s=>s!==e))))}),[f]),k=(0,o.useCallback)((e=>()=>{(0,Z.XC)(s,e,a)}),[s,a]),z=(0,o.useCallback)((e=>t=>(0,Z.Hd)(s,e,t)),[s]),I=(0,o.useCallback)((e=>()=>(0,Z.$Z)(s,e)),[s]);return(0,o.useEffect)((()=>{let e=()=>{};return i({}),s&&(e=(0,Z.b6)(s,i)),()=>e&&e()}),[s]),(0,o.useEffect)((()=>{var e;null===(e=d.current)||void 0===e||e.scrollToBottom()}),[null===n]),(0,o.useEffect)((()=>{var e;S(!0),m&&(null===(e=d.current)||void 0===e||e.scrollToBottom())}),[n]),(0,x.jsxs)(x.Fragment,{children:[!l&&(0,x.jsx)(M.Z,{type:"vertical",style:{height:"unset",margin:0}}),(0,x.jsxs)(u.Z,{vertical:!0,style:{inlineSize:l?"100%":"75%",padding:"1em"},children:[(0,x.jsx)(G,{setSelected:f,chatId:s,setCurrentChatId:t}),(0,x.jsx)(M.Z,{}),(0,x.jsx)(q.ZP,{onUpdate:p,autoHide:!0,ref:d,children:(0,x.jsx)(u.Z,{vertical:!0,gap:l?8:16,children:n&&Object.keys(n).map((e=>(0,x.jsx)(L,{message:n[e],selected:g.includes(e),online:r[n[e].sender],select:C(e),deselect:b(e),view:k(e),edit:z(e),remove:I(e)},e)))})}),(0,x.jsx)(Y,{chatId:s,scrollbarsRef:d,stuck:m,hasNewMessages:y})]})]})})),L=(0,r.Pi)((e=>{let{message:s,selected:t,online:l,select:n,deselect:i,view:r,edit:c,remove:a}=e;const{isSmallScreen:d}=j.userStore,{sender:m,text:Z,sentAt:y}=s,{myUser:S}=h.communityStore,{id:g}=S,[f,p]=(0,o.useState)(!1),[k,z]=(0,o.useState)(Z),{ref:M,inView:w}=(0,N.YD)(),q=(0,o.useMemo)((()=>g===m),[g,m]);(0,o.useEffect)((()=>{w&&!q&&r()}),[w,q]),(0,o.useEffect)((()=>{z(Z)}),[Z]);const E=(0,o.useCallback)((()=>{p(!0)}),[p]),U=(0,o.useCallback)((()=>{p(!1),z(Z)}),[p,Z]),H=(0,o.useCallback)((()=>{p(!1),k!==Z&&c(k)}),[p,k,c,Z]),T=(0,o.useCallback)((e=>{z(e.target.value)}),[z]),Y=(0,o.useMemo)((()=>(0,v.Mz)(b.Z,d,{small:!0,onClick:H})),[H,d]),B=(0,o.useMemo)((()=>(0,v.Mz)(C.Z,d,{small:!0,onClick:U})),[U,d]),A=(0,o.useMemo)((()=>(0,v.Mz)(F.Z,d,{small:!0,onClick:E})),[E,d]),$=(0,o.useMemo)((()=>f?(0,x.jsxs)(u.Z,{children:[Y,B]}):A),[f,Y,B,A]),V=(0,o.useMemo)((()=>(0,v.Mz)(P.Z,d,{small:!0,onClick:a})),[d,a]),W=(0,o.useMemo)((()=>{const e=s.seenBy&&Object.keys(s.seenBy).map((e=>(0,x.jsx)("p",{children:e},e)));return s.seenBy?(0,v.Mz)(R.Z,d,{small:!0,title:(0,x.jsx)(u.Z,{vertical:!0,children:e}),placement:"left"}):(0,x.jsx)(x.Fragment,{})}),[s.seenBy,d]),G=(0,o.useMemo)((()=>(0,x.jsx)(D.Z,{style:{color:"#f00",fontSize:d?".33em":".5em"}})),[d]),J=(0,o.useMemo)((()=>(0,x.jsxs)(u.Z,{align:"center",gap:d?2:4,style:{flexDirection:q?"row":"row-reverse"},children:[l&&G,(0,v.I$)(m,null,d)]})),[m,d,q,G,l]),L=(0,o.useMemo)((()=>(0,x.jsxs)(u.Z,{children:[!f&&W,$,!f&&V]})),[$,V,f,W]),X=(0,o.useMemo)((()=>(0,x.jsxs)(u.Z,{ref:M,vertical:!0,align:q?"end":"start",children:[J,(0,x.jsx)(I.Z,{variant:f?"outlined":"filled",size:d?"small":"middle",autoSize:!0,showCount:{formatter:()=>O()(y).format("HH:mm")},styles:{count:{marginInlineEnd:"auto"}},style:{pointerEvents:f?"auto":"none",background:t?"#0003":""},value:k,onChange:T})]})),[f,d,y,q,t,k,T,J,M]);return(0,x.jsx)(u.Z,{onContextMenu:t?i:n,vertical:!0,align:q?"end":"start",style:{inlineSize:"100%"},children:(0,x.jsx)(u.Z,{align:"end",gap:d?2:4,style:{flexDirection:q?"row":"row-reverse"},children:(0,x.jsxs)(u.Z,{vertical:!0,gap:d?2:4,children:[X,q&&L]})})})})),X=J,_=(0,r.Pi)((()=>{const{isSmallScreen:e}=j.userStore,{communityOptions:s,setLastSelectedChatId:t}=a.optionsStore,{lastSelectedChatId:l}=s,[n,i]=(0,o.useState)(l);(0,o.useEffect)((()=>{t(n)}),[n]);const r=(0,o.useMemo)((()=>(0,x.jsxs)(u.Z,{vertical:!0,style:{inlineSize:n?e?"100%":"25%":"100%"},children:[(0,x.jsx)(z,{}),(0,x.jsx)(q.ZP,{autoHide:!0,children:(0,x.jsx)(g,{selectedChatId:n,setCurrentChatId:i})})]})),[i,n,e]);return(0,x.jsxs)(u.Z,{style:{blockSize:"75dvh"},children:[(e&&!n||!e)&&r,n&&(0,x.jsx)(X,{chatId:n,setChatId:i})]})}));var K=t(3142),Q=t(713),ee=t(126),se=t(763),te=t(4878);const le=(0,r.Pi)((()=>{const{isSmallScreen:e}=j.userStore,{myUser:s}=h.communityStore,[t,l]=(0,o.useState)(null),n=(0,o.useCallback)((e=>{(0,Z.oe)(e).then((()=>l(e))).catch((()=>l(null)))}),[]),i=(0,se.debounce)(n,te.Z.optionsDebounceDelay);return(0,x.jsx)(ee.Z,{size:e?"small":"middle",labelInValue:!0,showSearch:!0,onSearch:i,value:null,style:{inlineSize:e?"100%":"50%"},options:t!==s.id&&t?[{value:t,label:(0,x.jsx)(ne,{userId:t})}]:[]})})),ne=(0,r.Pi)((e=>{let{userId:s}=e;const{isSmallScreen:t,UID:l}=j.userStore,{userOptions:n}=a.optionsStore,{language:i}=n,{myUser:r}=h.communityStore,{id:o,user:d}=r;return(0,x.jsxs)(u.Z,{justify:"space-between",children:[s,Object.keys(null===d||void 0===d?void 0:d.sentFriendRequests).includes(o)||Object.keys(null===d||void 0===d?void 0:d.friends).includes(o)?(0,v.Mz)(Object.keys(null===d||void 0===d?void 0:d.friends).includes(o)?b.Z:K.Z,t,{onClick:()=>{!Object.keys(null===d||void 0===d?void 0:d.friends).includes(o)&&(0,Z.wq)(l,o)},title:Object.keys(null===d||void 0===d?void 0:d.friends).includes(o)?c.Z.alreadyFriends[i]:c.Z.cancelRequestConfirm[i]}):(0,v.Mz)(Q.Z,t,{onClick:()=>{(0,Z.wG)(o,s,null===d||void 0===d?void 0:d.friendRequests)},title:c.Z.sendRequest[i]})]})}));var ie=t(4248),re=t(7828),oe=t(1730);const ce=(0,r.Pi)((e=>{let{value:s,onChange:t}=e;const{isSmallScreen:l}=j.userStore,{userOptions:n}=a.optionsStore,{myUser:i}=h.communityStore,{user:r}=i,{language:d}=n,[m,Z]=(0,o.useState)(!1),y=(0,o.useCallback)((()=>{Z(!0)}),[Z]),S=(0,o.useCallback)((()=>{Z(!1)}),[Z]);return(0,x.jsxs)(u.Z,{gap:8,justify:"space-between",children:[(0,x.jsx)(ie.Z,{size:l?"small":"middle",value:s,onChange:t,options:[{label:(0,x.jsx)(H.Z,{size:"small",count:Object.keys(null===r||void 0===r?void 0:r.friendRequests).length,children:c.Z.requests[d]}),value:"requests"},{label:c.Z.myRequests[d],value:"myRequests"},{label:c.Z.friends[d],value:"friends"}]}),l&&(0,v.Mz)(oe.Z,l,{onClick:y,title:c.Z.searchFriends[d]}),(0,x.jsx)(re.Z,{open:m,onClose:S,children:(0,x.jsx)(le,{})})]})}));var ae=t(914);const ue=(0,r.Pi)((()=>{const{isSmallScreen:e}=j.userStore,{myUser:s}=h.communityStore,[t,l]=(0,o.useState)("friends"),{user:n}=s,i=(0,o.useMemo)((()=>"friends"===t?null===n||void 0===n?void 0:n.friends:"requests"===t?null===n||void 0===n?void 0:n.friendRequests:"myRequests"===t?null===n||void 0===n?void 0:n.sentFriendRequests:{}),[t,null===n||void 0===n?void 0:n.friends,null===n||void 0===n?void 0:n.friendRequests,null===n||void 0===n?void 0:n.sentFriendRequests]);return(0,x.jsxs)(u.Z,{style:{inlineSize:e?"100%":"50%"},vertical:!0,gap:e?8:16,children:[(0,x.jsx)(ce,{value:t,onChange:l}),(0,x.jsx)(d.Z,{style:{inlineSize:"100%"},children:i&&Object.keys(i).map((e=>(0,x.jsx)(de,{userId:e,mode:t},e)))})]})})),de=(0,r.Pi)((e=>{let{userId:s,mode:t}=e;const{isSmallScreen:l}=j.userStore,{userOptions:n}=a.optionsStore,{language:i}=n,{myUser:r}=h.communityStore,{id:u}=r,d=(0,o.useCallback)((e=>"friends"===t?(0,x.jsx)(ae.Z,{span:1,children:(0,x.jsx)(B.Z,{title:c.Z.removeFriendConfirm[i],onConfirm:()=>(0,Z.tJ)(u,e),children:(0,v.Mz)(K.Z,l,{})})}):"requests"===t?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(ae.Z,{span:1,children:(0,x.jsx)(B.Z,{title:c.Z.acceptRequestConfirm[i],onConfirm:()=>(0,Z.ED)(u,e),children:(0,v.Mz)(Q.Z,l,{})})}),(0,x.jsx)(ae.Z,{span:1,children:(0,x.jsx)(B.Z,{title:c.Z.declineRequestConfirm[i],onConfirm:()=>(0,Z.hY)(u,e),children:(0,v.Mz)(K.Z,l,{})})})]}):"myRequests"===t?(0,x.jsx)(ae.Z,{span:1,children:(0,x.jsx)(B.Z,{title:c.Z.cancelRequestConfirm[i],onConfirm:()=>(0,Z.wq)(u,e),children:(0,v.Mz)(K.Z,l,{})})}):void 0),[l,t,i,u]);return(0,x.jsxs)(m.Z,{children:[(0,x.jsx)(ae.Z,{span:20,children:s}),d(s)]})})),me=ue,he=(0,r.Pi)((()=>{const{isSmallScreen:e}=j.userStore;return(0,x.jsx)(u.Z,{vertical:!0,align:"center",children:(0,x.jsxs)(u.Z,{style:{inlineSize:"100%"},gap:e?8:16,justify:"space-between",align:"start",children:[(0,x.jsx)(me,{}),!e&&(0,x.jsx)(le,{})]})})})),ve=(0,r.Pi)((()=>{const{userOptions:e}=a.optionsStore,{isSmallScreen:s}=j.userStore,{myUser:t,setOnlineFriend:r,clearOnlineFriends:u,messages:d,setChatUpdates:m}=h.communityStore,{language:v}=e,{id:y}=t,[S,g]=(0,o.useState)("0");(0,o.useEffect)((()=>{const e=[];return Object.keys(t.user.friends).forEach((s=>{e.push((0,Z.cr)(s,r))})),()=>{e.forEach((e=>e&&e())),u()}}),[u,r,t.user.friends]);const f=(0,o.useMemo)((()=>d&&Object.keys(d).reduce(((e,s)=>{var t;return null!==(t=d[s])&&void 0!==t&&t.seenBy&&Object.keys(d[s].seenBy).includes(y)||d[s].sender===y?e:e+1}),0)),[d,y]);return(0,o.useEffect)((()=>{m(f)}),[f]),(0,x.jsx)(i.Z,{size:s?"small":"middle",tabPosition:s?"top":"left",activeKey:S,destroyInactiveTabPane:!0,onChange:g,items:[{key:"0",label:c.Z.chats[v],icon:(0,x.jsx)(l.Z,{}),children:(0,x.jsx)(_,{})},{key:"1",label:c.Z.friends[v],icon:(0,x.jsx)(n.Z,{}),children:(0,x.jsx)(he,{})}]})}))}}]);
//# sourceMappingURL=732.b1e6cb02.chunk.js.map