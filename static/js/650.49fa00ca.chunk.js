"use strict";(self.webpackChunkfinance_tracker=self.webpackChunkfinance_tracker||[]).push([[650],{8650:(e,t,s)=>{s.d(t,{Z:()=>F});var l=s(2791),n=s(3475),i=s(7257),r=s(4320),a=s(4231),o=s(81),c=s(7201),d=s(6473),u=s(8807),p=s(8416),m=s(7703),Z=s(2506),x=s(6051),h=s(914),j=s(1429),g=s(6220),y=s(7892),v=s.n(y),C=s(4878),S=s(9335),b=s(7857),k=s(2864),I=s(2622),f=s(6246),z=s(184);const M=(0,i.Pi)((e=>{let{opened:t,setOpened:s,itemIds:n}=e;const{list:i,replaceItem:a}=r.listStore,{isSmallScreen:o}=u.userStore,{userOptions:d}=m.optionsStore,{language:y}=d,M=(0,l.useCallback)((e=>{a(e,{...i[e],categoryId:C.Z.emptyItem.categoryId})}),[i,a]);return(0,z.jsx)(Z.Z,{open:t,onCancel:()=>{s(!1)},okButtonProps:{style:{display:"none"}},cancelButtonProps:{style:{display:"none"}},children:(0,z.jsx)(S.ZP,{autoHide:!0,style:{blockSize:"75vh"},children:(0,z.jsx)(x.Z,{children:n.map((e=>(0,z.jsxs)(g.Z,{children:[(0,z.jsx)(h.Z,{span:5,children:(0,z.jsx)(j.Z,{value:v()(i[e].date).format("DD.MM.YY"),style:{scale:o?".75":"1"}})}),(0,z.jsx)(h.Z,{span:10,children:(0,z.jsx)(c.Z,{justify:"center",style:{opacity:i[e].title?"1":".5"},children:(0,b.I$)(i[e].title,i[e].type,o,y,!1)})}),(0,z.jsx)(h.Z,{span:2,children:(0,b.Mz)(k.Z,o,{light:!0,title:(0,z.jsx)(f.Z,{initialItem:{id:e,overlaps:[]},mode:"grid"})})}),(0,z.jsx)(h.Z,{span:2,children:(0,b.Mz)(I.Z,o,{onClick:()=>M(e),title:p.Z.delete[y]})})]},e)))})})})})),O=(0,l.memo)(M);var D=s(9966),w=s(8341),P=s(9596);const F=(0,i.Pi)((e=>{let{initialCategoryId:t,category:s,disabled:i}=e;const{replaceCategory:Z,categories:x,setLastDeletedCategoryIds:h,lastDeletedCategoryIds:j}=n.categoryStore,{list:g,setUserList:y}=r.listStore,{isSmallScreen:v}=u.userStore,{userOptions:S}=m.optionsStore,{language:k}=S,[f,M]=(0,l.useState)(s||x[t]),[F,Y]=(0,l.useState)(!1),E=(0,l.useMemo)((()=>Object.keys(g).reduce(((e,s)=>g[s].categoryId===t?[...e,s]:[...e]),[])),[g,t]),A=(0,l.useCallback)((()=>{h([...j,t])}),[h,t,j]),L=(0,l.useCallback)((e=>{M((s=>JSON.stringify(s)!==JSON.stringify(e)?(Z(t,e),e):s))}),[M,Z,t]),T=(0,l.useCallback)((e=>{M((t=>{const s={...t,name:e};return L(s),s}))}),[M,L]),H=(0,l.useCallback)((e=>{M((t=>{const s={...t,color:"#".concat(e.toHex())};return L(s),s}))}),[M,L]),N=(0,l.useCallback)(((e,t)=>{const s=g;Object.keys(g).forEach((l=>{g[l].categoryId===e&&g[l].type!==t&&(s[l].categoryId="0")})),y(s)}),[g,y]),R=(0,l.useCallback)((e=>{M((s=>{const l={...s,type:e};return N(t,l.type),L(l),l}))}),[M,t,L,N]),$=i?(0,b.Vh)(f.color,v,k):(0,z.jsx)(a.Z,{title:p.Z.pickColor[k],children:(0,z.jsx)(o.Z,{value:f.color,format:"hex",onChangeComplete:H,children:(0,b.Vh)(f.color,v,k)})}),J=(0,l.useMemo)((()=>"".concat(p.Z.itemsWithCurrentCategory[k],": ").concat(E.length)),[E,k]),V=(0,z.jsxs)(c.Z,{align:"center",justify:"space-evenly",children:[(0,b.Mz)(D.Z,v,{onClick:()=>E.length&&Y(!0),title:J}),$,(0,b.Mz)(I.Z,v,{onClick:A,title:p.Z.delete[S.language]})]}),W="income"===f.type?(0,z.jsx)(w.Z,{style:{color:C.Z.colors.income},onClick:()=>R("expense")}):(0,z.jsx)(P.Z,{style:{color:C.Z.colors.expense},onClick:()=>R("income")});return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(d.Z,{style:{inlineSize:v?"8em":"12em",pointerEvents:i?"none":"auto"},extra:W,size:"small",title:(0,b.I$)(f.name,f.type,v,k,!i&&{onChange:T}),actions:[V],styles:{title:{padding:10},body:{padding:0}}}),(0,z.jsx)(O,{opened:F,setOpened:Y,itemIds:E})]})}))},594:(e,t,s)=>{s.d(t,{Z:()=>E});var l=s(2791),n=s(1457),i=s(7257),r=s(8807),a=s(8416),o=s(9469),c=s(3887),d=s(1468),u=s(2506),p=s(3070),m=s(6106),Z=s(914),x=s(4878),h=s(7892),j=s.n(h),g=s(3475),y=s(126),v=s(8228),C=s(184);const S=(0,i.Pi)((e=>{let{id:t,type:s,onChange:l}=e;const{categories:n}=g.categoryStore,{isSmallScreen:i}=r.userStore;return(0,C.jsx)(y.Z,{size:i?"small":"middle",style:{minInlineSize:"7em"},onChange:l,value:t,suffixIcon:(0,C.jsx)(v.Z,{style:{color:n[t]&&n[t].color}}),options:Object.keys(n).filter((e=>!n[e].deleted&&(n[e].type===s||"all"===n[e].type))).map((e=>({label:n[e].name,value:e})))})}));var b=s(7575),k=s(732),I=s(7703),f=s(4320),z=s(7106),M=s(9286),O=s(6452),D=s(8633),w=s(8709);const P=(0,i.Pi)((e=>{let{onChange:t,image:s}=e;const[n,i]=(0,l.useState)(!1),r=(0,l.useCallback)((e=>{"uploading"===e.file.status&&i(!0),"done"===e.file.status&&((e,t)=>{const s=new FileReader;s.addEventListener("load",(()=>t(s.result))),s.readAsDataURL(e)})(e.file.originFileObj,(e=>{i(!1),t(e)}))}),[i,t]);return(0,C.jsx)(w.Z,{cropShape:"round",rotationSlider:!0,children:(0,C.jsx)(O.Z,{action:"1",accept:"image/*",listType:"picture-circle",showUploadList:!1,onChange:r,maxCount:1,children:s?(0,C.jsx)(D.Z,{preview:!1,src:s,style:{width:"100%",borderRadius:"50px"}}):n?(0,C.jsx)(z.Z,{style:{scale:"1.5"}}):(0,C.jsx)(M.Z,{style:{scale:"1.5"}})})})}));var F=s(8418),Y=s(6201);const E=(0,i.Pi)((e=>{let{opened:t,initialItemId:s,toggleOpened:i,submitItem:h}=e;const{currencyRates:g,isSmallScreen:y}=r.userStore,{userOptions:v}=I.optionsStore,{list:z}=f.listStore,{language:M,currency:O}=v,D=(0,l.useMemo)((()=>void 0!==s?z[s]:x.Z.emptyItem),[z,s]),[w,E]=(0,l.useState)(D),A=(0,l.useCallback)((e=>{const{value:t}=e.target;E((e=>({...e,title:t})))}),[E]),L=(0,l.useCallback)((e=>{e&&E((t=>({...t,date:e.valueOf()})))}),[E]),T=(0,l.useCallback)((e=>{E((t=>({...t,categoryId:e})))}),[E]),H=(0,l.useCallback)((e=>{E((t=>{const s={...t,price:{...t.price,[O]:Number(e)}};return{...s,price:(0,n.Z)(s.price,g,O)}}))}),[E,O,g]),N=(0,l.useCallback)((e=>{(0,F.u)(e,.5).then((e=>{E((t=>({...t,image:e})))}))}),[E]),R=(0,l.useCallback)((e=>{E((t=>({...t,type:e})))}),[E]);(0,l.useEffect)((()=>{const e=s=>{"Enter"===s.key&&t&&(h(w),window.removeEventListener("keyup",e))};return window.addEventListener("keyup",e),()=>{window.removeEventListener("keyup",e)}}),[w,h,t]);const $=(0,C.jsx)(o.Z,{required:!0,type:"text",value:w.title,onInput:A}),J=(0,C.jsx)(c.Z,{style:{inlineSize:"50%"},formatter:e=>"".concat((0,F.Rh)(O)).concat(e),required:!0,min:1,step:1,value:Math.round(w.price[O]),onChange:H}),V=(0,C.jsx)(d.Z,{required:!0,onChange:L,value:j()(w.date),minDate:x.Z.startDate,maxDate:j()()}),W=(0,C.jsx)(S,{id:w.categoryId,type:w.type,onChange:T}),q=(0,C.jsx)(P,{image:w.image,onChange:N});return(0,C.jsx)(u.Z,{open:t,okButtonProps:{size:y?"small":"middle"},cancelButtonProps:{size:y?"small":"middle"},onOk:()=>{h(w)},onCancel:()=>{E(D),i()},okText:(0,C.jsx)(b.Z,{}),cancelText:(0,C.jsx)(k.Z,{}),children:(0,C.jsxs)(p.Z,{size:y?"small":"middle",layout:"vertical",style:{inlineSize:"100%"},children:[(0,C.jsx)(p.Z.Item,{label:a.Z.type[M],children:(0,C.jsx)(Y.Z,{type:w.type,onChange:R})}),(0,C.jsx)(p.Z.Item,{label:a.Z.title[M],children:$}),(0,C.jsx)(p.Z.Item,{label:a.Z.price[M],children:(0,C.jsxs)(m.Z,{children:[(0,C.jsx)(Z.Z,{span:16,children:J}),(0,C.jsx)(Z.Z,{span:1})]})}),(0,C.jsx)(p.Z.Item,{label:a.Z.dateAndCat[M],children:(0,C.jsxs)(m.Z,{children:[(0,C.jsx)(Z.Z,{span:10,children:V}),(0,C.jsx)(Z.Z,{span:1}),(0,C.jsx)(Z.Z,{span:13,children:W})]})}),(0,C.jsx)(p.Z.Item,{label:a.Z.image[M],children:q})]})})}))},7857:(e,t,s)=>{s.d(t,{$m:()=>O,Dr:()=>P,I$:()=>b,IX:()=>I,JN:()=>z,Mz:()=>M,Vh:()=>k,Zi:()=>w,o5:()=>f,q8:()=>D});var l=s(1635),n=s(5563),i=s(7201),r=s(4231),a=s(8633),o=s(9367),c=s(1429),d=s(952),u=s(2556),p=s(7338),m=s(126),Z=s(8416),x=s(7892),h=s.n(x),j=s(8418),g=(s(2791),s(2603)),y=s(4191),v=s.n(y),C=s(184);const S=(e,t,s,l,i,r)=>" "===e?(0,C.jsx)(C.Fragment,{children:"\xa0"}):(0,C.jsx)(n.Z.Text,{type:t?"expense"===t?"danger":"success":void 0,style:{fontSize:l?"1em":"1.25em"},editable:i,ellipsis:!0,strong:s,children:e},r||0),b=(e,t,s,l,n,r)=>{const a=r?null===e||void 0===e?void 0:e.split("").map(((e,l)=>{const i=r.some((e=>{let[t,s]=e;return l>=t&&l<=s}));return S(e,t,i,s,n,l)})):[S(e||l&&Z.Z.noTitle[l],t,!1,s,n)];return(0,C.jsx)(i.Z,{style:{inlineSize:"min-content",opacity:e?"1":".5"},children:a},v()())},k=(e,t,s,n)=>e?(0,C.jsx)(r.Z,{color:"#0005",placement:"right",title:!e.startsWith("#")&&(0,C.jsx)(a.Z,{preview:!1,src:e,style:{borderRadius:"50%",inlineSize:"100%",blockSize:"100%",objectFit:"cover"}}),children:(0,C.jsx)(o.C,{style:{cursor:"pointer",background:e.startsWith("#")?e:"unset"},size:t?"small":"default",icon:(0,C.jsx)(i.Z,{style:{inlineSize:"100%",blockSize:"100%",objectFit:"cover"},children:!e.startsWith("#")&&(0,C.jsx)(a.Z,{preview:!1,src:e,style:{inlineSize:"100%",blockSize:"100%",objectFit:"cover"}})})})}):(0,C.jsx)(r.Z,{title:s?Z.Z.noImage[s]:"",children:(0,C.jsx)(o.C,{style:{cursor:"pointer"},onClick:n,icon:(0,C.jsx)(l.Z,{})})}),I=(e,t,s)=>(0,C.jsxs)(i.Z,{align:"center",children:[(0,C.jsx)(c.Z,{value:h()(e).format("DD.MM.YY"),style:{scale:t?".67":".75"}}),s&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(n.Z.Text,{strong:!0,children:"-"}),(0,C.jsx)(c.Z,{value:h()(s).format("DD.MM.YY"),style:{scale:t?".67":".75"}})]})]}),f=e=>(0,C.jsx)(i.Z,{vertical:!0,align:"stretch",children:e&&(0,C.jsx)(d.Z,{color:e.color,children:(0,C.jsx)("span",{style:{margin:"auto",color:e.color,filter:"invert(1)"},children:e.name})})}),z=(e,t,s,l,r)=>(0,C.jsxs)(i.Z,{justify:"center",children:[(0,C.jsxs)(n.Z.Text,{strong:!0,type:"expense"===t?"danger":"success",style:{fontSize:s?"1.25em":"1.5em"},children:[(0,j.Rh)(l),Math.round(e[l])]}),r&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(n.Z.Text,{strong:!0,type:"expense"===t?"danger":"success",style:{fontSize:s?"1.25em":"1.5em"},children:"/"}),(0,C.jsxs)(n.Z.Text,{strong:!0,type:"expense"===t?"danger":"success",style:{fontSize:s?"1.25em":"1.5em"},children:[(0,j.Rh)(l),Math.round(r[l])]})]})]}),M=(e,t,s)=>{const{onClick:l,small:n,title:i,light:a,placement:c,trigger:d,avatar:u}=s;return(0,C.jsx)(r.Z,{trigger:d,placement:c,title:i,color:a?"#0000":void 0,overlayInnerStyle:{padding:a?"0":"",boxShadow:"none"},children:u?(0,C.jsx)(o.C,{style:{cursor:"pointer"},size:t?"small":"default",onClick:l,icon:(0,C.jsx)(e,{})}):(0,C.jsx)(e,{onClick:l,style:{scale:n?t?".75":"1":t?"1":"1.25"}})})},O=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},n=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;return(0,C.jsx)(r.Z,{color:"#0000",title:e?(0,C.jsxs)(i.Z,{vertical:!0,gap:s?4:8,children:[(0,C.jsx)(u.ZP,{onClick:n,size:s?"small":"middle",children:Z.Z.deleteSelected[t]}),a&&(0,C.jsx)(u.ZP,{onClick:a,size:s?"small":"middle",children:Z.Z.restoreSelected[t]})]}):"",children:(0,C.jsx)(p.Z,{onChange:l,checked:e})})},D=(e,t,s,l)=>(0,C.jsx)(g.Z,{size:l?"small":"middle",allowClear:!0,onChange:e,value:t,loading:s}),w=(e,t,s)=>t?(0,C.jsxs)(C.Fragment,{children:["".concat(Z.Z.createdAt[s]," ").concat(h()(e).format("HH:mm:ss DD.MM.YY")),(0,C.jsx)("br",{}),"".concat(Z.Z.updatedAt[s]," ").concat(h()(t).format("HH:mm:ss DD.MM.YY"))]}):(0,C.jsx)(C.Fragment,{children:"".concat(Z.Z.createdAt[s]," ").concat(h()(e).format("HH:mm:ss DD.MM.YY"))}),P=(e,t,s,l,n)=>{const i=n?Object.keys(s).filter((e=>(null===n||void 0===n?void 0:n.members)&&!Object.keys(null===n||void 0===n?void 0:n.members).includes(e))):Object.keys(s);return(0,C.jsx)(m.Z,{mode:"multiple",size:e?"small":"middle",labelInValue:!0,onChange:t,showSearch:!0,value:l,style:{inlineSize:e?"10em":"15em"},options:i.map((e=>({value:e,label:e})))})}},6246:(e,t,s)=>{s.d(t,{Z:()=>S});var l=s(2791),n=s(6220),i=s(7201),r=s(914),a=s(6473),o=s(7257),c=s(4320),d=s(8807),u=s(594),p=s(7703),m=s(8416),Z=s(3475),x=s(7892),h=s.n(x),j=s(7857),g=s(2622),y=s(1752),v=s(9966),C=s(184);const S=(0,o.Pi)((e=>{let{mode:t,initialItem:s,deleteAll:o,handleSelection:x,selected:S,disabled:b,transparent:k}=e;const{isSmallScreen:I}=d.userStore,{replaceItem:f,setLastDeletedItemIds:z,lastDeletedItemIds:M,list:O}=c.listStore,{userOptions:D}=p.optionsStore,{categories:w}=Z.categoryStore,{currency:P,language:F}=D,[Y,E]=(0,l.useState)(!1),[A,L]=(0,l.useState)(O[s.id]),{type:T,date:H,title:N,categoryId:R,price:$,image:J,createdAt:V,updatedAt:W}=A,q=(0,l.useCallback)((()=>{E((e=>!e))}),[E]),B=(0,l.useCallback)((e=>{L((t=>{if(JSON.stringify(t)!==JSON.stringify(e)){const t={...e,updatedAt:h()().valueOf()};return f(s.id,t),t}return t})),q()}),[L,f,q,s.id]),U=(0,l.useCallback)((()=>{z([...M,s.id])}),[z,s.id,M]),X=(0,C.jsxs)(i.Z,{justify:"space-evenly",children:[(0,j.$m)(S,F,I,x,o),(0,j.Mz)(g.Z,I,{onClick:U,title:m.Z.delete[F]}),(0,j.JN)($,T,I,P),(0,j.Mz)(y.Z,I,{onClick:q,title:m.Z.edit[F]}),(0,j.Mz)(v.Z,I,{title:(0,j.Zi)(V,W,F)})]});return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(u.Z,{opened:Y,initialItemId:s.id,toggleOpened:q,submitItem:B}),"list"===t?(0,C.jsxs)(n.Z,{style:{pointerEvents:b?"none":"auto",opacity:k?".5":"1"},children:[(0,C.jsx)(r.Z,{span:1,children:(0,j.$m)(S,F,I,x,o)}),(0,C.jsx)(r.Z,{span:1,children:(0,j.Vh)(J,I,F,q)}),(0,C.jsx)(r.Z,{span:3,children:(0,j.IX)(H,I)}),(0,C.jsx)(r.Z,{span:7,children:(0,j.I$)(N,T,I,F,!1,s.overlaps)}),(0,C.jsx)(r.Z,{span:4,children:(0,j.o5)(w[R])}),(0,C.jsx)(r.Z,{span:4,children:(0,j.JN)($,T,I,P)}),(0,C.jsx)(r.Z,{span:1,children:(0,j.Mz)(y.Z,I,{onClick:q,title:m.Z.edit[F]})}),(0,C.jsx)(r.Z,{span:1,children:(0,j.Mz)(g.Z,I,{onClick:U,title:m.Z.delete[F]})}),(0,C.jsx)(r.Z,{span:1,children:(0,j.Mz)(v.Z,I,{title:(0,j.Zi)(V,W,F)})})]}):(0,C.jsx)(a.Z,{styles:{title:{fontWeight:"400"}},size:"small",bordered:!0,title:(0,j.I$)(N,T,I,F,!1,s.overlaps),actions:[X],style:{inlineSize:I?"10em":"13em",pointerEvents:b?"none":"auto",opacity:k?".5":"1"},children:(0,C.jsx)(i.Z,{justify:"center",children:(0,C.jsxs)(i.Z,{vertical:!0,align:"stretch",gap:4,children:[(0,C.jsxs)(i.Z,{align:"center",children:[(0,j.Vh)(J,I,F,q),(0,j.IX)(H,I)]}),(0,j.o5)(w[R])]})})})]})}))},6201:(e,t,s)=>{s.d(t,{Z:()=>u});var l=s(9596),n=s(8341),i=s(2143),r=s(4248),a=s(7257),o=s(2791),c=s(8807),d=s(184);const u=(0,a.Pi)((e=>{let{type:t,onChange:s,extra:a}=e;const{isSmallScreen:u}=c.userStore,p=(0,o.useMemo)((()=>{const e=[{label:(0,d.jsx)(l.Z,{}),value:"expense"},{label:(0,d.jsx)(n.Z,{}),value:"income"}];return a&&e.splice(1,0,{label:(0,d.jsx)(i.Z,{}),value:"all"}),e}),[a]);return(0,d.jsx)(r.Z,{size:u?"small":"middle",value:t,onChange:s,options:p})}))}}]);
//# sourceMappingURL=650.49fa00ca.chunk.js.map