{"version":3,"file":"static/js/324.8fa195ab.chunk.js","mappings":"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","sources":["components/DeletedCategories.tsx","components/DeletedItems.tsx","components/TrashPanel.tsx","pages/Trash.tsx"],"sourcesContent":["import { Col, Empty, List } from 'antd';\r\nimport Item from 'antd/es/list/Item';\r\nimport { observer } from 'mobx-react-lite';\r\nimport React, { useCallback, useMemo, useState } from 'react';\r\nimport languages from 'settings/languages';\r\nimport { optionsStore } from 'utils/optionsStore';\r\nimport { userStore } from 'utils/userStore';\r\nimport {\r\n\tDeleteOutlined,\r\n\tExportOutlined,\r\n\tInfoCircleOutlined,\r\n\tUndoOutlined,\r\n} from '@ant-design/icons';\r\nimport { categoryStore } from 'utils/categoryStore';\r\nimport { MyCheckbox, MyIcon, MyTitle } from './Items';\r\nimport { CheckboxChangeEvent } from 'antd/es/checkbox';\r\nimport { ItemWithSearch } from 'settings/interfaces';\r\nimport { search } from 'utils/utils';\r\nimport dayjs from 'dayjs';\r\nimport CategoryItem from './CategoryItem';\r\n\r\ninterface Props {\r\n\tquery: string;\r\n}\r\n\r\nconst DeletedCategories: React.FC<Props> = observer(({ query }) => {\r\n\tconst { restoreCategory, deleteCategory, categories } = categoryStore;\r\n\tconst { isSmallScreen } = userStore;\r\n\tconst { userOptions } = optionsStore;\r\n\r\n\tconst { language } = userOptions;\r\n\r\n\tconst [selectedItemIds, setSelectedItemIds] = useState<string[]>([]);\r\n\r\n\tconst deletedCategoryIds: ItemWithSearch[] = useMemo(() => {\r\n\t\treturn Object.keys(categories).reduce(\r\n\t\t\t(acc: ItemWithSearch[], key: string) => {\r\n\t\t\t\tif (categories[key].deleted === true) {\r\n\t\t\t\t\tconst overlaps = search(query, categories[key].name);\r\n\t\t\t\t\tif (overlaps?.length !== 0) {\r\n\t\t\t\t\t\treturn [...acc, { id: key, overlaps: overlaps }];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn acc;\r\n\t\t\t},\r\n\t\t\t[]\r\n\t\t);\r\n\t}, [categories, query]);\r\n\r\n\tconst deleteSelectedItems = useCallback(() => {\r\n\t\tsetSelectedItemIds((prevSelected: string[]) => {\r\n\t\t\tprevSelected.forEach((key: string) => {\r\n\t\t\t\tdeleteCategory(key);\r\n\t\t\t});\r\n\t\t\treturn [];\r\n\t\t});\r\n\t}, [deleteCategory]);\r\n\r\n\tconst restoreSelectedItems = useCallback(() => {\r\n\t\tsetSelectedItemIds((prevSelected: string[]) => {\r\n\t\t\tprevSelected.forEach((key: string) => {\r\n\t\t\t\trestoreCategory(key);\r\n\t\t\t});\r\n\t\t\treturn [];\r\n\t\t});\r\n\t}, [restoreCategory]);\r\n\r\n\tconst handleCategorySelection = useCallback(\r\n\t\t(id: string) => (event: CheckboxChangeEvent) => {\r\n\t\t\tconst value = event.target.checked;\r\n\t\t\tvalue\r\n\t\t\t\t? setSelectedItemIds((prevSelected: string[]) => [...prevSelected, id])\r\n\t\t\t\t: setSelectedItemIds((prevSelected: string[]) =>\r\n\t\t\t\t\t\tprevSelected.filter((item: string) => item !== id)\r\n\t\t\t\t  );\r\n\t\t},\r\n\t\t[setSelectedItemIds]\r\n\t);\r\n\r\n\tconst DeleteJSX = (callback: () => void) =>\r\n\t\tMyIcon(DeleteOutlined, isSmallScreen, {\r\n\t\t\tonClick: callback,\r\n\t\t\ttitle: languages.delete[userOptions.language],\r\n\t\t});\r\n\r\n\tconst CheckboxJSX = (\r\n\t\tkey: string,\r\n\t\thandler: (key: string) => (event: CheckboxChangeEvent) => void\r\n\t) =>\r\n\t\tMyCheckbox(\r\n\t\t\tselectedItemIds.includes(key),\r\n\t\t\tlanguage,\r\n\t\t\tisSmallScreen,\r\n\t\t\thandler(key),\r\n\t\t\tdeleteSelectedItems,\r\n\t\t\trestoreSelectedItems\r\n\t\t);\r\n\r\n\tif (!deletedCategoryIds.length)\r\n\t\treturn (\r\n\t\t\t<Empty\r\n\t\t\t\tstyle={{ margin: 'auto' }}\r\n\t\t\t\timage={Empty.PRESENTED_IMAGE_SIMPLE}\r\n\t\t\t\tdescription={''}\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\treturn (\r\n\t\t<List style={{ inlineSize: '100%' }}>\r\n\t\t\t{deletedCategoryIds.map(({ id, overlaps }: ItemWithSearch) => {\r\n\t\t\t\tconst currentCategory = categories[id];\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Item\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\topacity:\r\n\t\t\t\t\t\t\t\tselectedItemIds.length && !selectedItemIds.includes(id)\r\n\t\t\t\t\t\t\t\t\t? '.5'\r\n\t\t\t\t\t\t\t\t\t: '1',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Col span={1}>{CheckboxJSX(id, handleCategorySelection)}</Col>\r\n\t\t\t\t\t\t<Col span={16}>\r\n\t\t\t\t\t\t\t{MyTitle(\r\n\t\t\t\t\t\t\t\tcurrentCategory?.name,\r\n\t\t\t\t\t\t\t\tcurrentCategory?.type,\r\n\t\t\t\t\t\t\t\tisSmallScreen,\r\n\t\t\t\t\t\t\t\tlanguage,\r\n\t\t\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t\t\toverlaps\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={1}>\r\n\t\t\t\t\t\t\t{MyIcon(ExportOutlined, isSmallScreen, {\r\n\t\t\t\t\t\t\t\tsmall: true,\r\n\t\t\t\t\t\t\t\ttitle: (\r\n\t\t\t\t\t\t\t\t\t<CategoryItem\r\n\t\t\t\t\t\t\t\t\t\tinitialCategoryId={id}\r\n\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={1}>\r\n\t\t\t\t\t\t\t{MyIcon(InfoCircleOutlined, isSmallScreen, {\r\n\t\t\t\t\t\t\t\ttitle: `${languages.deletedAt[language]}: ${dayjs(\r\n\t\t\t\t\t\t\t\t\tcurrentCategory?.deletedAt\r\n\t\t\t\t\t\t\t\t).format('HH:mm:ss DD.MM.YY')}`,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={1}>\r\n\t\t\t\t\t\t\t{MyIcon(UndoOutlined, isSmallScreen, {\r\n\t\t\t\t\t\t\t\tonClick: () => restoreCategory(id),\r\n\t\t\t\t\t\t\t\ttitle: languages.restore[language],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={1}>{DeleteJSX(() => deleteCategory(id))}</Col>\r\n\t\t\t\t\t</Item>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</List>\r\n\t);\r\n});\r\n\r\nexport default DeletedCategories;\r\n","import { Col, Empty, List } from 'antd';\r\nimport Item from 'antd/es/list/Item';\r\nimport { observer } from 'mobx-react-lite';\r\nimport React, { useCallback, useMemo, useState } from 'react';\r\nimport languages from 'settings/languages';\r\nimport { listStore } from 'utils/listStore';\r\nimport { optionsStore } from 'utils/optionsStore';\r\nimport { userStore } from 'utils/userStore';\r\nimport {\r\n\tDeleteOutlined,\r\n\tExportOutlined,\r\n\tInfoCircleOutlined,\r\n\tUndoOutlined,\r\n} from '@ant-design/icons';\r\nimport { MyCheckbox, MyIcon, MyTitle } from './Items';\r\nimport { CheckboxChangeEvent } from 'antd/es/checkbox';\r\nimport { ItemWithSearch } from 'settings/interfaces';\r\nimport { search } from 'utils/utils';\r\nimport dayjs from 'dayjs';\r\nimport ListItem from './ListItem';\r\n\r\ninterface Props {\r\n\tquery: string;\r\n}\r\n\r\nconst DeletedItems: React.FC<Props> = observer(({ query }) => {\r\n\tconst { list, restoreItem, deleteItem } = listStore;\r\n\tconst { isSmallScreen } = userStore;\r\n\tconst { userOptions } = optionsStore;\r\n\r\n\tconst { language } = userOptions;\r\n\r\n\tconst [selectedItemIds, setSelectedItemIds] = useState<string[]>([]);\r\n\r\n\tconst deletedItemIds: ItemWithSearch[] = useMemo(() => {\r\n\t\treturn Object.keys(list).reduce((acc: ItemWithSearch[], key: string) => {\r\n\t\t\tif (list[key].deleted === true) {\r\n\t\t\t\tconst overlaps = search(query, list[key].title);\r\n\t\t\t\tif (overlaps?.length !== 0) {\r\n\t\t\t\t\treturn [...acc, { id: key, overlaps: overlaps }];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn acc;\r\n\t\t}, []);\r\n\t}, [list, query]);\r\n\r\n\tconst deleteSelectedItems = useCallback(() => {\r\n\t\tsetSelectedItemIds((prevSelected: string[]) => {\r\n\t\t\tprevSelected.forEach((key: string) => {\r\n\t\t\t\tdeleteItem(key);\r\n\t\t\t});\r\n\t\t\treturn [];\r\n\t\t});\r\n\t}, [deleteItem]);\r\n\r\n\tconst restoreSelectedItems = useCallback(() => {\r\n\t\tsetSelectedItemIds((prevSelected: string[]) => {\r\n\t\t\tprevSelected.forEach((key: string) => {\r\n\t\t\t\trestoreItem(key);\r\n\t\t\t});\r\n\t\t\treturn [];\r\n\t\t});\r\n\t}, [restoreItem]);\r\n\r\n\tconst handleItemSelection = useCallback(\r\n\t\t(id: string) => (event: CheckboxChangeEvent) => {\r\n\t\t\tconst value = event.target.checked;\r\n\t\t\tvalue\r\n\t\t\t\t? setSelectedItemIds((prevSelected: string[]) => [...prevSelected, id])\r\n\t\t\t\t: setSelectedItemIds((prevSelected: string[]) =>\r\n\t\t\t\t\t\tprevSelected.filter((item: string) => item !== id)\r\n\t\t\t\t  );\r\n\t\t},\r\n\t\t[setSelectedItemIds]\r\n\t);\r\n\r\n\tconst DeleteJSX = (callback: () => void) =>\r\n\t\tMyIcon(DeleteOutlined, isSmallScreen, {\r\n\t\t\tonClick: callback,\r\n\t\t\ttitle: languages.delete[userOptions.language],\r\n\t\t});\r\n\r\n\tconst CheckboxJSX = (\r\n\t\tkey: string,\r\n\t\thandler: (key: string) => (event: CheckboxChangeEvent) => void\r\n\t) =>\r\n\t\tMyCheckbox(\r\n\t\t\tselectedItemIds.includes(key),\r\n\t\t\tlanguage,\r\n\t\t\tisSmallScreen,\r\n\t\t\thandler(key),\r\n\t\t\tdeleteSelectedItems,\r\n\t\t\trestoreSelectedItems\r\n\t\t);\r\n\r\n\tif (!deletedItemIds.length)\r\n\t\treturn (\r\n\t\t\t<Empty\r\n\t\t\t\tstyle={{ margin: 'auto' }}\r\n\t\t\t\timage={Empty.PRESENTED_IMAGE_SIMPLE}\r\n\t\t\t\tdescription={''}\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\treturn (\r\n\t\t<List style={{ inlineSize: '100%' }}>\r\n\t\t\t{deletedItemIds.map(({ id, overlaps }: ItemWithSearch) => {\r\n\t\t\t\tconst currentItem = list[id];\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Item\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\topacity:\r\n\t\t\t\t\t\t\t\tselectedItemIds.length && !selectedItemIds.includes(id)\r\n\t\t\t\t\t\t\t\t\t? '.5'\r\n\t\t\t\t\t\t\t\t\t: '1',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Col span={1}>{CheckboxJSX(id, handleItemSelection)}</Col>\r\n\t\t\t\t\t\t<Col span={16}>\r\n\t\t\t\t\t\t\t{MyTitle(\r\n\t\t\t\t\t\t\t\tcurrentItem?.title,\r\n\t\t\t\t\t\t\t\tcurrentItem?.type,\r\n\t\t\t\t\t\t\t\tisSmallScreen,\r\n\t\t\t\t\t\t\t\tlanguage,\r\n\t\t\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t\t\toverlaps\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={1}>\r\n\t\t\t\t\t\t\t{MyIcon(ExportOutlined, isSmallScreen, {\r\n\t\t\t\t\t\t\t\tlight: true,\r\n\t\t\t\t\t\t\t\ttitle: (\r\n\t\t\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\t\t\tinitialItem={{ id, overlaps }}\r\n\t\t\t\t\t\t\t\t\t\tmode='grid'\r\n\t\t\t\t\t\t\t\t\t\tselected={selectedItemIds.includes(id)}\r\n\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={1}>\r\n\t\t\t\t\t\t\t{MyIcon(InfoCircleOutlined, isSmallScreen, {\r\n\t\t\t\t\t\t\t\ttitle: `${languages.deletedAt[language]}: ${dayjs(\r\n\t\t\t\t\t\t\t\t\tcurrentItem?.deletedAt\r\n\t\t\t\t\t\t\t\t).format('HH:mm:ss DD.MM.YY')}`,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={1}>\r\n\t\t\t\t\t\t\t{MyIcon(UndoOutlined, isSmallScreen, {\r\n\t\t\t\t\t\t\t\tonClick: () => restoreItem(id),\r\n\t\t\t\t\t\t\t\ttitle: languages.restore[language],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={1}>{DeleteJSX(() => deleteItem(id))}</Col>\r\n\t\t\t\t\t</Item>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</List>\r\n\t);\r\n});\r\n\r\nexport default DeletedItems;\r\n","import {\r\n\tDeleteOutlined,\r\n\tFolderOpenOutlined,\r\n\tUndoOutlined,\r\n\tUnorderedListOutlined,\r\n} from '@ant-design/icons';\r\nimport { Flex, Popconfirm, Segmented } from 'antd';\r\nimport { observer } from 'mobx-react-lite';\r\nimport React, {\r\n\tChangeEvent,\r\n\tDispatch,\r\n\tSetStateAction,\r\n\tuseCallback,\r\n\tuseEffect,\r\n\tuseState,\r\n} from 'react';\r\nimport languages from 'settings/languages';\r\nimport { categoryStore } from 'utils/categoryStore';\r\nimport { listStore } from 'utils/listStore';\r\nimport { optionsStore } from 'utils/optionsStore';\r\nimport { userStore } from 'utils/userStore';\r\nimport { MyIcon, MySearch } from './Items';\r\n\r\ninterface Props {\r\n\tquery: string;\r\n\tsetQuery: Dispatch<SetStateAction<string>>;\r\n\tdebouncedQuery: string;\r\n\tisExpenses: boolean;\r\n\tsetIsExpenses: Dispatch<SetStateAction<boolean>>;\r\n}\r\n\r\nconst TrashPanel: React.FC<Props> = observer(\r\n\t({ query, setQuery, debouncedQuery, isExpenses, setIsExpenses }) => {\r\n\t\tconst { deleteItem, restoreItem, list } = listStore;\r\n\t\tconst { categories, deleteCategory, restoreCategory } = categoryStore;\r\n\t\tconst { isSmallScreen, tourRefs } = userStore;\r\n\t\tconst { userOptions } = optionsStore;\r\n\r\n\t\tconst { language } = userOptions;\r\n\r\n\t\tconst [isSearchLoading, setIsSearchLoading] = useState<boolean>(false);\r\n\r\n\t\tconst deleteAll = useCallback(() => {\r\n\t\t\tObject.keys(list).forEach((key: string) => {\r\n\t\t\t\tlist[key].deleted && deleteItem(key);\r\n\t\t\t});\r\n\r\n\t\t\tObject.keys(categories).forEach((key: string) => {\r\n\t\t\t\tcategories[key].deleted && deleteCategory(key);\r\n\t\t\t});\r\n\t\t}, [list, categories, deleteCategory, deleteItem]);\r\n\r\n\t\tconst restoreAll = useCallback(() => {\r\n\t\t\tObject.keys(list).forEach((key: string) => {\r\n\t\t\t\tlist[key].deleted && restoreItem(key);\r\n\t\t\t});\r\n\r\n\t\t\tObject.keys(categories).forEach((key: string) => {\r\n\t\t\t\tcategories[key].deleted && restoreCategory(key);\r\n\t\t\t});\r\n\t\t}, [list, categories, restoreCategory, restoreItem]);\r\n\r\n\t\tconst handleSearch = useCallback(\r\n\t\t\t(event: ChangeEvent<HTMLInputElement>) => {\r\n\t\t\t\tsetQuery(event.target.value);\r\n\t\t\t\tsetIsSearchLoading(true);\r\n\t\t\t},\r\n\t\t\t[setQuery, setIsSearchLoading]\r\n\t\t);\r\n\r\n\t\tuseEffect(() => {\r\n\t\t\tsetIsSearchLoading(false);\r\n\t\t}, [debouncedQuery]);\r\n\r\n\t\treturn (\r\n\t\t\t<Flex\r\n\t\t\t\talign='center'\r\n\t\t\t\tgap={16}\r\n\t\t\t\tref={tourRefs[5]}\r\n\t\t\t\tstyle={{ inlineSize: '100%' }}\r\n\t\t\t>\r\n\t\t\t\t<Popconfirm\r\n\t\t\t\t\ttitle={languages.deleteAllConfirm[language]}\r\n\t\t\t\t\tonConfirm={deleteAll}\r\n\t\t\t\t>\r\n\t\t\t\t\t{MyIcon(DeleteOutlined, isSmallScreen, {})}\r\n\t\t\t\t</Popconfirm>\r\n\t\t\t\t<Popconfirm\r\n\t\t\t\t\ttitle={languages.restoreAllConfirm[language]}\r\n\t\t\t\t\tonConfirm={restoreAll}\r\n\t\t\t\t>\r\n\t\t\t\t\t{MyIcon(UndoOutlined, isSmallScreen, {})}\r\n\t\t\t\t</Popconfirm>\r\n\t\t\t\t{isSmallScreen && (\r\n\t\t\t\t\t<Segmented\r\n\t\t\t\t\t\tonChange={setIsExpenses}\r\n\t\t\t\t\t\tvalue={isExpenses}\r\n\t\t\t\t\t\toptions={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlabel: <UnorderedListOutlined />,\r\n\t\t\t\t\t\t\t\tvalue: true,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlabel: <FolderOpenOutlined />,\r\n\t\t\t\t\t\t\t\tvalue: false,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t<Flex style={{ inlineSize: isSmallScreen ? '100%' : '50%' }}>\r\n\t\t\t\t\t{MySearch(handleSearch, query, isSearchLoading, isSmallScreen)}\r\n\t\t\t\t</Flex>\r\n\t\t\t</Flex>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nexport default TrashPanel;\r\n","import { Flex } from 'antd';\r\nimport DeletedCategories from 'components/DeletedCategories';\r\nimport DeletedList from 'components/DeletedItems';\r\nimport TrashPanel from 'components/TrashPanel';\r\nimport { debounce } from 'lodash';\r\nimport { observer } from 'mobx-react-lite';\r\nimport React, { useEffect, useMemo, useState } from 'react';\r\nimport constants from 'settings/constants';\r\n\r\nimport { userStore } from 'utils/userStore';\r\n\r\nconst Trash: React.FC = observer(() => {\r\n\tconst { isSmallScreen, tourRefs } = userStore;\r\n\r\n\tconst [query, setQuery] = useState<string>('');\r\n\tconst [debouncedQuery, setDebouncedQuery] = useState<string>('');\r\n\tconst [isExpenses, setIsExpenses] = useState<boolean>(true);\r\n\r\n\tconst debouncedSetQuery = useMemo(\r\n\t\t() =>\r\n\t\t\tdebounce(\r\n\t\t\t\t(query: string) => setDebouncedQuery(query),\r\n\t\t\t\tconstants.optionsDebounceDelay\r\n\t\t\t),\r\n\t\t[]\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tdebouncedSetQuery(query);\r\n\t\treturn () => {\r\n\t\t\tdebouncedSetQuery.cancel();\r\n\t\t};\r\n\t}, [query, debouncedSetQuery]);\r\n\r\n\treturn (\r\n\t\t<Flex\r\n\t\t\tvertical\r\n\t\t\tgap={isSmallScreen ? 16 : 32}\r\n\t\t>\r\n\t\t\t<TrashPanel\r\n\t\t\t\tquery={query}\r\n\t\t\t\tsetQuery={setQuery}\r\n\t\t\t\tdebouncedQuery={debouncedQuery}\r\n\t\t\t\tisExpenses={isExpenses}\r\n\t\t\t\tsetIsExpenses={setIsExpenses}\r\n\t\t\t/>\r\n\t\t\t<Flex\r\n\t\t\t\tref={tourRefs[4]}\r\n\t\t\t\tgap={isSmallScreen ? 16 : 32}\r\n\t\t\t\tstyle={{ inlineSize: '100%' }}\r\n\t\t\t>\r\n\t\t\t\t{isSmallScreen ? (\r\n\t\t\t\t\tisExpenses ? (\r\n\t\t\t\t\t\t<DeletedList query={debouncedQuery} />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<DeletedCategories query={debouncedQuery} />\r\n\t\t\t\t\t)\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Flex\r\n\t\t\t\t\t\tstyle={{ inlineSize: '100%' }}\r\n\t\t\t\t\t\tgap={32}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Flex style={{ inlineSize: '50%' }}>\r\n\t\t\t\t\t\t\t<DeletedList query={debouncedQuery} />\r\n\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t\t<Flex style={{ inlineSize: '50%' }}>\r\n\t\t\t\t\t\t\t<DeletedCategories query={debouncedQuery} />\r\n\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t</Flex>\r\n\t\t\t\t)}\r\n\t\t\t</Flex>\r\n\t\t</Flex>\r\n\t);\r\n});\r\n\r\nexport default Trash;\r\n"],"names":["observer","_ref","query","restoreCategory","deleteCategory","categories","categoryStore","isSmallScreen","userStore","userOptions","optionsStore","language","selectedItemIds","setSelectedItemIds","useState","deletedCategoryIds","useMemo","Object","keys","reduce","acc","key","deleted","overlaps","search","name","length","id","deleteSelectedItems","useCallback","prevSelected","forEach","restoreSelectedItems","handleCategorySelection","event","value","target","checked","filter","item","_jsx","List","style","inlineSize","children","map","_ref2","currentCategory","_jsxs","Item","opacity","includes","Col","span","handler","MyCheckbox","MyTitle","type","MyIcon","ExportOutlined","small","title","CategoryItem","initialCategoryId","disabled","InfoCircleOutlined","concat","languages","deletedAt","dayjs","format","UndoOutlined","onClick","restore","callback","DeleteOutlined","delete","Empty","margin","image","PRESENTED_IMAGE_SIMPLE","description","list","restoreItem","deleteItem","listStore","deletedItemIds","handleItemSelection","currentItem","light","ListItem","initialItem","mode","selected","setQuery","debouncedQuery","isExpenses","setIsExpenses","tourRefs","isSearchLoading","setIsSearchLoading","deleteAll","restoreAll","handleSearch","useEffect","Flex","align","gap","ref","Popconfirm","deleteAllConfirm","onConfirm","restoreAllConfirm","Segmented","onChange","options","label","UnorderedListOutlined","FolderOpenOutlined","MySearch","setDebouncedQuery","debouncedSetQuery","debounce","constants","optionsDebounceDelay","cancel","vertical","TrashPanel","DeletedList","DeletedCategories"],"sourceRoot":""}