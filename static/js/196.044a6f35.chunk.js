"use strict";(self.webpackChunkexpenses_manager=self.webpackChunkexpenses_manager||[]).push([[196],{594:(e,t,s)=>{s.d(t,{Z:()=>A});var n=s(2791),l=s(1457),r=s(7257),a=s(8807),i=s(8416),o=s(1855),c=s(1468),d=s(2506),u=s(3070),g=s(6106),m=s(914),h=s(3556),p=s(4878),j=s(7892),x=s.n(j),Z=s(3475),S=s(126),f=s(8228),v=s(184);const y=(0,r.Pi)((e=>{let{id:t,onChange:s}=e;const{categories:n}=Z.categoryStore,{isSmallScreen:l}=a.userStore;return(0,v.jsx)(S.Z,{size:l?"small":"middle",style:{minInlineSize:"7em"},onChange:s,value:t,suffixIcon:(0,v.jsx)(f.Z,{style:{color:n[t]&&n[t].color}}),options:Object.keys(n).map((e=>({label:n[e].name,value:e})))})}));var b=s(7575),I=s(732),C=s(7703),O=s(4320),k=s(7106),z=s(9286),M=s(1234),P=s(8104),R=s(8709);const w=(0,r.Pi)((e=>{let{onChange:t,image:s}=e;const[l,r]=(0,n.useState)(!1),a=(0,n.useCallback)((e=>{"uploading"===e.file.status&&r(!0),"done"===e.file.status&&((e,t)=>{const s=new FileReader;s.addEventListener("load",(()=>t(s.result))),s.readAsDataURL(e)})(e.file.originFileObj,(e=>{r(!1),t(e)}))}),[r,t]);return(0,v.jsx)(R.Z,{cropShape:"round",rotationSlider:!0,children:(0,v.jsx)(M.Z,{action:"1",accept:"image/*",listType:"picture-circle",showUploadList:!1,onChange:a,maxCount:1,children:s?(0,v.jsx)(P.Z,{preview:!1,src:s,style:{width:"100%",borderRadius:"50px"}}):l?(0,v.jsx)(k.Z,{style:{scale:"1.5"}}):(0,v.jsx)(z.Z,{style:{scale:"1.5"}})})})}));var D=s(8418);const A=(0,r.Pi)((e=>{let{opened:t,initialItemId:s,toggleOpened:r,submitItem:j}=e;const[Z,S]=(0,n.useState)(p.Z.baseCurrency),{currencyRates:f,isSmallScreen:k}=a.userStore,{userOptions:z}=C.optionsStore,{list:M}=O.listStore,{language:P}=z,R=(0,n.useMemo)((()=>void 0!==s?M[s]:p.Z.emptyItem),[M,s]),[A,E]=(0,n.useState)(R),F=(0,n.useCallback)((e=>{const{value:t}=e.target;E((e=>({...e,title:t})))}),[E]),Y=(0,n.useCallback)((e=>{e&&E((t=>({...t,date:e.valueOf()})))}),[E]),T=(0,n.useCallback)((e=>{E((t=>({...t,categoryId:e})))}),[E]),L=(0,n.useCallback)((e=>{const{value:t}=e.target;E((e=>{const s={...e,price:{...e.price,[Z]:Number(t)}};return{...s,price:(0,l.Z)(s.price,f,Z)}}))}),[E,Z,f]),U=(0,n.useCallback)((e=>{(0,D.u)(e,.5).then((e=>{E((t=>({...t,image:e})))}))}),[E]);(0,n.useEffect)((()=>{const e=s=>{"Enter"===s.key&&t&&(j(A),window.removeEventListener("keyup",e))};return window.addEventListener("keyup",e),()=>{window.removeEventListener("keyup",e)}}),[A,j,t]);const N=(0,v.jsx)(o.Z,{required:!0,type:"text",value:A.title,onInput:F}),B=(0,v.jsx)(o.Z,{required:!0,type:"number",min:"1",step:"1",value:Math.round(A.price[Z]),onInput:L}),H=(0,v.jsx)(h.Z,{value:Z,setCurrency:S,onChange:S}),J=(0,v.jsx)(c.Z,{required:!0,onChange:Y,value:x()(A.date),minDate:p.Z.startDate,maxDate:x()()}),$=(0,v.jsx)(y,{id:A.categoryId,onChange:T}),V=(0,v.jsx)(w,{image:A.image,onChange:U});return(0,v.jsx)(d.Z,{open:t,okButtonProps:{size:k?"small":"middle"},cancelButtonProps:{size:k?"small":"middle"},onOk:()=>{j(A)},onCancel:()=>{E(R),r()},okText:(0,v.jsx)(b.Z,{}),cancelText:(0,v.jsx)(I.Z,{}),children:(0,v.jsxs)(u.Z,{size:k?"small":"middle",layout:"vertical",style:{inlineSize:"100%"},children:[(0,v.jsx)(u.Z.Item,{label:i.Z.title[P],children:N}),(0,v.jsx)(u.Z.Item,{label:i.Z.price[P],children:(0,v.jsxs)(g.Z,{children:[(0,v.jsx)(m.Z,{span:16,children:B}),(0,v.jsx)(m.Z,{span:1}),(0,v.jsx)(m.Z,{span:7,children:H})]})}),(0,v.jsx)(u.Z.Item,{label:i.Z.dateAndCat[P],children:(0,v.jsxs)(g.Z,{children:[(0,v.jsx)(m.Z,{span:10,children:J}),(0,v.jsx)(m.Z,{span:1}),(0,v.jsx)(m.Z,{span:13,children:$})]})}),(0,v.jsx)(u.Z.Item,{label:i.Z.image[P],children:V})]})})}))},7857:(e,t,s)=>{s.d(t,{I$:()=>v,IX:()=>b,JN:()=>C,UP:()=>k,Vh:()=>y,eb:()=>O,o5:()=>I,zF:()=>f});var n=s(9966),l=s(1635),r=s(1752),a=s(2622),i=s(4231),o=s(4520),c=s(5160),d=s(8104),u=s(9367),g=s(1429),m=s(952),h=s(2499),p=s(8416),j=s(7892),x=s.n(j),Z=s(8418),S=s(184);const f=(e,t,s)=>(0,S.jsx)(i.Z,{title:e,children:(0,S.jsx)(n.Z,{onClick:s,style:{scale:t?"1":"1.5"}})}),v=(e,t,s,n)=>(0,S.jsx)(o.Z,{justify:"center",style:{opacity:e?"1":".5"},children:t?(0,S.jsx)(c.Z.Text,{strong:!0,ellipsis:!0,editable:n||!1,children:e||p.Z.noTitle[s]}):(0,S.jsx)(h.Z,{editable:n||!1,ellipsis:!0,level:3,style:{margin:0},children:e||p.Z.noTitle[s]})}),y=(e,t,s,n)=>e?(0,S.jsx)(i.Z,{color:"#0005",placement:"right",title:(0,S.jsx)(d.Z,{preview:!1,src:e,style:{borderRadius:"50%",inlineSize:"100%",blockSize:"100%",objectFit:"cover"}}),children:(0,S.jsx)(u.C,{style:{cursor:"pointer"},size:t?"small":"default",icon:(0,S.jsx)(o.Z,{style:{inlineSize:"100%",blockSize:"100%",objectFit:"cover"},children:(0,S.jsx)(d.Z,{preview:!1,src:e,style:{inlineSize:"100%",blockSize:"100%",objectFit:"cover"}})})})}):(0,S.jsx)(i.Z,{title:p.Z.noImage[n],children:(0,S.jsx)(u.C,{style:{cursor:"pointer"},onClick:s,icon:(0,S.jsx)(l.Z,{})})}),b=(e,t)=>(0,S.jsx)(g.Z,{value:x()(e).format("DD.MM.YY"),style:{scale:t?".67":".75"}}),I=e=>(0,S.jsx)(o.Z,{vertical:!0,align:"stretch",children:e&&(0,S.jsx)(m.Z,{color:e.color,children:(0,S.jsx)("span",{style:{margin:"auto",color:e.color,filter:"invert(1)"},children:e.name})})}),C=(e,t,s)=>(0,S.jsx)(o.Z,{justify:"center",children:t?(0,S.jsxs)(c.Z.Text,{strong:!0,children:[(0,Z.Rh)(s),Math.round(e[s])]}):(0,S.jsx)(h.Z,{level:3,style:{margin:0},children:(0,Z.Rh)(s,e[s])})}),O=(e,t,s)=>(0,S.jsx)(i.Z,{title:e,children:(0,S.jsx)(r.Z,{onClick:s,style:{scale:t?"1":"1.5"}})}),k=(e,t,s)=>(0,S.jsx)(i.Z,{title:e,children:(0,S.jsx)(a.Z,{onClick:s,style:{scale:t?"1":"1.5"}})})},6246:(e,t,s)=>{s.d(t,{Z:()=>S});var n=s(2791),l=s(6220),r=s(4520),a=s(914),i=s(3936),o=s(7257),c=s(4320),d=s(8807),u=s(594),g=s(7703),m=s(8416),h=s(3475),p=s(7892),j=s.n(p),x=s(7857),Z=s(184);const S=(0,o.Pi)((e=>{let{mode:t,initialItemId:s}=e;const{isSmallScreen:o}=d.userStore,{replaceItem:p,list:S,setLastDeletedItemIds:f,lastDeletedItemIds:v}=c.listStore,{userOptions:y}=g.optionsStore,{categories:b}=h.categoryStore,{currency:I,language:C}=y,[O,k]=(0,n.useState)(!1),[z,M]=(0,n.useState)(S[s]),P=(0,n.useCallback)((()=>{k((e=>!e))}),[k]),R=(0,n.useCallback)((e=>{M((t=>{if(JSON.stringify(t)!==JSON.stringify(e)){const t={...e,updatedAt:j()().valueOf()};return p(s,t),t}return t})),P()}),[M,p,P,s]),w=(0,n.useCallback)((()=>{f([...v,s])}),[f,s,v]),D=(0,Z.jsxs)(r.Z,{justify:"space-evenly",children:[(0,x.eb)(m.Z.edit[C],o,P),(0,x.JN)(z.price,o,I),(0,x.UP)(m.Z.delete[C],o,w)]}),A=(0,Z.jsxs)(r.Z,{align:"center",children:[(0,x.Vh)(z.image,o,P,C),(0,x.IX)(z.date,o)]}),E=(0,n.useMemo)((()=>z.updatedAt?(0,Z.jsxs)(Z.Fragment,{children:["".concat(m.Z.createdAt[C]," ").concat(j()(z.createdAt).format("HH:mm:ss DD.MM.YY")),(0,Z.jsx)("br",{}),"".concat(m.Z.updatedAt[C]," ").concat(j()(z.updatedAt).format("HH:mm:ss DD.MM.YY"))]}):(0,Z.jsx)(Z.Fragment,{children:"".concat(m.Z.createdAt[C]," ").concat(j()(z.createdAt).format("HH:mm:ss DD.MM.YY"))})),[z,C]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(u.Z,{opened:O,initialItemId:s,toggleOpened:P,submitItem:R}),"list"===t?(0,Z.jsxs)(l.Z,{children:[(0,Z.jsx)(a.Z,{children:A}),(0,Z.jsx)(a.Z,{span:9,children:(0,x.I$)(z.title,o,C)}),(0,Z.jsx)(a.Z,{span:3,children:(0,x.o5)(b[z.categoryId])}),(0,Z.jsx)(a.Z,{span:5,children:(0,x.JN)(z.price,o,I)}),(0,Z.jsx)(a.Z,{span:1,children:(0,x.eb)(m.Z.edit[C],o,P)}),(0,Z.jsx)(a.Z,{span:1,children:(0,x.UP)(m.Z.delete[C],o,w)}),(0,Z.jsx)(a.Z,{span:1,children:(0,x.zF)(E,o)})]}):(0,Z.jsx)(i.Z,{extra:[(0,x.zF)(E,o)],size:o?"small":"default",bordered:!0,title:(0,x.I$)(z.title,o,C),actions:[D],style:{inlineSize:o?"9em":"12em"},children:(0,Z.jsx)(r.Z,{justify:"center",children:(0,Z.jsxs)(r.Z,{vertical:!0,align:"stretch",gap:4,children:[A,(0,x.o5)(b[z.categoryId])]})})})]})}))},3932:(e,t,s)=>{s.d(t,{Z:()=>u});var n=s(3605),l=s(4231),r=s(2556),a=s(7257),i=(s(2791),s(8416)),o=s(7703),c=s(8807),d=s(184);const u=(0,a.Pi)((e=>{let{disabled:t,reset:s}=e;const{userOptions:a}=o.optionsStore,{isSmallScreen:u}=c.userStore;return(0,d.jsx)(l.Z,{title:i.Z.reset[a.language],children:(0,d.jsx)(r.ZP,{disabled:t,onClick:s,size:u?"small":"middle",children:(0,d.jsx)(n.Z,{})})})}))},2158:(e,t,s)=>{s.d(t,{Z:()=>O});var n=s(2791),l=s(7257),r=s(4520),a=s(4248),i=s(4231),o=s(7708),c=s(4320),d=s(7892),u=s.n(d),g=s(9026),m=s.n(g),h=s(4895),p=s(4187),j=s(8807),x=s(5967),Z=s(3623),S=s(7703),f=s(6619),v=s(184);const y=(0,l.Pi)((()=>{const{list:e}=c.listStore,{defaultRange:t}=S.optionsStore,s=(0,n.useMemo)((()=>(0,f.BF)(e,t)),[e,t]),l={labels:new Array(s.length).fill(""),datasets:[{data:s}]};return(0,v.jsx)(Z.x1,{style:{inlineSize:"100%"},data:l,options:{plugins:{legend:{display:!1},tooltip:{enabled:!1}},scales:{x:{display:!1,grid:{display:!1}},y:{display:!1,grid:{display:!1}}},elements:{point:{radius:0},line:{cubicInterpolationMode:"monotone",borderColor:"#7775"}},aspectRatio:25}})})),b=(0,n.memo)(y);var I=s(8416);x.kL.register(x.u,x.jn,x.ST,x.uw,x.f$,x.od),u().extend(m());const C=(0,l.Pi)((e=>{let{range:t,setRange:s,isAccurate:l,setIsAccurate:d}=e;const{list:g}=c.listStore,{isSmallScreen:m}=j.userStore,{defaultRange:x,setDefaultRange:Z,userOptions:f}=S.optionsStore,[y,C]=(0,n.useState)(x),O=(0,n.useMemo)((()=>{const e=Object.values(g).map((e=>e.date));return[Math.min(...e),Math.max(...e)]}),[g]),k=(0,n.useMemo)((()=>{const e=u()(O[0]).startOf("day"),t=u()(O[1]).endOf("day"),s={};let n=e;if(l)for(;n.isBefore(t)||n.isSame(t,"day");)s[n.valueOf()]=1===n.date()?0===n.month()?n.format("YYYY"):n.format("M"):" ",n=n.add(1,"day").startOf("day");else for(;n.isBefore(t)||n.isSame(t,"month");)s[n.valueOf()]=0===n.month()?n.format("YYYY"):" ",n=n.add(1,"month").startOf("month");return s}),[O,l]);(0,n.useEffect)((()=>{Z(O)}),[O,Z]),(0,n.useEffect)((()=>{s(x)}),[x,s]);const z=(0,n.useCallback)((e=>{s(e)}),[s]);return(0,n.useEffect)((()=>{C(t)}),[t]),(0,n.useEffect)((()=>{m&&d(!1)}),[m,d]),(0,n.useEffect)((()=>{!l&&s([u().max([u()(t[0]).startOf("month"),u()(x[0])]).valueOf(),u().min([u()(t[1]).endOf("month"),u()(x[1])]).valueOf()])}),[l]),u()(x[1]).diff(u()(x[0]),"hours")>=48?(0,v.jsxs)(r.Z,{gap:16,align:"center",children:[(0,v.jsx)(a.Z,{size:m?"small":"middle",defaultValue:l,value:l,onChange:d,options:[{label:(0,v.jsx)(i.Z,{title:I.Z.byMonth[f.language],children:(0,v.jsx)(h.Z,{})}),value:!1},{label:(0,v.jsx)(i.Z,{title:I.Z.byDay[f.language],children:(0,v.jsx)(p.Z,{})}),value:!0,disabled:m}]}),(0,v.jsxs)(r.Z,{vertical:!0,align:"stretch",style:{inlineSize:"100%"},children:[(0,v.jsx)(b,{}),(0,v.jsx)(o.Z,{range:!0,value:y,marks:k,step:null,dots:!0,tooltip:{formatter:e=>(0,v.jsx)(v.Fragment,{children:u()(e).format(l?"DD.MM.YY":"MM.YY")})},min:O[0],max:O[1],defaultValue:x,onChange:C,onChangeComplete:z})]})]}):(0,v.jsx)(v.Fragment,{})})),O=(0,n.memo)(C)},5196:(e,t,s)=>{s.r(t),s.d(t,{default:()=>W});var n=s(2791),l=s(6246),r=s(7257),a=s(4664),i=s(6051),o=s(1046),c=s(6619),d=s(8807),u=s(7703);const g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;const[s,l]=(0,n.useState)(e);return(0,n.useEffect)((()=>{const s=setTimeout((()=>{l(e)}),t);return()=>{clearTimeout(s)}}),[e,t]),s};var m=s(6281),h=s(4320),p=s(184);const j=(0,r.Pi)((e=>{let{filteredListIds:t}=e;const{loading:s,isSmallScreen:r}=d.userStore,{listOptions:j}=u.optionsStore,{lastDeletedItemIds:x}=h.listStore,Z=g(j),S=(0,n.useMemo)((()=>(0,c.W2)(Z,t).filter((e=>!x.includes(e)))),[t,Z,x]);return(0,p.jsx)(p.Fragment,{children:s?(0,p.jsx)(m.Z,{}):t.length?"list"===Z.mode?(0,p.jsx)(i.Z,{style:{inlineSize:"100%"},children:S.map((e=>(0,p.jsx)(l.Z,{mode:Z.mode,initialItemId:e},e)))}):(0,p.jsx)(o.Z,{wrap:!0,size:r?8:16,children:S.map((e=>(0,p.jsx)(l.Z,{mode:Z.mode,initialItemId:e},e)))}):(0,p.jsx)(a.Z,{image:a.Z.PRESENTED_IMAGE_SIMPLE,description:""})})})),x=(0,n.memo)(j);var Z=s(4520),S=s(7128),f=s(6834),v=s(4231),y=s(2556),b=s(594),I=s(9286),C=s(7892),O=s.n(C),k=s(8416);const z=(0,r.Pi)((()=>{const{addItem:e}=h.listStore,{isSmallScreen:t}=d.userStore,{userOptions:s}=u.optionsStore,[l,r]=(0,n.useState)(!1),a=(0,n.useCallback)((()=>{r((e=>!e))}),[r]),i=(0,n.useCallback)((t=>{const s=O()().valueOf();e({...t,createdAt:s}),a()}),[e,a]);return(0,p.jsxs)(v.Z,{title:k.Z.newItem[s.language],children:[(0,p.jsx)(y.ZP,{onClick:a,size:t?"small":"middle",children:(0,p.jsx)(I.Z,{})}),(0,p.jsx)(b.Z,{opened:l,toggleOpened:a,submitItem:i})]})}));var M=s(2158),P=s(3475),R=s(952),w=s(126);const D=(0,r.Pi)((()=>{const{categories:e}=P.categoryStore,{isSmallScreen:t}=d.userStore,{listOptions:s,handleCategoriesToFilterChange:n,userOptions:l}=u.optionsStore;return(0,p.jsx)(v.Z,{title:k.Z.categoriesSelect[l.language],children:(0,p.jsx)(w.Z,{size:t?"small":"middle",mode:"multiple",showSearch:!1,tagRender:t=>((e,t)=>{const{label:s,value:n,onClose:l}=e,r=Object.keys(t).length>1?t[n].color:"";return(0,p.jsx)(R.Z,{color:r,onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},closable:!0,onClose:l,style:{marginInlineEnd:4},children:(0,p.jsx)("span",{style:{color:r,filter:"invert(1)"},children:s})})})(t,e),style:{minInlineSize:"10em"},value:s.categoriesToFilterIds,onChange:n,options:Object.keys(e).map((t=>({label:e[t].name,value:t})))})})}));var A=s(4248),E=s(4544),F=s(54),Y=s(9168),T=s(2785),L=s(897);const U=(0,r.Pi)((()=>{const{isSmallScreen:e}=d.userStore,{setIsSortingReversed:t,listOptions:s,userOptions:n,handleSortAlgorithmChanging:l}=u.optionsStore;return(0,p.jsxs)(Z.Z,{gap:8,style:{alignSelf:"start"},children:[(0,p.jsx)(v.Z,{title:k.Z.sort.reverse[n.language],children:s.isSortingReversed?(0,p.jsx)(E.Z,{onClick:()=>t(!s.isSortingReversed)}):(0,p.jsx)(F.Z,{onClick:()=>t(!s.isSortingReversed)})}),(0,p.jsx)(A.Z,{size:e?"small":"middle",value:s.sortingAlgorithm,onChange:l,options:[{label:(0,p.jsx)(v.Z,{title:k.Z.sort.byDate[n.language],children:(0,p.jsx)(Y.Z,{})}),value:"date"},{label:(0,p.jsx)(v.Z,{title:k.Z.sort.byTitle[n.language],children:(0,p.jsx)(T.Z,{})}),value:"title"},{label:(0,p.jsx)(v.Z,{title:k.Z.sort.byPrice[n.language],children:(0,p.jsx)(L.Z,{})}),value:"price"}]})]})}));var N=s(6324),B=s(9197);const H=(0,r.Pi)((()=>{const{isSmallScreen:e}=d.userStore,{listOptions:t,handleModeChanging:s,userOptions:n}=u.optionsStore;return(0,p.jsx)(Z.Z,{gap:8,style:{alignSelf:"start"},children:(0,p.jsx)(A.Z,{size:e?"small":"middle",value:t.mode,onChange:s,options:[{label:(0,p.jsx)(v.Z,{title:k.Z.layout.list[n.language],children:(0,p.jsx)(N.Z,{})}),value:"list",disabled:e},{label:(0,p.jsx)(v.Z,{title:k.Z.layout.grid[n.language],children:(0,p.jsx)(B.Z,{})}),value:"grid"}]})})}));var J=s(4878),$=s(3932);const V=(0,r.Pi)((e=>{let{total:t}=e;const{isSmallScreen:s,loading:l}=d.userStore,{listOptions:r,defaultRange:a,resetListOptions:i,handlePageChanging:o,setRange:c,setIsAccurate:g}=u.optionsStore,{isSortingReversed:m,range:h,categoriesToFilterIds:j,pageSize:x,currentPage:v,sortingAlgorithm:y,isAccurate:b}=r,I=(0,n.useMemo)((()=>m||j.length>0||x!==J.Z.defaultPageSize||1!==v||h[0]&&h[1]&&(h[0]!==a[0]||h[1])!==a[1]||"date"!==y),[h,a,m,j,x,v,y]);return(0,p.jsxs)(Z.Z,{vertical:!0,style:{inlineSize:"100%"},children:[(0,p.jsxs)(Z.Z,{vertical:!0,gap:32,children:[(0,p.jsxs)(Z.Z,{gap:16,vertical:s,children:[(0,p.jsxs)(Z.Z,{gap:16,children:[(0,p.jsx)(z,{}),(0,p.jsx)(D,{})]}),(0,p.jsxs)(Z.Z,{gap:16,children:[(0,p.jsx)(U,{}),(0,p.jsx)(H,{}),(0,p.jsx)($.Z,{disabled:!I,reset:i})]})]}),(0,p.jsx)(M.Z,{setIsAccurate:g,isAccurate:b,range:h,setRange:c})]}),(0,p.jsx)(S.Z,{}),!l&&(0,p.jsx)(f.Z,{style:{alignSelf:"center"},size:s?"small":"default",showSizeChanger:!0,pageSizeOptions:J.Z.pageSizeOptions,current:r.currentPage,pageSize:r.pageSize,total:t,onChange:o,onShowSizeChange:o})]})})),_=(0,n.memo)(V),q=(0,r.Pi)((()=>{const{isSmallScreen:e}=d.userStore,{list:t}=h.listStore,{listOptions:s,userOptions:l,handleModeChanging:r,handlePageChanging:a}=u.optionsStore,{language:i}=l,{range:o,sortingAlgorithm:g,isSortingReversed:m,categoriesToFilterIds:j,pageSize:S}=s;(0,n.useEffect)((()=>{e&&r("grid")}),[e,r]),(0,n.useEffect)((()=>{a(1,S)}),[o,g,m,j,S,a]);const f=(0,n.useMemo)((()=>(0,c.tL)(s,t,i)),[t,i,s]);return(0,p.jsxs)(Z.Z,{vertical:!0,gap:16,align:"center",children:[(0,p.jsx)(_,{total:f.length}),(0,p.jsx)(x,{filteredListIds:f})]})})),W=q},6619:(e,t,s)=>{s.d(t,{BF:()=>m,CH:()=>u,W2:()=>c,r6:()=>g,tL:()=>o,u1:()=>d});var n=s(8418),l=s(7892),r=s.n(l),a=s(6818),i=s.n(a);r().extend(i());const o=(e,t,s)=>{const{range:l,categoriesToFilterIds:r,sortingAlgorithm:a,isSortingReversed:i}=e;return(0,n.MR)(t,Object.keys(t).filter((e=>!t[e].deleted&&t[e].date>=l[0]&&t[e].date<=l[1]&&(!r.length||r.some((s=>t[e].categoryId===s))))),a,i,s)},c=(e,t)=>{const{currentPage:s,pageSize:n}=e,l=(s-1)*n,r=l+n;return t.slice(l,r)},d=(e,t,s,n)=>{if("year"===s){const s={};Object.keys(e).forEach((n=>{const l=r()(e[n].date).year();void 0===s[l]?s[l]=e[n].price[t]:s[l]+=e[n].price[t]}));for(let e in s)s[e]=Math.round(s[e]);return s}if("month"===s){const s=new Array(12).fill(0);return Object.keys(e).forEach((l=>{if(r()(e[l].date).year()===n){const n=r()(e[l].date).month();s[n]+=e[l].price[t]}})),s.map((e=>Math.round(e)))}return[]},u=(e,t,s)=>{const n=[];return Object.keys(e).forEach((l=>{if(e[l].date>t[0]&&e[l].date<t[1]){const t=Object.keys(n).findIndex((t=>n[Number(t)].categoryId===e[l].categoryId));-1!==t?n[t].value+=e[l].price[s]:n.push({categoryId:e[l].categoryId,value:e[l].price[s]})}})),n.map((e=>({...e,value:Math.round(e.value)})))},g=(e,t,s)=>Math.floor(Object.values(e).reduce(((e,n)=>n.date>=t[0]&&n.date<=t[1]?e+n.price[s]:e),0)),m=(e,t)=>{const s=[],n=r()(t[1]);let l=r()(t[0]),a=r()(t[0]).add(1,"month");for(;!a.isAfter(n,"day");){const t=Object.values(e).filter((e=>e.date>l.valueOf()&&e.date<a.valueOf())).reduce(((e,t)=>e+t.price.USD),0);s.push(t),l=l.add(1,"month"),a=a.add(1,"month")}return s}},8418:(e,t,s)=>{s.d(t,{MR:()=>l,Rh:()=>n,u:()=>r});const n=(e,t)=>{var s;let n="";"USD"===e&&(n+="$"),"EUR"===e&&(n+="\u20ac"),"RUB"===e&&(n+="\u20bd");const l=null===(s=Math.round(t))||void 0===s?void 0:s.toString().split("").reverse().reduce(((e,t,s)=>s%3===0&&0!==s?[...e,t+","]:[...e,t]),[]).reverse().join("");return void 0===t?n:n+l},l=(e,t,s,n,l)=>{let r;switch(s){case"date":r=t.sort(((t,s)=>e[s].date.valueOf()-e[t].date.valueOf()));break;case"title":r=t.sort(((t,s)=>e[t].title.localeCompare(e[s].title,l,{sensitivity:"base"})));break;case"price":r=t.sort(((t,s)=>e[s].price.USD-e[t].price.USD));break;default:r=t}return n?r.reverse():r},r=(e,t)=>new Promise((s=>{const n=new Image;n.src=e,n.onload=()=>{const e=document.createElement("canvas"),l=e.getContext("2d");e.width=n.width,e.height=n.height,null===l||void 0===l||l.drawImage(n,0,0);const r=e.toDataURL("image/jpeg",t);s(r)}}))}}]);
//# sourceMappingURL=196.044a6f35.chunk.js.map