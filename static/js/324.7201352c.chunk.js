"use strict";(self.webpackChunkexpenses_manager=self.webpackChunkexpenses_manager||[]).push([[324],{4324:(e,s,t)=>{t.r(s),t.d(s,{default:()=>z});var l=t(7201),r=t(4664),n=t(6051),a=t(914),i=t(6220),c=t(7257),o=t(2791),d=t(8416),u=t(7703),Z=t(8807),h=t(2622),p=t(2864),x=t(9966),j=t(8030),m=t(3475),g=t(7857),y=t(8418),S=t(7892),f=t.n(S),E=t(8650),b=t(184);const C=(0,c.Pi)((e=>{let{query:s}=e;const{restoreCategory:t,deleteCategory:l,categories:c}=m.categoryStore,{isSmallScreen:S}=Z.userStore,{userOptions:C}=u.optionsStore,{language:k}=C,[v,I]=(0,o.useState)([]),M=(0,o.useMemo)((()=>Object.keys(c).reduce(((e,t)=>{if(!0===c[t].deleted){const l=(0,y.yC)(s,c[t].name);if(0!==(null===l||void 0===l?void 0:l.length))return[...e,{id:t,overlaps:l}]}return e}),[])),[c,s]),A=(0,o.useCallback)((()=>{I((e=>(e.forEach((e=>{l(e)})),[])))}),[l]),P=(0,o.useCallback)((()=>{I((e=>(e.forEach((e=>{t(e)})),[])))}),[t]),O=(0,o.useCallback)((e=>s=>{const t=s.target.checked;I(t?s=>[...s,e]:s=>s.filter((s=>s!==e)))}),[I]);return M.length?(0,b.jsx)(n.Z,{style:{inlineSize:"100%"},children:M.map((e=>{let{id:s,overlaps:r}=e;const n=c[s];return(0,b.jsxs)(i.Z,{children:[(u=s,Z=O,(0,g.$m)(v.includes(u),k,S,Z(u),A,P)),(0,b.jsx)(a.Z,{span:1,children:(0,g.Vh)(n.color,S,k)}),(0,b.jsx)(a.Z,{span:10,children:(0,g.I$)(n.name,S,k,!1,r)}),(0,b.jsx)(a.Z,{span:2,children:(0,g.J1)((0,b.jsx)(E.Z,{initialCategoryId:s}),S,p.Z,!0)}),(0,b.jsx)(a.Z,{span:2,children:(0,g.J1)("".concat(d.Z.deletedAt[k],": ").concat(f()(n.deletedAt).format("HH:mm:ss DD.MM.YY")),S,x.Z,!1)}),(0,b.jsx)(a.Z,{span:2,children:(0,g.J1)(d.Z.restore[k],S,j.Z,!1,(()=>t(s)))}),(0,b.jsx)(a.Z,{span:2,children:(o=()=>l(s),(0,g.J1)(d.Z.delete[C.language],S,h.Z,!1,o))})]},s);var o,u,Z}))}):(0,b.jsx)(r.Z,{style:{margin:"auto"},image:r.Z.PRESENTED_IMAGE_SIMPLE,description:""})}));var k=t(4320),v=t(6246);const I=(0,c.Pi)((e=>{let{query:s}=e;const{list:t,restoreItem:l,deleteItem:c}=k.listStore,{isSmallScreen:m}=Z.userStore,{userOptions:S}=u.optionsStore,{language:E}=S,[C,I]=(0,o.useState)([]),M=(0,o.useMemo)((()=>Object.keys(t).reduce(((e,l)=>{if(!0===t[l].deleted){const r=(0,y.yC)(s,t[l].title);if(0!==(null===r||void 0===r?void 0:r.length))return[...e,{id:l,overlaps:r}]}return e}),[])),[t,s]),A=(0,o.useCallback)((()=>{I((e=>(e.forEach((e=>{c(e)})),[])))}),[c]),P=(0,o.useCallback)((()=>{I((e=>(e.forEach((e=>{l(e)})),[])))}),[l]),O=(0,o.useCallback)((e=>s=>{const t=s.target.checked;I(t?s=>[...s,e]:s=>s.filter((s=>s!==e)))}),[I]);return M.length?(0,b.jsx)(n.Z,{style:{inlineSize:"100%"},children:M.map((e=>{let{id:s,overlaps:r}=e;const n=t[s];return(0,b.jsxs)(i.Z,{children:[(0,b.jsx)(a.Z,{span:1,children:(u=s,Z=O,(0,g.$m)(C.includes(u),E,m,Z(u),A,P))}),(0,b.jsx)(a.Z,{span:1,children:(0,g.Vh)(n.image,m,E)}),(0,b.jsx)(a.Z,{span:10,children:(0,g.I$)(n.title,m,E,!1,r)}),(0,b.jsx)(a.Z,{span:2,children:(0,g.J1)((0,b.jsx)(v.Z,{initialItem:{id:s,overlaps:r},mode:"grid"}),m,p.Z,!0)}),(0,b.jsx)(a.Z,{span:2,children:(0,g.J1)("".concat(d.Z.deletedAt[E],": ").concat(f()(n.deletedAt).format("HH:mm:ss DD.MM.YY")),m,x.Z,!1)}),(0,b.jsx)(a.Z,{span:2,children:(0,g.J1)(d.Z.restore[E],m,j.Z,!1,(()=>l(s)))}),(0,b.jsx)(a.Z,{span:2,children:(o=()=>c(s),(0,g.J1)(d.Z.delete[S.language],m,h.Z,!1,o))})]},s);var o,u,Z}))}):(0,b.jsx)(r.Z,{style:{margin:"auto"},image:r.Z.PRESENTED_IMAGE_SIMPLE,description:""})}));var M=t(1431),A=t(1082),P=t(2556),O=t(4248);const D=(0,c.Pi)((e=>{let{query:s,setQuery:t,debouncedQuery:r,isExpenses:n,setIsExpenses:a}=e;const{deleteItem:i,restoreItem:c,list:p}=k.listStore,{categories:x,deleteCategory:y,restoreCategory:S}=m.categoryStore,{isSmallScreen:f,tourRefs:E}=Z.userStore,{userOptions:C}=u.optionsStore,{language:v}=C,[I,D]=(0,o.useState)(!1),J=(0,o.useCallback)((()=>{Object.keys(p).forEach((e=>{p[e].deleted&&i(e)})),Object.keys(x).forEach((e=>{x[e].deleted&&y(e)}))}),[p,x,y,i]),q=(0,o.useCallback)((()=>{Object.keys(p).forEach((e=>{p[e].deleted&&c(e)})),Object.keys(x).forEach((e=>{x[e].deleted&&S(e)}))}),[p,x,S,c]),z=(0,o.useCallback)((e=>{t(e.target.value),D(!0)}),[t,D]);return(0,o.useEffect)((()=>{D(!1)}),[r]),(0,b.jsxs)(l.Z,{gap:16,ref:E[5],style:{inlineSize:"100%"},children:[(0,b.jsx)(M.Z,{title:d.Z.deleteAll[v],children:(0,b.jsx)(A.Z,{title:d.Z.deleteAllConfirm[v],onConfirm:J,children:(0,b.jsx)(P.ZP,{size:f?"small":"middle",children:(0,b.jsx)(h.Z,{style:{scale:f?"1":"1.5"}})})})}),(0,b.jsx)(M.Z,{title:d.Z.restoreAll[v],children:(0,b.jsx)(A.Z,{title:d.Z.restoreAllConfirm[v],onConfirm:q,children:(0,b.jsx)(P.ZP,{size:f?"small":"middle",children:(0,b.jsx)(j.Z,{style:{scale:f?"1":"1.5"}})})})}),(0,g.q8)(z,s,I,f),(0,b.jsx)(O.Z,{onChange:a,value:n,options:[{label:d.Z.expenses[v],value:!0},{label:d.Z.categories[v],value:!1}]})]})}));var J=t(763),q=t(4878);const z=(0,c.Pi)((()=>{const{isSmallScreen:e,tourRefs:s}=Z.userStore,[t,r]=(0,o.useState)(""),[n,a]=(0,o.useState)(""),[i,c]=(0,o.useState)(!0),d=(0,o.useMemo)((()=>(0,J.debounce)((e=>a(e)),q.Z.optionsDebounceDelay)),[]);return(0,o.useEffect)((()=>(d(t),()=>{d.cancel()})),[t,d]),(0,b.jsxs)(l.Z,{vertical:!0,gap:e?16:32,children:[(0,b.jsx)(D,{query:t,setQuery:r,debouncedQuery:n,isExpenses:i,setIsExpenses:c}),(0,b.jsx)(l.Z,{ref:s[4],vertical:e,gap:e?16:32,style:{inlineSize:"100%"},children:i?(0,b.jsx)(I,{query:n}):(0,b.jsx)(C,{query:n})})]})}))}}]);
//# sourceMappingURL=324.7201352c.chunk.js.map