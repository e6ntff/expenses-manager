"use strict";(self.webpackChunkfinance_tracker=self.webpackChunkfinance_tracker||[]).push([[305],{7857:(e,t,n)=>{n.d(t,{$m:()=>I,I$:()=>C,IX:()=>k,J1:()=>D,JN:()=>z,Vh:()=>S,Zi:()=>T,o5:()=>b,q8:()=>M});var l=n(1635),s=n(5563),a=n(7201),r=n(1431),c=n(8633),i=n(9367),o=n(1429),d=n(952),h=n(2556),u=n(7338),x=n(8416),m=n(7892),g=n.n(m),j=n(8418),Z=(n(2791),n(2603)),f=n(4191),y=n.n(f),p=n(184);const v=(e,t,n,l,a,r)=>" "===e?(0,p.jsx)(p.Fragment,{children:"\xa0"}):(0,p.jsx)(s.Z.Text,{type:"expense"===t?"danger":"success",style:{fontSize:l?"1em":"1.25em"},editable:a,ellipsis:!0,strong:n,children:e},r||0),C=(e,t,n,l,s,r)=>{const c=r?e.split("").map(((e,l)=>{const a=r.some((e=>{let[t,n]=e;return l>=t&&l<=n}));return v(e,t,a,n,s,l)})):[v(e||x.Z.noTitle[l],t,!1,n,s)];return(0,p.jsx)(a.Z,{justify:"center",style:{inlineSize:"100%",opacity:e?"1":".5"},children:c},y()())},S=(e,t,n,s)=>e?(0,p.jsx)(r.Z,{color:"#0005",placement:"right",title:!e.startsWith("#")&&(0,p.jsx)(c.Z,{preview:!1,src:e,style:{borderRadius:"50%",inlineSize:"100%",blockSize:"100%",objectFit:"cover"}}),children:(0,p.jsx)(i.C,{style:{cursor:"pointer",background:e.startsWith("#")?e:"unset"},size:t?"small":"default",icon:(0,p.jsx)(a.Z,{style:{inlineSize:"100%",blockSize:"100%",objectFit:"cover"},children:!e.startsWith("#")&&(0,p.jsx)(c.Z,{preview:!1,src:e,style:{inlineSize:"100%",blockSize:"100%",objectFit:"cover"}})})})}):(0,p.jsx)(r.Z,{title:x.Z.noImage[n],children:(0,p.jsx)(i.C,{style:{cursor:"pointer"},onClick:s,icon:(0,p.jsx)(l.Z,{})})}),k=(e,t)=>(0,p.jsx)(o.Z,{value:g()(e).format("DD.MM.YY"),style:{scale:t?".67":".75"}}),b=e=>(0,p.jsx)(a.Z,{vertical:!0,align:"stretch",children:e&&(0,p.jsx)(d.Z,{color:e.color,children:(0,p.jsx)("span",{style:{margin:"auto",color:e.color,filter:"invert(1)"},children:e.name})})}),z=(e,t,n,l,r)=>(0,p.jsxs)(a.Z,{justify:"center",children:[(0,p.jsxs)(s.Z.Text,{strong:!0,type:"expense"===t?"danger":"success",style:{fontSize:n?"1.25em":"1.5em"},children:[(0,j.Rh)(l),Math.round(e[l])]}),r&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s.Z.Text,{strong:!0,type:"expense"===t?"danger":"success",style:{fontSize:n?"1.25em":"1.5em"},children:"/"}),(0,p.jsxs)(s.Z.Text,{strong:!0,type:"expense"===t?"danger":"success",style:{fontSize:n?"1.25em":"1.5em"},children:[(0,j.Rh)(l),Math.round(r[l])]})]})]}),D=(e,t,n,l,s,a)=>(0,p.jsx)(r.Z,{placement:a,title:e,color:l?"#0005":void 0,children:(0,p.jsx)(n,{onClick:s,style:{scale:t?"1":"1.25"}})}),I=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},s=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0;return(0,p.jsx)(r.Z,{color:"#0000",title:e?(0,p.jsxs)(a.Z,{vertical:!0,gap:n?4:8,children:[(0,p.jsx)(h.ZP,{onClick:s,size:n?"small":"middle",children:x.Z.deleteSelected[t]}),c&&(0,p.jsx)(h.ZP,{onClick:c,size:n?"small":"middle",children:x.Z.restoreSelected[t]})]}):"",children:(0,p.jsx)(u.Z,{onChange:l,checked:e})})},M=(e,t,n,l)=>(0,p.jsx)(Z.Z,{size:l?"small":"middle",allowClear:!0,onChange:e,value:t,loading:n}),T=(e,t,n)=>t?(0,p.jsxs)(p.Fragment,{children:["".concat(x.Z.createdAt[n]," ").concat(g()(e).format("HH:mm:ss DD.MM.YY")),(0,p.jsx)("br",{}),"".concat(x.Z.updatedAt[n]," ").concat(g()(t).format("HH:mm:ss DD.MM.YY"))]}):(0,p.jsx)(p.Fragment,{children:"".concat(x.Z.createdAt[n]," ").concat(g()(e).format("HH:mm:ss DD.MM.YY"))})},2305:(e,t,n)=>{n.r(t),n.d(t,{default:()=>G});var l=n(7201),s=n(1468),a=n(4587),r=n(5563),c=n(3887),i=n(3936),o=n(7257),d=n(2791),h=n(7857),u=n(8416),x=n(7892),m=n.n(x),g=n(7703),j=n(8807),Z=n(2622),f=n(9966),y=n(7575),p=n(1752),v=n(6370),C=n(4878),S=n(8418),k=n(184);const b=(0,o.Pi)((e=>{let{initialGoalId:t,handleMoneyChange:n,handleDateChange:o,handleTitleChange:x}=e;const{isSmallScreen:b}=j.userStore,{userOptions:z}=g.optionsStore,{goals:D,lastDeletedGoalIds:I,setLastDeletedGoalIds:M,replaceGoal:T}=v.default,{language:O,currency:G}=z,[R,F]=(0,d.useState)(D[t]),{title:Y,date:w,money:P,createdAt:A,updatedAt:H}=R,[J,W]=(0,d.useState)(!1),X=(0,d.useCallback)((()=>{M([...I,t])}),[M,t,I]);(0,d.useEffect)((()=>{!J&&T(t,R)}),[R,J]);const $=()=>{var e;const t=w.start<m()().valueOf(),n=t?(m()().valueOf()-w.start)/(w.end-w.start)*100:(m()().valueOf()-A)/(w.start-A)*100,c=null===(e=[[t?m()(w.end).diff(m()(),"day"):m()(w.start).diff(m()(),"day")," d"],[t?m()(w.end).diff(m()(),"hour"):m()(w.start).diff(m()(),"hour")," h"],[t?m()(w.end).diff(m()(),"minute"):m()(w.start).diff(m()(),"minute")," m"]].find((e=>e[0]>0)))||void 0===e?void 0:e.join("");return(0,k.jsxs)(l.Z,{gap:b?16:32,align:"center",children:[(0,k.jsxs)(l.Z,{vertical:!0,align:"center",gap:8,style:{inlineSize:"100%"},children:[(0,k.jsx)(a.Z,{size:b?"small":"default",percent:P.collected.USD/P.total.USD*100,format:e=>"".concat(Math.round(e),"%")}),(0,k.jsx)(l.Z,{align:"center",children:J?(0,k.jsx)(s.Z.RangePicker,{onChange:e=>{o(e[0].valueOf(),"start",F),o(e[1].valueOf(),"end",F)},value:[m()(w.start),m()(w.end)],size:b?"small":"middle",minDate:C.Z.startDate,maxDate:C.Z.endDate}):(0,k.jsxs)(k.Fragment,{children:[(0,h.IX)(w.start,b),(0,k.jsx)(r.Z.Text,{strong:!0,children:"-"}),(0,h.IX)(w.end,b)]})})]}),(0,k.jsx)(a.Z,{status:t?"exception":"active",type:"circle",size:"small",percent:n,format:()=>c})]})},N=(0,k.jsxs)(l.Z,{justify:"space-evenly",children:[(0,h.J1)(u.Z.delete[O],b,Z.Z,!1,X),J?(0,k.jsxs)(l.Z,{gap:8,align:"center",children:[(0,k.jsx)(c.Z,{formatter:e=>"".concat((0,S.Rh)(G)).concat(e),value:P.collected[G],onChange:e=>n(e,"collected",F)}),(0,k.jsx)(r.Z.Text,{strong:!0,children:"/"}),(0,k.jsx)(c.Z,{formatter:e=>"".concat((0,S.Rh)(G)).concat(e),value:P.total[G],onChange:e=>n(e,"total",F)})]}):(0,h.JN)(P.collected,"expense",b,G,P.total),(0,h.J1)((0,h.Zi)(A,H,O),b,f.Z,!1,void 0)]});return(0,k.jsx)(i.Z,{title:(0,h.I$)(Y,"expense",b,O,!!J&&{onChange:e=>x(e,F)}),extra:(0,h.J1)(u.Z.edit[O],b,J?y.Z:p.Z,!1,(()=>W((e=>!e)))),styles:{actions:{alignItems:"center"}},actions:[N],style:{inlineSize:"100%"},children:(0,k.jsx)($,{})})}));var z=n(4352),D=n(3070),I=n(4133),M=n(2556);const T=(0,o.Pi)((e=>{let{handleMoneyChange:t,handleDateChange:n,handleTitleChange:a}=e;const{isSmallScreen:i}=j.userStore,{addGoal:o}=v.default,{userOptions:h}=g.optionsStore,{currency:x,language:Z}=h,[f,p]=(0,d.useState)([]),[b,T]=(0,d.useState)(C.Z.emptyGoal),O=(0,d.useCallback)((()=>{f.length?(p([]),T(C.Z.emptyGoal)):p(["0"])}),[p,f]),G=(0,d.useCallback)((()=>{const e=m()().valueOf();o({...b,createdAt:e}),O()}),[o,O,b]);return(0,k.jsx)(z.Z,{style:{inlineSize:i?"25em":"35em"},ghost:!0,onChange:O,activeKey:f,items:[{key:"0",label:u.Z.newGoal[Z],children:(0,k.jsxs)(D.Z,{children:[(0,k.jsx)(D.Z.Item,{children:(0,k.jsx)(I.Z,{value:b.title,onChange:e=>a(e.target.value,T)})}),(0,k.jsxs)(D.Z.Item,{children:[(0,k.jsx)(s.Z,{onChange:e=>n(e,"start",T)}),(0,k.jsx)(r.Z.Text,{strong:!0,children:" - "}),(0,k.jsx)(s.Z,{onChange:e=>n(e,"end",T)})]}),(0,k.jsx)(D.Z.Item,{children:(0,k.jsxs)(l.Z,{justify:"space-between",children:[(0,k.jsxs)(l.Z,{gap:8,align:"center",children:[(0,k.jsx)(c.Z,{formatter:e=>"".concat((0,S.Rh)(x)).concat(e),value:b.money.collected[x],onChange:e=>t(e,"collected",T)}),(0,k.jsx)(r.Z.Text,{strong:!0,children:"/"}),(0,k.jsx)(c.Z,{formatter:e=>"".concat((0,S.Rh)(x)).concat(e),value:b.money.total[x],onChange:e=>t(e,"total",T)})]}),(0,k.jsx)(M.ZP,{disabled:!b.title,onClick:()=>G(),children:(0,k.jsx)(y.Z,{})})]})})]})}]})}));var O=n(1457);const G=(0,o.Pi)((()=>{const{isSmallScreen:e,currencyRates:t}=j.userStore,{goals:n,lastDeletedGoalIds:s}=v.default,{userOptions:a}=g.optionsStore,{currency:r}=a,c=(0,d.useCallback)(((e,t)=>{t((t=>({...t,title:e})))}),[]),i=(0,d.useCallback)(((e,n,l)=>{l((l=>{const s={...l,money:{...l.money,[n]:{...l.money[n],[r]:e}}};return{...s,money:{...s.money,[n]:(0,O.Z)(s.money[n],t,r)}}}))}),[r,t]),o=(0,d.useCallback)(((e,t,n)=>{n((n=>({...n,date:{...n.date,[t]:e.valueOf()}})))}),[]);return(0,k.jsxs)(l.Z,{style:{inlineSize:e?"25em":"35em",margin:"auto"},vertical:!0,gap:e?16:32,align:"center",children:[(0,k.jsx)(T,{handleMoneyChange:i,handleDateChange:o,handleTitleChange:c}),Object.keys(n).filter((e=>!s.includes(e))).map((e=>(0,k.jsx)(b,{initialGoalId:e,handleMoneyChange:i,handleDateChange:o,handleTitleChange:c},e)))]})}))}}]);
//# sourceMappingURL=305.2fd7e241.chunk.js.map