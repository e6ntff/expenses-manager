"use strict";(self.webpackChunkexpenses_manager=self.webpackChunkexpenses_manager||[]).push([[324],{4324:(e,s,t)=>{t.r(s),t.d(s,{default:()=>J});var l=t(7201),r=t(4664),n=t(6051),a=t(914),i=t(6220),c=t(7257),o=t(2791),d=t(8416),u=t(7703),Z=t(8807),x=t(2622),h=t(2864),j=t(9966),p=t(8030),g=t(3475),m=t(7857),y=t(8418),S=t(7892),f=t.n(S),b=t(8650),v=t(184);const E=(0,c.Pi)((e=>{let{query:s}=e;const{restoreCategory:t,deleteCategory:l,categories:c}=g.categoryStore,{isSmallScreen:S}=Z.userStore,{userOptions:E}=u.optionsStore,{language:C}=E,[k,I]=(0,o.useState)([]),M=(0,o.useMemo)((()=>Object.keys(c).reduce(((e,t)=>{if(!0===c[t].deleted){const l=(0,y.yC)(s,c[t].name);if(0!==(null===l||void 0===l?void 0:l.length))return[...e,{id:t,overlaps:l}]}return e}),[])),[c,s]),A=(0,o.useCallback)((()=>{I((e=>(e.forEach((e=>{l(e)})),[])))}),[l]),P=(0,o.useCallback)((()=>{I((e=>(e.forEach((e=>{t(e)})),[])))}),[t]),q=(0,o.useCallback)((e=>s=>{const t=s.target.checked;I(t?s=>[...s,e]:s=>s.filter((s=>s!==e)))}),[I]);return M.length?(0,v.jsx)(n.Z,{style:{inlineSize:"100%"},children:M.map((e=>{let{id:s,overlaps:r}=e;const n=c[s];return(0,v.jsxs)(i.Z,{children:[(0,v.jsx)(a.Z,{span:1,children:(u=s,Z=q,(0,m.$m)(k.includes(u),C,S,Z(u),A,P))}),(0,v.jsx)(a.Z,{span:16,children:(0,m.I$)(n.name,S,C,!1,r)}),(0,v.jsx)(a.Z,{span:1,children:(0,m.J1)((0,v.jsx)(b.Z,{initialCategoryId:s,disabled:!0}),S,h.Z,!0)}),(0,v.jsx)(a.Z,{span:1,children:(0,m.J1)("".concat(d.Z.deletedAt[C],": ").concat(f()(n.deletedAt).format("HH:mm:ss DD.MM.YY")),S,j.Z,!1)}),(0,v.jsx)(a.Z,{span:1,children:(0,m.J1)(d.Z.restore[C],S,p.Z,!1,(()=>t(s)))}),(0,v.jsx)(a.Z,{span:1,children:(o=()=>l(s),(0,m.J1)(d.Z.delete[E.language],S,x.Z,!1,o))})]},s);var o,u,Z}))}):(0,v.jsx)(r.Z,{style:{margin:"auto"},image:r.Z.PRESENTED_IMAGE_SIMPLE,description:""})}));var C=t(4320),k=t(6246);const I=(0,c.Pi)((e=>{let{query:s}=e;const{list:t,restoreItem:l,deleteItem:c}=C.listStore,{isSmallScreen:g}=Z.userStore,{userOptions:S}=u.optionsStore,{language:b}=S,[E,I]=(0,o.useState)([]),M=(0,o.useMemo)((()=>Object.keys(t).reduce(((e,l)=>{if(!0===t[l].deleted){const r=(0,y.yC)(s,t[l].title);if(0!==(null===r||void 0===r?void 0:r.length))return[...e,{id:l,overlaps:r}]}return e}),[])),[t,s]),A=(0,o.useCallback)((()=>{I((e=>(e.forEach((e=>{c(e)})),[])))}),[c]),P=(0,o.useCallback)((()=>{I((e=>(e.forEach((e=>{l(e)})),[])))}),[l]),q=(0,o.useCallback)((e=>s=>{const t=s.target.checked;I(t?s=>[...s,e]:s=>s.filter((s=>s!==e)))}),[I]);return M.length?(0,v.jsx)(n.Z,{style:{inlineSize:"100%"},children:M.map((e=>{let{id:s,overlaps:r}=e;const n=t[s];return(0,v.jsxs)(i.Z,{children:[(0,v.jsx)(a.Z,{span:1,children:(u=s,Z=q,(0,m.$m)(E.includes(u),b,g,Z(u),A,P))}),(0,v.jsx)(a.Z,{span:16,children:(0,m.I$)(null===n||void 0===n?void 0:n.title,g,b,!1,r)}),(0,v.jsx)(a.Z,{span:1,children:(0,m.J1)((0,v.jsx)(k.Z,{initialItem:{id:s,overlaps:r},mode:"grid",selected:E.includes(s),disabled:!0}),g,h.Z,!0)}),(0,v.jsx)(a.Z,{span:1,children:(0,m.J1)("".concat(d.Z.deletedAt[b],": ").concat(f()(null===n||void 0===n?void 0:n.deletedAt).format("HH:mm:ss DD.MM.YY")),g,j.Z,!1)}),(0,v.jsx)(a.Z,{span:1,children:(0,m.J1)(d.Z.restore[b],g,p.Z,!1,(()=>l(s)))}),(0,v.jsx)(a.Z,{span:1,children:(o=()=>c(s),(0,m.J1)(d.Z.delete[S.language],g,x.Z,!1,o))})]},s);var o,u,Z}))}):(0,v.jsx)(r.Z,{style:{margin:"auto"},image:r.Z.PRESENTED_IMAGE_SIMPLE,description:""})}));var M=t(1431),A=t(1082),P=t(2556),q=t(4248);const O=(0,c.Pi)((e=>{let{query:s,setQuery:t,debouncedQuery:r,isExpenses:n,setIsExpenses:a}=e;const{deleteItem:i,restoreItem:c,list:h}=C.listStore,{categories:j,deleteCategory:y,restoreCategory:S}=g.categoryStore,{isSmallScreen:f,tourRefs:b}=Z.userStore,{userOptions:E}=u.optionsStore,{language:k}=E,[I,O]=(0,o.useState)(!1),z=(0,o.useCallback)((()=>{Object.keys(h).forEach((e=>{h[e].deleted&&i(e)})),Object.keys(j).forEach((e=>{j[e].deleted&&y(e)}))}),[h,j,y,i]),D=(0,o.useCallback)((()=>{Object.keys(h).forEach((e=>{h[e].deleted&&c(e)})),Object.keys(j).forEach((e=>{j[e].deleted&&S(e)}))}),[h,j,S,c]),J=(0,o.useCallback)((e=>{t(e.target.value),O(!0)}),[t,O]);return(0,o.useEffect)((()=>{O(!1)}),[r]),(0,v.jsxs)(l.Z,{vertical:!0,gap:8,align:"end",children:[(0,v.jsxs)(l.Z,{gap:16,ref:b[5],style:{inlineSize:"100%"},children:[(0,v.jsx)(M.Z,{title:d.Z.deleteAll[k],children:(0,v.jsx)(A.Z,{title:d.Z.deleteAllConfirm[k],onConfirm:z,children:(0,v.jsx)(P.ZP,{size:f?"small":"middle",children:(0,v.jsx)(x.Z,{style:{scale:f?"1":"1.5"}})})})}),(0,v.jsx)(M.Z,{title:d.Z.restoreAll[k],children:(0,v.jsx)(A.Z,{title:d.Z.restoreAllConfirm[k],onConfirm:D,children:(0,v.jsx)(P.ZP,{size:f?"small":"middle",children:(0,v.jsx)(p.Z,{style:{scale:f?"1":"1.5"}})})})}),(0,v.jsx)(l.Z,{style:{inlineSize:f?"100%":"50%"},children:(0,m.q8)(J,s,I,f)})]}),f&&(0,v.jsx)(q.Z,{onChange:a,value:n,options:[{label:d.Z.expenses[k],value:!0},{label:d.Z.categories[k],value:!1}]})]})}));var z=t(763),D=t(4878);const J=(0,c.Pi)((()=>{const{isSmallScreen:e,tourRefs:s}=Z.userStore,[t,r]=(0,o.useState)(""),[n,a]=(0,o.useState)(""),[i,c]=(0,o.useState)(!0),d=(0,o.useMemo)((()=>(0,z.debounce)((e=>a(e)),D.Z.optionsDebounceDelay)),[]);return(0,o.useEffect)((()=>(d(t),()=>{d.cancel()})),[t,d]),(0,v.jsxs)(l.Z,{vertical:!0,gap:e?16:32,children:[(0,v.jsx)(O,{query:t,setQuery:r,debouncedQuery:n,isExpenses:i,setIsExpenses:c}),(0,v.jsx)(l.Z,{ref:s[4],gap:e?16:32,style:{inlineSize:"100%"},children:e?i?(0,v.jsx)(I,{query:n}):(0,v.jsx)(E,{query:n}):(0,v.jsxs)(l.Z,{style:{inlineSize:"100%"},gap:32,children:[(0,v.jsx)(I,{query:n}),(0,v.jsx)(E,{query:n})]})})]})}))}}]);
//# sourceMappingURL=324.5e585e8a.chunk.js.map