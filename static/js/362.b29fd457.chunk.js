"use strict";(self.webpackChunkexpenses_manager=self.webpackChunkexpenses_manager||[]).push([[362],{8650:(e,t,l)=>{l.d(t,{Z:()=>P});var s=l(2791),n=l(3475),a=l(7257),i=l(4320),r=l(1431),o=l(9522),c=l(4520),d=l(3936),u=l(8807),m=l(8416),p=l(7703),x=l(2506),y=l(6051),g=l(914),j=l(1429),Z=l(5160),h=l(6220),v=l(7892),C=l.n(v),S=l(2499),b=l(4878),f=l(9335),k=l(7857),z=l(184);const I=(0,a.Pi)((e=>{let{opened:t,setOpened:l,itemIds:n}=e;const{userList:a,replaceItem:r,listTemplate:o}=i.listStore,{isSmallScreen:d,isTourStarted:v}=u.userStore,{userOptions:I}=p.optionsStore,{language:O}=I,P=(0,s.useMemo)((()=>v?o:a),[v,o,a]),N=(0,s.useCallback)((e=>{r(e,{...P[e],categoryId:b.Z.emptyItem.categoryId})}),[P,r]);return(0,z.jsx)(x.Z,{open:t,onCancel:()=>{l(!1)},okButtonProps:{style:{display:"none"}},cancelButtonProps:{style:{display:"none"}},children:(0,z.jsx)(f.ZP,{autoHide:!0,style:{blockSize:"75vh"},children:(0,z.jsx)(y.Z,{children:n.map((e=>(0,z.jsxs)(h.Z,{children:[(0,z.jsx)(g.Z,{span:5,children:(0,z.jsx)(j.Z,{value:C()(P[e].date).format("DD.MM.YY"),style:{scale:d?".75":"1"}})}),(0,z.jsx)(g.Z,{span:10,children:(0,z.jsx)(c.Z,{justify:"center",style:{opacity:P[e].title?"1":".5"},children:d?(0,z.jsx)(Z.Z.Text,{strong:!0,ellipsis:!0,children:P[e].title||m.Z.noTitle[I.language]}):(0,z.jsx)(S.Z,{ellipsis:!0,level:3,style:{margin:0},children:P[e].title||m.Z.noTitle[I.language]})})}),(0,z.jsx)(g.Z,{span:2,children:(0,k.UP)(m.Z.delete[O],d,(()=>{N(e)}))})]},e)))})})})})),O=(0,s.memo)(I),P=(0,a.Pi)((e=>{let{initialCategoryId:t,category:l}=e;const{replaceCategory:a,userCategories:x,setLastDeletedCategoryIds:y,lastDeletedCategoryIds:g,categoriesTemplate:j}=n.categoryStore,{userList:Z,listTemplate:h}=i.listStore,{isSmallScreen:v,isTourStarted:C}=u.userStore,{userOptions:S}=p.optionsStore,{language:b}=S,f=(0,s.useMemo)((()=>C?h:Z),[C,h,Z]),I=(0,s.useMemo)((()=>C?j:x),[C,j,x]),[P,N]=(0,s.useState)(l||I[t]),[T,M]=(0,s.useState)(!1),w=(0,s.useMemo)((()=>Object.keys(f).reduce(((e,l)=>f[l].categoryId===t?[...e,l]:[...e]),[])),[f,t]),E=(0,s.useCallback)((()=>{y([...g,t])}),[y,t,g]),D=(0,s.useCallback)((e=>{N((l=>JSON.stringify(l)!==JSON.stringify(e)?(a(t,e),e):l))}),[N,a,t]),F=(0,s.useCallback)((e=>{N((t=>{const l={...t,name:e};return D(l),l}))}),[N,D]),R=(0,s.useCallback)((e=>{N((t=>{const l={...t,color:"#".concat(e.toHex())};return D(l),l}))}),[N,D]),_=(0,z.jsx)(r.Z,{title:m.Z.pickColor[b],children:(0,z.jsx)(o.Z,{size:v?"small":"middle",value:P.color,format:"hex",onChangeComplete:R})}),L=(0,s.useMemo)((()=>"".concat(m.Z.itemsWithCurrentCategory[b],": ").concat(w.length)),[w,b]),Y=(0,z.jsxs)(c.Z,{align:"center",justify:"space-evenly",children:[(0,k.zF)(L,v,(()=>{w.length&&M(!0)})),_,(0,k.UP)(m.Z.delete[S.language],v,E)]});return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(d.Z,{style:{inlineSize:v?"8em":"12em"},size:v?"small":"default",title:(0,k.I$)(P.name,v,b,{onChange:F}),actions:[Y],styles:{title:{padding:10},body:{padding:0}}}),(0,z.jsx)(O,{opened:T,setOpened:M,itemIds:w})]})}))},7857:(e,t,l)=>{l.d(t,{I$:()=>C,IX:()=>b,JN:()=>k,UP:()=>I,Vh:()=>S,eb:()=>z,o5:()=>f,zF:()=>v});var s=l(9966),n=l(1635),a=l(1752),i=l(2622),r=l(1431),o=l(4520),c=l(5160),d=l(8104),u=l(9367),m=l(1429),p=l(952),x=l(2499),y=l(8416),g=l(7892),j=l.n(g),Z=l(8418),h=l(184);const v=(e,t,l)=>(0,h.jsx)(r.Z,{title:e,children:(0,h.jsx)(s.Z,{onClick:l,style:{scale:t?"1":"1.5"}})}),C=(e,t,l,s)=>(0,h.jsx)(o.Z,{justify:"center",style:{opacity:e?"1":".5"},children:t?(0,h.jsx)(c.Z.Text,{strong:!0,ellipsis:!0,editable:s||!1,children:e||y.Z.noTitle[l]}):(0,h.jsx)(x.Z,{editable:s||!1,ellipsis:!0,level:3,style:{margin:0},children:e||y.Z.noTitle[l]})}),S=(e,t,l,s)=>e?(0,h.jsx)(r.Z,{color:"#0005",placement:"right",title:(0,h.jsx)(d.Z,{preview:!1,src:e,style:{borderRadius:"50%",inlineSize:"100%",blockSize:"100%",objectFit:"cover"}}),children:(0,h.jsx)(u.C,{style:{cursor:"pointer"},size:t?"small":"default",icon:(0,h.jsx)(o.Z,{style:{inlineSize:"100%",blockSize:"100%",objectFit:"cover"},children:(0,h.jsx)(d.Z,{preview:!1,src:e,style:{inlineSize:"100%",blockSize:"100%",objectFit:"cover"}})})})}):(0,h.jsx)(r.Z,{title:y.Z.noImage[s],children:(0,h.jsx)(u.C,{style:{cursor:"pointer"},onClick:l,icon:(0,h.jsx)(n.Z,{})})}),b=(e,t)=>(0,h.jsx)(m.Z,{value:j()(e).format("DD.MM.YY"),style:{scale:t?".67":".75"}}),f=e=>(0,h.jsx)(o.Z,{vertical:!0,align:"stretch",children:e&&(0,h.jsx)(p.Z,{color:e.color,children:(0,h.jsx)("span",{style:{margin:"auto",color:e.color,filter:"invert(1)"},children:e.name})})}),k=(e,t,l)=>(0,h.jsx)(o.Z,{justify:"center",children:t?(0,h.jsxs)(c.Z.Text,{strong:!0,children:[(0,Z.Rh)(l),Math.round(e[l])]}):(0,h.jsx)(x.Z,{level:3,style:{margin:0},children:(0,Z.Rh)(l,e[l])})}),z=(e,t,l)=>(0,h.jsx)(r.Z,{title:e,children:(0,h.jsx)(a.Z,{onClick:l,style:{scale:t?"1":"1.5"}})}),I=(e,t,l)=>(0,h.jsx)(r.Z,{title:e,children:(0,h.jsx)(i.Z,{onClick:l,style:{scale:t?"1":"1.5"}})})},1362:(e,t,l)=>{l.r(t),l.d(t,{default:()=>S});var s=l(2791),n=l(8650),a=l(3475),i=l(7257),r=l(4520),o=l(1046),c=l(4664),d=l(8807),u=l(6281),m=l(184);const p=(0,i.Pi)((()=>{const{userCategories:e,lastDeletedCategoryIds:t,categoriesTemplate:l}=a.categoryStore,{loading:i,isSmallScreen:p,isTourStarted:x}=d.userStore,y=(0,s.useMemo)((()=>x?l:e),[x,l,e]),g=(0,s.useMemo)((()=>Object.keys(y).slice(1).filter((e=>!t.includes(e)&&!y[e].deleted))),[y,t]);return(0,m.jsx)(r.Z,{style:{inlineSize:"100%"},vertical:!0,gap:16,children:i?(0,m.jsx)(u.Z,{}):Object.values(y).length>1?(0,m.jsx)(o.Z,{wrap:!0,size:p?8:16,children:g.map((e=>(0,m.jsx)(n.Z,{initialCategoryId:e},e)))}):(0,m.jsx)(c.Z,{image:c.Z.PRESENTED_IMAGE_SIMPLE,description:""})})})),x=(0,s.memo)(p);var y=l(4878),g=l(9522),j=l(1855),Z=l(2556),h=l(7575);const v=(0,i.Pi)((()=>{const{addCategory:e}=a.categoryStore,{isSmallScreen:t}=d.userStore,[l,n]=(0,s.useState)(y.Z.defaultCategory),i=(0,s.useCallback)((e=>{const{value:t}=e.target;n((e=>({...e,name:t})))}),[n]),o=(0,s.useCallback)((e=>{n((t=>({...t,color:"#".concat(e.toHex())})))}),[n]),c=(0,s.useCallback)((()=>{n(y.Z.defaultCategory)}),[n]),u=(0,s.useCallback)((()=>{e(l),c()}),[l,e,c]);return(0,m.jsxs)(r.Z,{gap:32,style:{inlineSize:"min(100%, 560px)",margin:"auto"},children:[(0,m.jsx)(g.Z,{size:t?"small":"middle",value:l.color,format:"hex",onChange:o}),(0,m.jsx)(j.Z,{size:t?"small":"middle",type:"text",value:l.name,onChange:i}),(0,m.jsx)(Z.ZP,{onClick:u,size:t?"small":"middle",children:(0,m.jsx)(h.Z,{})})]})}));var C=l(7128);const S=()=>(0,m.jsxs)(r.Z,{vertical:!0,align:"center",gap:16,children:[(0,m.jsx)(v,{}),(0,m.jsx)(C.Z,{}),(0,m.jsx)(x,{})]})},1046:(e,t,l)=>{l.d(t,{Z:()=>j});var s=l(2791),n=l(1418),a=l.n(n),i=l(5501),r=l(6384),o=l(1929),c=l(11);const d=s.createContext({latestIndex:0}),u=d.Provider,m=e=>{let{className:t,index:l,children:n,split:a,style:i}=e;const{latestIndex:r}=s.useContext(d);return null===n||void 0===n?null:s.createElement(s.Fragment,null,s.createElement("div",{className:t,style:i},n),l<r&&a&&s.createElement("span",{className:"".concat(t,"-split")},a))};var p=l(1294),x=function(e,t){var l={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(l[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(l[s[n]]=e[s[n]])}return l};const y=s.forwardRef(((e,t)=>{var l,n;const{getPrefixCls:c,space:d,direction:y}=s.useContext(o.E_),{size:g=(null===d||void 0===d?void 0:d.size)||"small",align:j,className:Z,rootClassName:h,children:v,direction:C="horizontal",prefixCls:S,split:b,style:f,wrap:k=!1,classNames:z,styles:I}=e,O=x(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[P,N]=Array.isArray(g)?g:[g,g],T=(0,r.n)(N),M=(0,r.n)(P),w=(0,r.T)(N),E=(0,r.T)(P),D=(0,i.Z)(v,{keepEmpty:!0}),F=void 0===j&&"horizontal"===C?"center":j,R=c("space",S),[_,L,Y]=(0,p.Z)(R),A=a()(R,null===d||void 0===d?void 0:d.className,L,"".concat(R,"-").concat(C),{["".concat(R,"-rtl")]:"rtl"===y,["".concat(R,"-align-").concat(F)]:F,["".concat(R,"-gap-row-").concat(N)]:T,["".concat(R,"-gap-col-").concat(P)]:M},Z,h,Y),G=a()("".concat(R,"-item"),null!==(l=null===z||void 0===z?void 0:z.item)&&void 0!==l?l:null===(n=null===d||void 0===d?void 0:d.classNames)||void 0===n?void 0:n.item);let H=0;const J=D.map(((e,t)=>{var l,n;null!==e&&void 0!==e&&(H=t);const a=e&&e.key||"".concat(G,"-").concat(t);return s.createElement(m,{className:G,key:a,index:t,split:b,style:null!==(l=null===I||void 0===I?void 0:I.item)&&void 0!==l?l:null===(n=null===d||void 0===d?void 0:d.styles)||void 0===n?void 0:n.item},e)})),U=s.useMemo((()=>({latestIndex:H})),[H]);if(0===D.length)return null;const B={};return k&&(B.flexWrap="wrap"),!M&&E&&(B.columnGap=P),!T&&w&&(B.rowGap=N),_(s.createElement("div",Object.assign({ref:t,className:A,style:Object.assign(Object.assign(Object.assign({},B),null===d||void 0===d?void 0:d.style),f)},O),s.createElement(u,{value:U},J)))}));const g=y;g.Compact=c.ZP;const j=g}}]);
//# sourceMappingURL=362.b29fd457.chunk.js.map