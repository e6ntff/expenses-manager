/*! For license information please see 474.cb9088a7.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkexpenses_manager=self.webpackChunkexpenses_manager||[]).push([[474],{8474:(e,s,a)=>{a.r(s),a.d(s,{default:()=>z});var n=a(2791),t=a(2965),r=a(7346),l=a(8807),i=a(7257),o=a(8416),c=a(9884),d=a(3070),g=a(1855),p=a(4520),u=a(4231),h=a(5160),w=a(2556),Z=a(8624),x=a(4215),m=a(8272),v=a(7462);const j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}}]},name:"warning",theme:"outlined"};var f=a(4291),y=function(e,s){return n.createElement(f.Z,(0,v.Z)({},e,{ref:s,icon:j}))};const C=n.forwardRef(y);const I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M521.7 82c-152.5-.4-286.7 78.5-363.4 197.7-3.4 5.3.4 12.3 6.7 12.3h70.3c4.8 0 9.3-2.1 12.3-5.8 7-8.5 14.5-16.7 22.4-24.5 32.6-32.5 70.5-58.1 112.7-75.9 43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 32.6 32.5 58.1 70.4 76 112.5C865.7 417.8 875 464.1 875 512c0 47.9-9.4 94.2-27.8 137.8-17.8 42.1-43.4 80-76 112.5s-70.5 58.1-112.7 75.9A352.8 352.8 0 01520.6 866c-47.9 0-94.3-9.4-137.9-27.8A353.84 353.84 0 01270 762.3c-7.9-7.9-15.3-16.1-22.4-24.5-3-3.7-7.6-5.8-12.3-5.8H165c-6.3 0-10.2 7-6.7 12.3C234.9 863.2 368.5 942 520.6 942c236.2 0 428-190.1 430.4-425.6C953.4 277.1 761.3 82.6 521.7 82zM395.02 624v-76h-314c-4.4 0-8-3.6-8-8v-56c0-4.4 3.6-8 8-8h314v-76c0-6.7 7.8-10.5 13-6.3l141.9 112a8 8 0 010 12.6l-141.9 112c-5.2 4.1-13 .4-13-6.3z"}}]},name:"login",theme:"outlined"};var b=function(e,s){return n.createElement(f.Z,(0,v.Z)({},e,{ref:s,icon:I}))};const k=n.forwardRef(b);var A=a(7703),M=a(184);const S=(0,t.v0)(r.Z),z=(0,i.Pi)((()=>{const{setLogged:e}=l.userStore,{userOptions:s}=A.optionsStore,{language:a}=s,r=(0,n.useMemo)((()=>({logIn:{email:!1,password:!1},signIn:{email:!1,password:!1,passwordAgain:!1}})),[]),i=(0,n.useMemo)((()=>({logIn:{email:"",password:""},signIn:{email:"",password:"",passwordAgain:""}})),[]),[v,j]=(0,n.useState)("logIn"),[f,y]=(0,n.useState)(!1),[I,b]=(0,n.useState)(!1),[z,E]=(0,n.useState)(r[v]),[L,q]=(0,n.useState)(i[v]),P=(0,n.useMemo)((()=>{for(const e of Object.values(z))if(!e)return!1;return L.password===L.passwordAgain||"signIn"!==v}),[z,L.password,L.passwordAgain,v]),R=(0,n.useCallback)((e=>{const{value:s,validity:a}=e.target;y(!1),q((e=>({...e,email:s}))),E((e=>({...e,email:a.valid})))}),[y,q,E]),B=(0,n.useCallback)(((e,s)=>{const{value:a}=e.target;y(!1),q((e=>({...e,[s?"passwordAgain":"password"]:a}))),E((e=>({...e,[s?"passwordAgain":"password"]:a.length>=6&&a.length<=16})))}),[y,q,E]),H=(0,n.useCallback)((async()=>{try{await(0,t.Xb)(S,L.email,L.password),e(!0)}catch(s){y(!0)}}),[L,e]),O=(0,n.useCallback)((async()=>{try{await(0,t.e5)(S,L.email,L.password),e(!0)}catch(s){y(!0)}}),[y,L.email,L.password,e]),T=(0,n.useCallback)((()=>{j((e=>{const s="logIn"===e?"signIn":"logIn";return E(r[s]),q(i[s]),y(!1),b(!1),s}))}),[j,E,q,y,b,r,i]),_=()=>{b((e=>!e))};return(0,n.useEffect)((()=>{const e=e=>{"Enter"===e.code&&P&&H()};return window.addEventListener("keyup",e),()=>window.removeEventListener("keyup",e)})),(0,M.jsxs)(d.Z,{layout:"vertical",labelCol:{span:26},wrapperCol:{span:26},children:[(0,M.jsx)(d.Z.Item,{label:o.Z.email[a],children:(0,M.jsx)(g.Z,{required:!0,pattern:"^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$",type:"text",value:L.email,onChange:R})}),(0,M.jsx)(d.Z.Item,{label:(0,M.jsxs)(p.Z,{gap:4,children:[o.Z.password[a],"signIn"===v&&(0,M.jsx)(u.Z,{title:o.Z.passwordRequirements[a],placement:"right",children:(0,M.jsx)(Z.Z,{style:{opacity:.5}})})]}),children:(0,M.jsx)(g.Z,{required:!0,type:I?"text":"password",value:L.password,onChange:B,suffix:I?(0,M.jsx)(x.Z,{style:{opacity:.5},onClick:_}):(0,M.jsx)(m.Z,{style:{opacity:.5},onClick:_})})}),"signIn"===v&&(0,M.jsx)(d.Z.Item,{label:o.Z.repeatPassword[a],children:(0,M.jsx)(g.Z,{required:!0,type:"password",value:L.passwordAgain,onChange:e=>B(e,!0)})}),(0,M.jsxs)(p.Z,{vertical:!0,gap:16,children:[f&&(0,M.jsxs)(p.Z,{gap:4,children:[(0,M.jsx)(C,{}),(0,M.jsx)(h.Z.Text,{type:"danger",children:o.Z.invalidLogin[a]})]}),L.password!==L.passwordAgain&&"signIn"===v&&(0,M.jsxs)(p.Z,{gap:4,children:[(0,M.jsx)(C,{}),(0,M.jsx)(h.Z.Text,{type:"danger",children:o.Z.passMatch[a]})]}),(0,M.jsxs)(p.Z,{align:"center",gap:16,children:[(0,M.jsx)(u.Z,{title:"logIn"===v?o.Z.logIn[a]:o.Z.signIn[a],children:(0,M.jsx)(w.ZP,{disabled:!P,onClick:"logIn"===v?O:H,children:(0,M.jsx)(k,{})})}),(0,M.jsx)(c.Z,{onClick:T,children:"signIn"===v?o.Z.already[a]:o.Z.yet[a]})]})]})]})}))}}]);
//# sourceMappingURL=474.cb9088a7.chunk.js.map