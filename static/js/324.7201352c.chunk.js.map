{"version":3,"file":"static/js/324.7201352c.chunk.js","mappings":"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","sources":["components/DeletedCategories.tsx","components/DeletedItems.tsx","components/TrashPanel.tsx","pages/Trash.tsx"],"sourcesContent":["import { Col, Empty, List } from 'antd';\r\nimport Item from 'antd/es/list/Item';\r\nimport { observer } from 'mobx-react-lite';\r\nimport React, { useCallback, useMemo, useState } from 'react';\r\nimport languages from 'settings/languages';\r\nimport { optionsStore } from 'utils/optionsStore';\r\nimport { userStore } from 'utils/userStore';\r\nimport {\r\n\tDeleteOutlined,\r\n\tExportOutlined,\r\n\tInfoCircleOutlined,\r\n\tUndoOutlined,\r\n} from '@ant-design/icons';\r\nimport { categoryStore } from 'utils/categoryStore';\r\nimport { MyCheckbox, MyIconWithTooltip, MyImage, MyTitle } from './Items';\r\nimport { CheckboxChangeEvent } from 'antd/es/checkbox';\r\nimport { ItemWithSearch } from 'settings/interfaces';\r\nimport { search } from 'utils/utils';\r\nimport dayjs from 'dayjs';\r\nimport CategoryItem from './CategoryItem';\r\n\r\ninterface Props {\r\n\tquery: string;\r\n}\r\n\r\nconst DeletedCategories: React.FC<Props> = observer(({ query }) => {\r\n\tconst { restoreCategory, deleteCategory, categories } = categoryStore;\r\n\tconst { isSmallScreen } = userStore;\r\n\tconst { userOptions } = optionsStore;\r\n\r\n\tconst { language } = userOptions;\r\n\r\n\tconst [selectedItemIds, setSelectedItemIds] = useState<string[]>([]);\r\n\r\n\tconst deletedCategoryIds: ItemWithSearch[] = useMemo(() => {\r\n\t\treturn Object.keys(categories).reduce(\r\n\t\t\t(acc: ItemWithSearch[], key: string) => {\r\n\t\t\t\tif (categories[key].deleted === true) {\r\n\t\t\t\t\tconst overlaps = search(query, categories[key].name);\r\n\t\t\t\t\tif (overlaps?.length !== 0) {\r\n\t\t\t\t\t\treturn [...acc, { id: key, overlaps: overlaps }];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn acc;\r\n\t\t\t},\r\n\t\t\t[]\r\n\t\t);\r\n\t}, [categories, query]);\r\n\r\n\tconst deleteSelectedItems = useCallback(() => {\r\n\t\tsetSelectedItemIds((prevSelected: string[]) => {\r\n\t\t\tprevSelected.forEach((key: string) => {\r\n\t\t\t\tdeleteCategory(key);\r\n\t\t\t});\r\n\t\t\treturn [];\r\n\t\t});\r\n\t}, [deleteCategory]);\r\n\r\n\tconst restoreSelectedItems = useCallback(() => {\r\n\t\tsetSelectedItemIds((prevSelected: string[]) => {\r\n\t\t\tprevSelected.forEach((key: string) => {\r\n\t\t\t\trestoreCategory(key);\r\n\t\t\t});\r\n\t\t\treturn [];\r\n\t\t});\r\n\t}, [restoreCategory]);\r\n\r\n\tconst handleCategorySelection = useCallback(\r\n\t\t(id: string) => (event: CheckboxChangeEvent) => {\r\n\t\t\tconst value = event.target.checked;\r\n\t\t\tvalue\r\n\t\t\t\t? setSelectedItemIds((prevSelected: string[]) => [...prevSelected, id])\r\n\t\t\t\t: setSelectedItemIds((prevSelected: string[]) =>\r\n\t\t\t\t\t\tprevSelected.filter((item: string) => item !== id)\r\n\t\t\t\t  );\r\n\t\t},\r\n\t\t[setSelectedItemIds]\r\n\t);\r\n\r\n\tconst DeleteJSX = (callback: () => void) =>\r\n\t\tMyIconWithTooltip(\r\n\t\t\tlanguages.delete[userOptions.language],\r\n\t\t\tisSmallScreen,\r\n\t\t\tDeleteOutlined,\r\n\t\t\tfalse,\r\n\t\t\tcallback\r\n\t\t);\r\n\r\n\tconst CheckboxJSX = (\r\n\t\tkey: string,\r\n\t\thandler: (key: string) => (event: CheckboxChangeEvent) => void\r\n\t) =>\r\n\t\tMyCheckbox(\r\n\t\t\tselectedItemIds.includes(key),\r\n\t\t\tlanguage,\r\n\t\t\tisSmallScreen,\r\n\t\t\thandler(key),\r\n\t\t\tdeleteSelectedItems,\r\n\t\t\trestoreSelectedItems\r\n\t\t);\r\n\r\n\tif (!deletedCategoryIds.length)\r\n\t\treturn (\r\n\t\t\t<Empty\r\n\t\t\t\tstyle={{ margin: 'auto' }}\r\n\t\t\t\timage={Empty.PRESENTED_IMAGE_SIMPLE}\r\n\t\t\t\tdescription={''}\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\treturn (\r\n\t\t<List style={{ inlineSize: '100%' }}>\r\n\t\t\t{deletedCategoryIds.map(({ id, overlaps }: ItemWithSearch) => {\r\n\t\t\t\tconst currentCategory = categories[id];\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Item key={id}>\r\n\t\t\t\t\t\t{CheckboxJSX(id, handleCategorySelection)}\r\n\t\t\t\t\t\t<Col span={1}>\r\n\t\t\t\t\t\t\t{MyImage(currentCategory.color, isSmallScreen, language)}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={10}>\r\n\t\t\t\t\t\t\t{MyTitle(\r\n\t\t\t\t\t\t\t\tcurrentCategory.name,\r\n\t\t\t\t\t\t\t\tisSmallScreen,\r\n\t\t\t\t\t\t\t\tlanguage,\r\n\t\t\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t\t\toverlaps\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={2}>\r\n\t\t\t\t\t\t\t{MyIconWithTooltip(\r\n\t\t\t\t\t\t\t\t<CategoryItem initialCategoryId={id} />,\r\n\t\t\t\t\t\t\t\tisSmallScreen,\r\n\t\t\t\t\t\t\t\tExportOutlined,\r\n\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={2}>\r\n\t\t\t\t\t\t\t{MyIconWithTooltip(\r\n\t\t\t\t\t\t\t\t`${languages.deletedAt[language]}: ${dayjs(\r\n\t\t\t\t\t\t\t\t\tcurrentCategory.deletedAt\r\n\t\t\t\t\t\t\t\t).format('HH:mm:ss DD.MM.YY')}`,\r\n\t\t\t\t\t\t\t\tisSmallScreen,\r\n\t\t\t\t\t\t\t\tInfoCircleOutlined,\r\n\t\t\t\t\t\t\t\tfalse\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={2}>\r\n\t\t\t\t\t\t\t{MyIconWithTooltip(\r\n\t\t\t\t\t\t\t\tlanguages.restore[language],\r\n\t\t\t\t\t\t\t\tisSmallScreen,\r\n\t\t\t\t\t\t\t\tUndoOutlined,\r\n\t\t\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t\t\t() => restoreCategory(id)\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={2}>{DeleteJSX(() => deleteCategory(id))}</Col>\r\n\t\t\t\t\t</Item>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</List>\r\n\t);\r\n});\r\n\r\nexport default DeletedCategories;\r\n","import { Col, Empty, List } from 'antd';\r\nimport Item from 'antd/es/list/Item';\r\nimport { observer } from 'mobx-react-lite';\r\nimport React, { useCallback, useMemo, useState } from 'react';\r\nimport languages from 'settings/languages';\r\nimport { listStore } from 'utils/listStore';\r\nimport { optionsStore } from 'utils/optionsStore';\r\nimport { userStore } from 'utils/userStore';\r\nimport {\r\n\tDeleteOutlined,\r\n\tExportOutlined,\r\n\tInfoCircleOutlined,\r\n\tUndoOutlined,\r\n} from '@ant-design/icons';\r\nimport { MyCheckbox, MyIconWithTooltip, MyImage, MyTitle } from './Items';\r\nimport { CheckboxChangeEvent } from 'antd/es/checkbox';\r\nimport { ItemWithSearch } from 'settings/interfaces';\r\nimport { search } from 'utils/utils';\r\nimport dayjs from 'dayjs';\r\nimport ListItem from './ListItem';\r\n\r\ninterface Props {\r\n\tquery: string;\r\n}\r\n\r\nconst DeletedItems: React.FC<Props> = observer(({ query }) => {\r\n\tconst { list, restoreItem, deleteItem } = listStore;\r\n\tconst { isSmallScreen } = userStore;\r\n\tconst { userOptions } = optionsStore;\r\n\r\n\tconst { language } = userOptions;\r\n\r\n\tconst [selectedItemIds, setSelectedItemIds] = useState<string[]>([]);\r\n\r\n\tconst deletedItemIds: ItemWithSearch[] = useMemo(() => {\r\n\t\treturn Object.keys(list).reduce((acc: ItemWithSearch[], key: string) => {\r\n\t\t\tif (list[key].deleted === true) {\r\n\t\t\t\tconst overlaps = search(query, list[key].title);\r\n\t\t\t\tif (overlaps?.length !== 0) {\r\n\t\t\t\t\treturn [...acc, { id: key, overlaps: overlaps }];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn acc;\r\n\t\t}, []);\r\n\t}, [list, query]);\r\n\r\n\tconst deleteSelectedItems = useCallback(() => {\r\n\t\tsetSelectedItemIds((prevSelected: string[]) => {\r\n\t\t\tprevSelected.forEach((key: string) => {\r\n\t\t\t\tdeleteItem(key);\r\n\t\t\t});\r\n\t\t\treturn [];\r\n\t\t});\r\n\t}, [deleteItem]);\r\n\r\n\tconst restoreSelectedItems = useCallback(() => {\r\n\t\tsetSelectedItemIds((prevSelected: string[]) => {\r\n\t\t\tprevSelected.forEach((key: string) => {\r\n\t\t\t\trestoreItem(key);\r\n\t\t\t});\r\n\t\t\treturn [];\r\n\t\t});\r\n\t}, [restoreItem]);\r\n\r\n\tconst handleItemSelection = useCallback(\r\n\t\t(id: string) => (event: CheckboxChangeEvent) => {\r\n\t\t\tconst value = event.target.checked;\r\n\t\t\tvalue\r\n\t\t\t\t? setSelectedItemIds((prevSelected: string[]) => [...prevSelected, id])\r\n\t\t\t\t: setSelectedItemIds((prevSelected: string[]) =>\r\n\t\t\t\t\t\tprevSelected.filter((item: string) => item !== id)\r\n\t\t\t\t  );\r\n\t\t},\r\n\t\t[setSelectedItemIds]\r\n\t);\r\n\r\n\tconst DeleteJSX = (callback: () => void) =>\r\n\t\tMyIconWithTooltip(\r\n\t\t\tlanguages.delete[userOptions.language],\r\n\t\t\tisSmallScreen,\r\n\t\t\tDeleteOutlined,\r\n\t\t\tfalse,\r\n\t\t\tcallback\r\n\t\t);\r\n\r\n\tconst CheckboxJSX = (\r\n\t\tkey: string,\r\n\t\thandler: (key: string) => (event: CheckboxChangeEvent) => void\r\n\t) =>\r\n\t\tMyCheckbox(\r\n\t\t\tselectedItemIds.includes(key),\r\n\t\t\tlanguage,\r\n\t\t\tisSmallScreen,\r\n\t\t\thandler(key),\r\n\t\t\tdeleteSelectedItems,\r\n\t\t\trestoreSelectedItems\r\n\t\t);\r\n\r\n\tif (!deletedItemIds.length)\r\n\t\treturn (\r\n\t\t\t<Empty\r\n\t\t\t\tstyle={{ margin: 'auto' }}\r\n\t\t\t\timage={Empty.PRESENTED_IMAGE_SIMPLE}\r\n\t\t\t\tdescription={''}\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\treturn (\r\n\t\t<List style={{ inlineSize: '100%' }}>\r\n\t\t\t{deletedItemIds.map(({ id, overlaps }: ItemWithSearch) => {\r\n\t\t\t\tconst currentItem = list[id];\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Item key={id}>\r\n\t\t\t\t\t\t<Col span={1}>{CheckboxJSX(id, handleItemSelection)}</Col>\r\n\t\t\t\t\t\t<Col span={1}>\r\n\t\t\t\t\t\t\t{MyImage(currentItem.image, isSmallScreen, language)}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={10}>\r\n\t\t\t\t\t\t\t{MyTitle(\r\n\t\t\t\t\t\t\t\tcurrentItem.title,\r\n\t\t\t\t\t\t\t\tisSmallScreen,\r\n\t\t\t\t\t\t\t\tlanguage,\r\n\t\t\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t\t\toverlaps\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={2}>\r\n\t\t\t\t\t\t\t{MyIconWithTooltip(\r\n\t\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\t\tinitialItem={{ id, overlaps }}\r\n\t\t\t\t\t\t\t\t\tmode='grid'\r\n\t\t\t\t\t\t\t\t/>,\r\n\t\t\t\t\t\t\t\tisSmallScreen,\r\n\t\t\t\t\t\t\t\tExportOutlined,\r\n\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={2}>\r\n\t\t\t\t\t\t\t{MyIconWithTooltip(\r\n\t\t\t\t\t\t\t\t`${languages.deletedAt[language]}: ${dayjs(\r\n\t\t\t\t\t\t\t\t\tcurrentItem.deletedAt\r\n\t\t\t\t\t\t\t\t).format('HH:mm:ss DD.MM.YY')}`,\r\n\t\t\t\t\t\t\t\tisSmallScreen,\r\n\t\t\t\t\t\t\t\tInfoCircleOutlined,\r\n\t\t\t\t\t\t\t\tfalse\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={2}>\r\n\t\t\t\t\t\t\t{MyIconWithTooltip(\r\n\t\t\t\t\t\t\t\tlanguages.restore[language],\r\n\t\t\t\t\t\t\t\tisSmallScreen,\r\n\t\t\t\t\t\t\t\tUndoOutlined,\r\n\t\t\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t\t\t() => restoreItem(id)\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={2}>{DeleteJSX(() => deleteItem(id))}</Col>\r\n\t\t\t\t\t</Item>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</List>\r\n\t);\r\n});\r\n\r\nexport default DeletedItems;\r\n","import { DeleteOutlined, UndoOutlined } from '@ant-design/icons';\r\nimport { Button, Flex, Popconfirm, Segmented, Tooltip } from 'antd';\r\nimport { observer } from 'mobx-react-lite';\r\nimport React, {\r\n\tChangeEvent,\r\n\tDispatch,\r\n\tSetStateAction,\r\n\tuseCallback,\r\n\tuseEffect,\r\n\tuseState,\r\n} from 'react';\r\nimport languages from 'settings/languages';\r\nimport { categoryStore } from 'utils/categoryStore';\r\nimport { listStore } from 'utils/listStore';\r\nimport { optionsStore } from 'utils/optionsStore';\r\nimport { userStore } from 'utils/userStore';\r\nimport { MySearch } from './Items';\r\n\r\ninterface Props {\r\n\tquery: string;\r\n\tsetQuery: Dispatch<SetStateAction<string>>;\r\n\tdebouncedQuery: string;\r\n\tisExpenses: boolean;\r\n\tsetIsExpenses: Dispatch<SetStateAction<boolean>>;\r\n}\r\n\r\nconst TrashPanel: React.FC<Props> = observer(\r\n\t({ query, setQuery, debouncedQuery, isExpenses, setIsExpenses }) => {\r\n\t\tconst { deleteItem, restoreItem, list } = listStore;\r\n\t\tconst { categories, deleteCategory, restoreCategory } = categoryStore;\r\n\t\tconst { isSmallScreen, tourRefs } = userStore;\r\n\t\tconst { userOptions } = optionsStore;\r\n\r\n\t\tconst { language } = userOptions;\r\n\r\n\t\tconst [isSearchLoading, setIsSearchLoading] = useState<boolean>(false);\r\n\r\n\t\tconst deleteAll = useCallback(() => {\r\n\t\t\tObject.keys(list).forEach((key: string) => {\r\n\t\t\t\tlist[key].deleted && deleteItem(key);\r\n\t\t\t});\r\n\r\n\t\t\tObject.keys(categories).forEach((key: string) => {\r\n\t\t\t\tcategories[key].deleted && deleteCategory(key);\r\n\t\t\t});\r\n\t\t}, [list, categories, deleteCategory, deleteItem]);\r\n\r\n\t\tconst restoreAll = useCallback(() => {\r\n\t\t\tObject.keys(list).forEach((key: string) => {\r\n\t\t\t\tlist[key].deleted && restoreItem(key);\r\n\t\t\t});\r\n\r\n\t\t\tObject.keys(categories).forEach((key: string) => {\r\n\t\t\t\tcategories[key].deleted && restoreCategory(key);\r\n\t\t\t});\r\n\t\t}, [list, categories, restoreCategory, restoreItem]);\r\n\r\n\t\tconst handleSearch = useCallback(\r\n\t\t\t(event: ChangeEvent<HTMLInputElement>) => {\r\n\t\t\t\tsetQuery(event.target.value);\r\n\t\t\t\tsetIsSearchLoading(true);\r\n\t\t\t},\r\n\t\t\t[setQuery, setIsSearchLoading]\r\n\t\t);\r\n\r\n\t\tuseEffect(() => {\r\n\t\t\tsetIsSearchLoading(false);\r\n\t\t}, [debouncedQuery]);\r\n\r\n\t\treturn (\r\n\t\t\t<Flex\r\n\t\t\t\tgap={16}\r\n\t\t\t\tref={tourRefs[5]}\r\n\t\t\t\tstyle={{ inlineSize: '100%' }}\r\n\t\t\t>\r\n\t\t\t\t<Tooltip title={languages.deleteAll[language]}>\r\n\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\ttitle={languages.deleteAllConfirm[language]}\r\n\t\t\t\t\t\tonConfirm={deleteAll}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button size={isSmallScreen ? 'small' : 'middle'}>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={{ scale: isSmallScreen ? '1' : '1.5' }} />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t\t<Tooltip title={languages.restoreAll[language]}>\r\n\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\ttitle={languages.restoreAllConfirm[language]}\r\n\t\t\t\t\t\tonConfirm={restoreAll}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button size={isSmallScreen ? 'small' : 'middle'}>\r\n\t\t\t\t\t\t\t<UndoOutlined style={{ scale: isSmallScreen ? '1' : '1.5' }} />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t\t{MySearch(handleSearch, query, isSearchLoading, isSmallScreen)}\r\n\t\t\t\t<Segmented\r\n\t\t\t\t\t// style={{ inlineSize: '100%', background: '#0000' }}\r\n\t\t\t\t\tonChange={setIsExpenses}\r\n\t\t\t\t\tvalue={isExpenses}\r\n\t\t\t\t\toptions={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: languages.expenses[language],\r\n\t\t\t\t\t\t\tvalue: true,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: languages.categories[language],\r\n\t\t\t\t\t\t\tvalue: false,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}\r\n\t\t\t\t/>\r\n\t\t\t</Flex>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nexport default TrashPanel;\r\n","import { Flex } from 'antd';\r\nimport DeletedCategories from 'components/DeletedCategories';\r\nimport DeletedList from 'components/DeletedItems';\r\nimport TrashPanel from 'components/TrashPanel';\r\nimport { debounce } from 'lodash';\r\nimport { observer } from 'mobx-react-lite';\r\nimport React, { useEffect, useMemo, useState } from 'react';\r\nimport constants from 'settings/constants';\r\n\r\nimport { userStore } from 'utils/userStore';\r\n\r\nconst Trash: React.FC = observer(() => {\r\n\tconst { isSmallScreen, tourRefs } = userStore;\r\n\r\n\tconst [query, setQuery] = useState<string>('');\r\n\tconst [debouncedQuery, setDebouncedQuery] = useState<string>('');\r\n\tconst [isExpenses, setIsExpenses] = useState<boolean>(true);\r\n\r\n\tconst debouncedSetQuery = useMemo(\r\n\t\t() =>\r\n\t\t\tdebounce(\r\n\t\t\t\t(query: string) => setDebouncedQuery(query),\r\n\t\t\t\tconstants.optionsDebounceDelay\r\n\t\t\t),\r\n\t\t[]\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tdebouncedSetQuery(query);\r\n\t\treturn () => {\r\n\t\t\tdebouncedSetQuery.cancel();\r\n\t\t};\r\n\t}, [query, debouncedSetQuery]);\r\n\r\n\treturn (\r\n\t\t<Flex\r\n\t\t\tvertical\r\n\t\t\tgap={isSmallScreen ? 16 : 32}\r\n\t\t>\r\n\t\t\t<TrashPanel\r\n\t\t\t\tquery={query}\r\n\t\t\t\tsetQuery={setQuery}\r\n\t\t\t\tdebouncedQuery={debouncedQuery}\r\n\t\t\t\tisExpenses={isExpenses}\r\n\t\t\t\tsetIsExpenses={setIsExpenses}\r\n\t\t\t/>\r\n\t\t\t<Flex\r\n\t\t\t\tref={tourRefs[4]}\r\n\t\t\t\tvertical={isSmallScreen}\r\n\t\t\t\tgap={isSmallScreen ? 16 : 32}\r\n\t\t\t\tstyle={{ inlineSize: '100%' }}\r\n\t\t\t>\r\n\t\t\t\t{isExpenses ? (\r\n\t\t\t\t\t<DeletedList query={debouncedQuery} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<DeletedCategories query={debouncedQuery} />\r\n\t\t\t\t)}\r\n\t\t\t</Flex>\r\n\t\t</Flex>\r\n\t);\r\n});\r\n\r\nexport default Trash;\r\n"],"names":["observer","_ref","query","restoreCategory","deleteCategory","categories","categoryStore","isSmallScreen","userStore","userOptions","optionsStore","language","selectedItemIds","setSelectedItemIds","useState","deletedCategoryIds","useMemo","Object","keys","reduce","acc","key","deleted","overlaps","search","name","length","id","deleteSelectedItems","useCallback","prevSelected","forEach","restoreSelectedItems","handleCategorySelection","event","value","target","checked","filter","item","_jsx","List","style","inlineSize","children","map","_ref2","currentCategory","_jsxs","Item","handler","MyCheckbox","includes","Col","span","MyImage","color","MyTitle","MyIconWithTooltip","CategoryItem","initialCategoryId","ExportOutlined","concat","languages","deletedAt","dayjs","format","InfoCircleOutlined","restore","UndoOutlined","callback","delete","DeleteOutlined","Empty","margin","image","PRESENTED_IMAGE_SIMPLE","description","list","restoreItem","deleteItem","listStore","deletedItemIds","title","handleItemSelection","currentItem","ListItem","initialItem","mode","setQuery","debouncedQuery","isExpenses","setIsExpenses","tourRefs","isSearchLoading","setIsSearchLoading","deleteAll","restoreAll","handleSearch","useEffect","Flex","gap","ref","Tooltip","Popconfirm","deleteAllConfirm","onConfirm","Button","size","scale","restoreAllConfirm","MySearch","Segmented","onChange","options","label","expenses","setDebouncedQuery","debouncedSetQuery","debounce","constants","optionsDebounceDelay","cancel","vertical","TrashPanel","DeletedList","DeletedCategories"],"sourceRoot":""}