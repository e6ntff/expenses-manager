"use strict";(self.webpackChunkexpenses_manager=self.webpackChunkexpenses_manager||[]).push([[146],{3932:(e,t,s)=>{s.d(t,{Z:()=>u});var l=s(3605),n=s(1431),a=s(2556),i=s(7257),r=(s(2791),s(8416)),o=s(7703),d=s(8807),c=s(184);const u=(0,i.Pi)((e=>{let{disabled:t,reset:s}=e;const{userOptions:i}=o.optionsStore,{isSmallScreen:u}=d.userStore;return(0,c.jsx)(n.Z,{title:r.Z.reset[i.language],children:(0,c.jsx)(a.ZP,{disabled:t,onClick:s,size:u?"small":"middle",children:(0,c.jsx)(l.Z,{})})})}))},2158:(e,t,s)=>{s.d(t,{Z:()=>z});var l=s(2791),n=s(7257),a=s(4520),i=s(4248),r=s(1431),o=s(7708),d=s(4320),c=s(7892),u=s.n(c),g=s(9026),m=s.n(g),S=s(4895),h=s(4187),p=s(8807),x=s(5967),f=s(3623),Z=s(7703),j=s(6619),v=s(184);const y=(0,n.Pi)((()=>{const{list:e}=d.listStore,{defaultRange:t}=Z.optionsStore,s=(0,l.useMemo)((()=>(0,j.BF)(e,t)),[e,t]),n={labels:new Array(s.length).fill(""),datasets:[{data:s}]};return(0,v.jsx)(f.x1,{style:{inlineSize:"100%"},data:n,options:{plugins:{legend:{display:!1},tooltip:{enabled:!1}},scales:{x:{display:!1,grid:{display:!1}},y:{display:!1,grid:{display:!1}}},elements:{point:{radius:0},line:{cubicInterpolationMode:"monotone",borderColor:"#7775"}},aspectRatio:25}})})),b=(0,l.memo)(y);var C=s(8416);x.kL.register(x.u,x.jn,x.ST,x.uw,x.f$,x.od),u().extend(m());const O=(0,n.Pi)((e=>{let{range:t,setRange:s,isAccurate:n,setIsAccurate:c}=e;const{list:g}=d.listStore,{isSmallScreen:m}=p.userStore,{defaultRange:x,setDefaultRange:f,userOptions:j}=Z.optionsStore,[y,O]=(0,l.useState)(x),z=(0,l.useMemo)((()=>{const e=Object.values(g).map((e=>e.date));return[Math.min(...e),Math.max(...e)]}),[g]),I=(0,l.useMemo)((()=>{const e=u()(z[0]).startOf("day"),t=u()(z[1]).endOf("day"),s={};let l=e;if(n)for(;l.isBefore(t)||l.isSame(t,"day");)s[l.valueOf()]=1===l.date()?0===l.month()?l.format("YYYY"):l.format("M"):" ",l=l.add(1,"day").startOf("day");else for(;l.isBefore(t)||l.isSame(t,"month");)s[l.valueOf()]=0===l.month()?l.format("YYYY"):" ",l=l.add(1,"month").startOf("month");return s}),[z,n]);(0,l.useEffect)((()=>{f(z)}),[z,f]),(0,l.useEffect)((()=>{s(x)}),[x,s]);const M=(0,l.useCallback)((e=>{s(e)}),[s]);return(0,l.useEffect)((()=>{O(t)}),[t]),(0,l.useEffect)((()=>{m&&c(!1)}),[m,c]),(0,l.useEffect)((()=>{!n&&s([u().max([u()(t[0]).startOf("month"),u()(x[0])]).valueOf(),u().min([u()(t[1]).endOf("month"),u()(x[1])]).valueOf()])}),[n]),u()(x[1]).diff(u()(x[0]),"hours")>=48?(0,v.jsxs)(a.Z,{gap:16,align:"center",style:{inlineSize:"100%"},children:[(0,v.jsx)(i.Z,{size:m?"small":"middle",defaultValue:n,value:n,onChange:c,options:[{label:(0,v.jsx)(r.Z,{title:C.Z.byMonth[j.language],children:(0,v.jsx)(S.Z,{})}),value:!1},{label:(0,v.jsx)(r.Z,{title:C.Z.byDay[j.language],children:(0,v.jsx)(h.Z,{})}),value:!0,disabled:m}]}),(0,v.jsxs)(a.Z,{vertical:!0,align:"stretch",style:{inlineSize:"100%"},children:[(0,v.jsx)(b,{}),(0,v.jsx)(o.Z,{range:!0,value:y,marks:I,step:null,dots:!0,tooltip:{formatter:e=>(0,v.jsx)(v.Fragment,{children:u()(e).format(n?"DD.MM.YY":"MM.YY")})},min:z[0],max:z[1],defaultValue:x,onChange:O,onChangeComplete:M})]})]}):(0,v.jsx)(v.Fragment,{})})),z=(0,l.memo)(O)},9146:(e,t,s)=>{s.r(t),s.d(t,{default:()=>J});var l=s(2791),n=s(6246),a=s(7257),i=s(4664),r=s(4520),o=s(6051),d=s(1046),c=s(6619),u=s(8807),g=s(7703),m=s(6281),S=s(4320),h=s(763),p=s(184);const x=(0,a.Pi)((e=>{let{filteredListIds:t}=e;const{loading:s,isSmallScreen:a,tourRefs:x}=u.userStore,{listOptions:f}=g.optionsStore,{lastDeletedItemIds:Z,setLastDeletedItemIds:j}=S.listStore,[v,y]=(0,l.useState)([]),b=(0,l.useCallback)((()=>{y((e=>(j([...Z,...e]),[])))}),[j,Z]),C=(0,l.useCallback)((e=>t=>{const s=t.target.checked;y(s?t=>[...t,e]:t=>t.filter((t=>t!==e)))}),[y]),O=(0,h.debounce)((()=>f))()||f,z=(0,l.useMemo)((()=>(0,c.W2)(O,t).filter((e=>!Z.includes(e.id)))),[t,O,Z]),I=e=>(0,p.jsx)(n.Z,{mode:O.mode,deleteAll:b,handleSelection:C(e.id),initialItem:e,selected:v.includes(e.id)},e.id);return s?(0,p.jsx)(m.Z,{}):t.length?"list"===O.mode?(0,p.jsx)(r.Z,{style:{inlineSize:"100%"},ref:x[1],children:(0,p.jsx)(o.Z,{style:{inlineSize:"100%"},children:z.map((e=>I(e)))})}):(0,p.jsx)(d.Z,{ref:x[1],wrap:!0,size:a?8:16,children:z.map((e=>I(e)))}):(0,p.jsx)(i.Z,{image:i.Z.PRESENTED_IMAGE_SIMPLE,description:""})})),f=(0,l.memo)(x);var Z=s(7128),j=s(6834),v=s(1431),y=s(2556),b=s(594),C=s(9286),O=s(7892),z=s.n(O),I=s(8416);const M=(0,a.Pi)((()=>{const{addItem:e}=S.listStore,{isSmallScreen:t}=u.userStore,{userOptions:s}=g.optionsStore,[n,a]=(0,l.useState)(!1),i=(0,l.useCallback)((()=>{a((e=>!e))}),[a]),r=(0,l.useCallback)((t=>{const s=z()().valueOf();e({...t,createdAt:s}),i()}),[e,i]);return(0,p.jsxs)(v.Z,{title:I.Z.newItem[s.language],children:[(0,p.jsx)(y.ZP,{onClick:i,size:t?"small":"middle",children:(0,p.jsx)(C.Z,{})}),(0,p.jsx)(b.Z,{opened:n,toggleOpened:i,submitItem:r})]})}));var P=s(2158),k=s(3475),R=s(952),E=s(126);const A=(0,a.Pi)((()=>{const{categories:e}=k.categoryStore,{isSmallScreen:t}=u.userStore,{listOptions:s,handleCategoriesToFilterChange:l,userOptions:n}=g.optionsStore;return(0,p.jsx)(v.Z,{title:I.Z.categoriesSelect[n.language],children:(0,p.jsx)(E.Z,{size:t?"small":"middle",mode:"multiple",showSearch:!1,tagRender:t=>((e,t)=>{const{label:s,value:l,onClose:n}=e,a=Object.keys(t).length>1?t[l].color:"";return(0,p.jsx)(R.Z,{color:a,onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},closable:!0,onClose:n,style:{marginInlineEnd:4},children:(0,p.jsx)("span",{style:{color:a,filter:"invert(1)"},children:s})})})(t,e),style:{minInlineSize:"10em"},value:s.categoriesToFilterIds,onChange:l,options:Object.keys(e).filter((t=>!e[t].deleted)).map((t=>({label:e[t].name,value:t})))})})}));var D=s(4248),Y=s(4544),w=s(54),F=s(9168),L=s(2785),T=s(897);const Q=(0,a.Pi)((()=>{const{isSmallScreen:e}=u.userStore,{setIsSortingReversed:t,listOptions:s,userOptions:l,handleSortAlgorithmChanging:n}=g.optionsStore;return(0,p.jsxs)(r.Z,{gap:8,style:{alignSelf:"start"},children:[(0,p.jsx)(v.Z,{title:I.Z.sort.reverse[l.language],children:s.isSortingReversed?(0,p.jsx)(Y.Z,{onClick:()=>t(!s.isSortingReversed)}):(0,p.jsx)(w.Z,{onClick:()=>t(!s.isSortingReversed)})}),(0,p.jsx)(D.Z,{size:e?"small":"middle",value:s.sortingAlgorithm,onChange:n,options:[{label:(0,p.jsx)(v.Z,{title:I.Z.sort.byDate[l.language],children:(0,p.jsx)(F.Z,{})}),value:"date"},{label:(0,p.jsx)(v.Z,{title:I.Z.sort.byTitle[l.language],children:(0,p.jsx)(L.Z,{})}),value:"title"},{label:(0,p.jsx)(v.Z,{title:I.Z.sort.byPrice[l.language],children:(0,p.jsx)(T.Z,{})}),value:"price"}]})]})}));var _=s(6324),q=s(9197);const B=(0,a.Pi)((()=>{const{isSmallScreen:e}=u.userStore,{listOptions:t,handleModeChanging:s,userOptions:l}=g.optionsStore;return(0,p.jsx)(r.Z,{gap:8,style:{alignSelf:"start"},children:(0,p.jsx)(D.Z,{size:e?"small":"middle",value:t.mode,onChange:s,options:[{label:(0,p.jsx)(v.Z,{title:I.Z.layout.list[l.language],children:(0,p.jsx)(_.Z,{})}),value:"list",disabled:e},{label:(0,p.jsx)(v.Z,{title:I.Z.layout.grid[l.language],children:(0,p.jsx)(q.Z,{})}),value:"grid"}]})})}));var V=s(4878),G=s(3932),N=s(7857);const W=(0,a.Pi)((e=>{let{total:t,query:s,setQuery:n,debouncedQuery:a}=e;const{isSmallScreen:i,loading:o,tourRefs:d}=u.userStore,{listOptions:c,defaultRange:m,resetListOptions:S,handlePageChanging:h,setRange:x,setIsAccurate:f}=g.optionsStore,{isSortingReversed:v,range:y,categoriesToFilterIds:b,pageSize:C,currentPage:O,sortingAlgorithm:z,isAccurate:I}=c,[k,R]=(0,l.useState)(!1),E=(0,l.useMemo)((()=>s.length&&v||b.length>0||C!==V.Z.defaultPageSize||1!==O||y[0]&&y[1]&&(y[0]!==m[0]||y[1])!==m[1]||"date"!==z),[s,y,m,v,b,C,O,z]),D=(0,l.useCallback)((e=>{n(e.target.value),R(!0)}),[n,R]);return(0,l.useEffect)((()=>{R(!1)}),[a]),(0,p.jsxs)(r.Z,{ref:d[2],vertical:!0,style:{inlineSize:"100%"},children:[(0,p.jsxs)(r.Z,{vertical:!0,gap:32,children:[(0,p.jsxs)(r.Z,{gap:16,vertical:i,children:[(0,p.jsxs)(r.Z,{gap:16,children:[(0,p.jsx)(M,{}),(0,p.jsx)(A,{})]}),(0,p.jsxs)(r.Z,{gap:16,children:[(0,p.jsx)(Q,{}),(0,p.jsx)(B,{}),(0,p.jsx)(G.Z,{disabled:!E,reset:S})]}),(0,N.q8)(D,s,k,i)]}),(0,p.jsx)(P.Z,{setIsAccurate:f,isAccurate:I,range:y,setRange:x})]}),(0,p.jsx)(Z.Z,{}),!o&&(0,p.jsx)(j.Z,{style:{alignSelf:"center"},size:i?"small":"default",showSizeChanger:!0,pageSizeOptions:V.Z.pageSizeOptions,current:c.currentPage,pageSize:c.pageSize,total:t,onChange:h,onShowSizeChange:h})]})})),$=(0,l.memo)(W),H=(0,a.Pi)((()=>{const{isSmallScreen:e}=u.userStore,{list:t}=S.listStore,{listOptions:s,userOptions:n,handleModeChanging:a,handlePageChanging:i}=g.optionsStore,{language:o}=n,[d,m]=(0,l.useState)(""),[x,Z]=(0,l.useState)(""),{range:j,sortingAlgorithm:v,isSortingReversed:y,categoriesToFilterIds:b,pageSize:C}=s;(0,l.useEffect)((()=>{e&&a("grid")}),[e,a]),(0,l.useEffect)((()=>{i(1,C)}),[j,v,y,b,C,i]);const O=(0,l.useMemo)((()=>(0,h.debounce)((e=>Z(e)),V.Z.optionsDebounceDelay)),[]);(0,l.useEffect)((()=>(O(d),()=>{O.cancel()})),[d,O]);const z=(0,l.useMemo)((()=>(0,c.tL)(s,t,o,x)),[t,o,s,x]);return(0,p.jsxs)(r.Z,{vertical:!0,gap:16,align:"center",children:[(0,p.jsx)($,{total:z.length,query:d,setQuery:m,debouncedQuery:x}),(0,p.jsx)(f,{filteredListIds:z})]})})),J=H}}]);
//# sourceMappingURL=146.eebdd064.chunk.js.map