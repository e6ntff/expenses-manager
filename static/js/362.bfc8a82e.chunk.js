"use strict";(self.webpackChunkexpenses_manager=self.webpackChunkexpenses_manager||[]).push([[362],{8650:(e,t,l)=>{l.d(t,{Z:()=>w});var s=l(2791),n=l(3475),a=l(7257),i=l(4320),r=l(4231),o=l(9522),c=l(4520),d=l(3936),u=l(8807),m=l(8416),p=l(7703),g=l(2506),x=l(6051),y=l(914),j=l(1429),v=l(5160),h=l(6220),Z=l(7892),C=l.n(Z),S=l(2499),b=l(4878),f=l(9335),k=l(7857),z=l(184);const I=(0,a.Pi)((e=>{let{opened:t,setOpened:l,itemIds:n}=e;const{list:a,replaceItem:r}=i.listStore,{isSmallScreen:o}=u.userStore,{userOptions:d}=p.optionsStore,{language:Z}=d,I=(0,s.useCallback)((e=>{r(e,{...a[e],categoryId:b.Z.emptyItem.categoryId})}),[a,r]);return(0,z.jsx)(g.Z,{open:t,onCancel:()=>{l(!1)},okButtonProps:{style:{display:"none"}},cancelButtonProps:{style:{display:"none"}},children:(0,z.jsx)(f.ZP,{autoHide:!0,style:{blockSize:"75vh"},children:(0,z.jsx)(x.Z,{children:n.map((e=>(0,z.jsxs)(h.Z,{children:[(0,z.jsx)(y.Z,{span:5,children:(0,z.jsx)(j.Z,{value:C()(a[e].date).format("DD.MM.YY"),style:{scale:o?".75":"1"}})}),(0,z.jsx)(y.Z,{span:10,children:(0,z.jsx)(c.Z,{justify:"center",style:{opacity:a[e].title?"1":".5"},children:o?(0,z.jsx)(v.Z.Text,{strong:!0,ellipsis:!0,children:a[e].title||m.Z.noTitle[d.language]}):(0,z.jsx)(S.Z,{ellipsis:!0,level:3,style:{margin:0},children:a[e].title||m.Z.noTitle[d.language]})})}),(0,z.jsx)(y.Z,{span:2,children:(0,k.UP)(m.Z.delete[Z],o,(()=>{I(e)}))})]},e)))})})})})),O=(0,s.memo)(I),w=(0,a.Pi)((e=>{let{initialCategoryId:t}=e;const{replaceCategory:l,categories:a,setLastDeletedCategoryIds:g,lastDeletedCategoryIds:x}=n.categoryStore,{list:y}=i.listStore,{isSmallScreen:j}=u.userStore,{userOptions:v}=p.optionsStore,{language:h}=v,[Z,C]=(0,s.useState)(a[t]),[S,b]=(0,s.useState)(!1),f=(0,s.useMemo)((()=>Object.keys(y).reduce(((e,l)=>y[l].categoryId===t?[...e,l]:[...e]),[])),[y,t]),I=(0,s.useCallback)((()=>{g([...x,t])}),[g,t,x]),w=(0,s.useCallback)((e=>{C((s=>JSON.stringify(s)!==JSON.stringify(e)?(l(t,e),e):s))}),[C,l,t]),P=(0,s.useCallback)((e=>{C((t=>{const l={...t,name:e};return w(l),l}))}),[C,w]),N=(0,s.useCallback)((e=>{C((t=>{const l={...t,color:"#".concat(e.toHex())};return w(l),l}))}),[C,w]),E=(0,z.jsx)(r.Z,{title:m.Z.pickColor[h],children:(0,z.jsx)(o.Z,{size:j?"small":"middle",value:Z.color,format:"hex",onChangeComplete:N})}),M=(0,s.useMemo)((()=>"".concat(m.Z.itemsWithCurrentCategory[h],": ").concat(f.length)),[f,h]),D=(0,z.jsxs)(c.Z,{align:"center",justify:"space-evenly",children:[(0,k.zF)(M,j,(()=>{f.length&&b(!0)})),E,(0,k.UP)(m.Z.delete[v.language],j,I)]});return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(d.Z,{style:{inlineSize:j?"8em":"12em"},size:j?"small":"default",title:(0,k.I$)(Z.name,j,h,{onChange:P}),actions:[D],styles:{title:{padding:10},body:{padding:0}}}),(0,z.jsx)(O,{opened:S,setOpened:b,itemIds:f})]})}))},7857:(e,t,l)=>{l.d(t,{I$:()=>C,IX:()=>b,JN:()=>k,UP:()=>I,Vh:()=>S,eb:()=>z,o5:()=>f,zF:()=>Z});var s=l(9966),n=l(1635),a=l(1752),i=l(2622),r=l(4231),o=l(4520),c=l(5160),d=l(8104),u=l(9367),m=l(1429),p=l(952),g=l(2499),x=l(8416),y=l(7892),j=l.n(y),v=l(8418),h=l(184);const Z=(e,t,l)=>(0,h.jsx)(r.Z,{title:e,children:(0,h.jsx)(s.Z,{onClick:l,style:{scale:t?"1":"1.5"}})}),C=(e,t,l,s)=>(0,h.jsx)(o.Z,{justify:"center",style:{opacity:e?"1":".5"},children:t?(0,h.jsx)(c.Z.Text,{strong:!0,ellipsis:!0,editable:s||!1,children:e||x.Z.noTitle[l]}):(0,h.jsx)(g.Z,{editable:s||!1,ellipsis:!0,level:3,style:{margin:0},children:e||x.Z.noTitle[l]})}),S=(e,t,l,s)=>e?(0,h.jsx)(r.Z,{color:"#0005",placement:"right",title:(0,h.jsx)(d.Z,{preview:!1,src:e,style:{borderRadius:"50%",inlineSize:"100%",blockSize:"100%",objectFit:"cover"}}),children:(0,h.jsx)(u.C,{style:{cursor:"pointer"},size:t?"small":"default",icon:(0,h.jsx)(o.Z,{style:{inlineSize:"100%",blockSize:"100%",objectFit:"cover"},children:(0,h.jsx)(d.Z,{preview:!1,src:e,style:{inlineSize:"100%",blockSize:"100%",objectFit:"cover"}})})})}):(0,h.jsx)(r.Z,{title:x.Z.noImage[s],children:(0,h.jsx)(u.C,{style:{cursor:"pointer"},onClick:l,icon:(0,h.jsx)(n.Z,{})})}),b=(e,t)=>(0,h.jsx)(m.Z,{value:j()(e).format("DD.MM.YY"),style:{scale:t?".67":".75"}}),f=e=>(0,h.jsx)(o.Z,{vertical:!0,align:"stretch",children:e&&(0,h.jsx)(p.Z,{color:e.color,children:(0,h.jsx)("span",{style:{margin:"auto",color:e.color,filter:"invert(1)"},children:e.name})})}),k=(e,t,l)=>(0,h.jsx)(o.Z,{justify:"center",children:t?(0,h.jsxs)(c.Z.Text,{strong:!0,children:[(0,v.Rh)(l),Math.round(e[l])]}):(0,h.jsx)(g.Z,{level:3,style:{margin:0},children:(0,v.Rh)(l,e[l])})}),z=(e,t,l)=>(0,h.jsx)(r.Z,{title:e,children:(0,h.jsx)(a.Z,{onClick:l,style:{scale:t?"1":"1.5"}})}),I=(e,t,l)=>(0,h.jsx)(r.Z,{title:e,children:(0,h.jsx)(i.Z,{onClick:l,style:{scale:t?"1":"1.5"}})})},1362:(e,t,l)=>{l.r(t),l.d(t,{default:()=>S});var s=l(2791),n=l(8650),a=l(3475),i=l(7257),r=l(4520),o=l(1046),c=l(4664),d=l(8807),u=l(6281),m=l(184);const p=(0,i.Pi)((()=>{const{categories:e,lastDeletedCategoryIds:t}=a.categoryStore,{loading:l,isSmallScreen:i}=d.userStore,p=(0,s.useMemo)((()=>Object.keys(e).slice(1).filter((l=>!t.includes(l)&&!e[l].deleted))),[e,t]);return(0,m.jsx)(r.Z,{style:{inlineSize:"100%"},vertical:!0,gap:16,children:l?(0,m.jsx)(u.Z,{}):Object.values(e).length>1?(0,m.jsx)(o.Z,{wrap:!0,size:i?8:16,children:p.map((e=>(0,m.jsx)(n.Z,{initialCategoryId:e},e)))}):(0,m.jsx)(c.Z,{image:c.Z.PRESENTED_IMAGE_SIMPLE,description:""})})})),g=(0,s.memo)(p);var x=l(4878),y=l(9522),j=l(1855),v=l(2556),h=l(7575);const Z=(0,i.Pi)((()=>{const{addCategory:e}=a.categoryStore,{isSmallScreen:t}=d.userStore,[l,n]=(0,s.useState)(x.Z.defaultCategory),i=(0,s.useCallback)((e=>{const{value:t}=e.target;n((e=>({...e,name:t})))}),[n]),o=(0,s.useCallback)((e=>{n((t=>({...t,color:"#".concat(e.toHex())})))}),[n]),c=(0,s.useCallback)((()=>{n(x.Z.defaultCategory)}),[n]),u=(0,s.useCallback)((()=>{e(l),c()}),[l,e,c]);return(0,m.jsxs)(r.Z,{gap:32,style:{inlineSize:"min(100%, 560px)",margin:"auto"},children:[(0,m.jsx)(y.Z,{size:t?"small":"middle",value:l.color,format:"hex",onChange:o}),(0,m.jsx)(j.Z,{size:t?"small":"middle",type:"text",value:l.name,onChange:i}),(0,m.jsx)(v.ZP,{onClick:u,size:t?"small":"middle",children:(0,m.jsx)(h.Z,{})})]})}));var C=l(7128);const S=()=>(0,m.jsxs)(r.Z,{vertical:!0,align:"center",gap:16,children:[(0,m.jsx)(Z,{}),(0,m.jsx)(C.Z,{}),(0,m.jsx)(g,{})]})},8418:(e,t,l)=>{l.d(t,{MR:()=>n,Rh:()=>s,u:()=>a});const s=(e,t)=>{var l;let s="";"USD"===e&&(s+="$"),"EUR"===e&&(s+="\u20ac"),"RUB"===e&&(s+="\u20bd");const n=null===(l=Math.round(t))||void 0===l?void 0:l.toString().split("").reverse().reduce(((e,t,l)=>l%3===0&&0!==l?[...e,t+","]:[...e,t]),[]).reverse().join("");return void 0===t?s:s+n},n=(e,t,l,s,n)=>{let a;switch(l){case"date":a=t.sort(((t,l)=>e[l].date.valueOf()-e[t].date.valueOf()));break;case"title":a=t.sort(((t,l)=>e[t].title.localeCompare(e[l].title,n,{sensitivity:"base"})));break;case"price":a=t.sort(((t,l)=>e[l].price.USD-e[t].price.USD));break;default:a=t}return s?a.reverse():a},a=(e,t)=>new Promise((l=>{const s=new Image;s.src=e,s.onload=()=>{const e=document.createElement("canvas"),n=e.getContext("2d");e.width=s.width,e.height=s.height,null===n||void 0===n||n.drawImage(s,0,0);const a=e.toDataURL("image/jpeg",t);l(a)}}))},1046:(e,t,l)=>{l.d(t,{Z:()=>j});var s=l(2791),n=l(1418),a=l.n(n),i=l(5501),r=l(6384),o=l(1929),c=l(11);const d=s.createContext({latestIndex:0}),u=d.Provider,m=e=>{let{className:t,index:l,children:n,split:a,style:i}=e;const{latestIndex:r}=s.useContext(d);return null===n||void 0===n?null:s.createElement(s.Fragment,null,s.createElement("div",{className:t,style:i},n),l<r&&a&&s.createElement("span",{className:"".concat(t,"-split")},a))};var p=l(1294),g=function(e,t){var l={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(l[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(l[s[n]]=e[s[n]])}return l};const x=s.forwardRef(((e,t)=>{var l,n;const{getPrefixCls:c,space:d,direction:x}=s.useContext(o.E_),{size:y=(null===d||void 0===d?void 0:d.size)||"small",align:j,className:v,rootClassName:h,children:Z,direction:C="horizontal",prefixCls:S,split:b,style:f,wrap:k=!1,classNames:z,styles:I}=e,O=g(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[w,P]=Array.isArray(y)?y:[y,y],N=(0,r.n)(P),E=(0,r.n)(w),M=(0,r.T)(P),D=(0,r.T)(w),R=(0,i.Z)(Z,{keepEmpty:!0}),T=void 0===j&&"horizontal"===C?"center":j,U=c("space",S),[F,_,Y]=(0,p.Z)(U),A=a()(U,null===d||void 0===d?void 0:d.className,_,"".concat(U,"-").concat(C),{["".concat(U,"-rtl")]:"rtl"===x,["".concat(U,"-align-").concat(T)]:T,["".concat(U,"-gap-row-").concat(P)]:N,["".concat(U,"-gap-col-").concat(w)]:E},v,h,Y),B=a()("".concat(U,"-item"),null!==(l=null===z||void 0===z?void 0:z.item)&&void 0!==l?l:null===(n=null===d||void 0===d?void 0:d.classNames)||void 0===n?void 0:n.item);let G=0;const H=R.map(((e,t)=>{var l,n;null!==e&&void 0!==e&&(G=t);const a=e&&e.key||"".concat(B,"-").concat(t);return s.createElement(m,{className:B,key:a,index:t,split:b,style:null!==(l=null===I||void 0===I?void 0:I.item)&&void 0!==l?l:null===(n=null===d||void 0===d?void 0:d.styles)||void 0===n?void 0:n.item},e)})),J=s.useMemo((()=>({latestIndex:G})),[G]);if(0===R.length)return null;const L={};return k&&(L.flexWrap="wrap"),!E&&D&&(L.columnGap=w),!N&&M&&(L.rowGap=P),F(s.createElement("div",Object.assign({ref:t,className:A,style:Object.assign(Object.assign(Object.assign({},L),null===d||void 0===d?void 0:d.style),f)},O),s.createElement(u,{value:J},H)))}));const y=x;y.Compact=c.ZP;const j=y}}]);
//# sourceMappingURL=362.bfc8a82e.chunk.js.map