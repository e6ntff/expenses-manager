"use strict";(self.webpackChunkfinance_tracker=self.webpackChunkfinance_tracker||[]).push([[305],{7857:(e,t,n)=>{n.d(t,{$m:()=>I,Dr:()=>G,I$:()=>S,IX:()=>b,JN:()=>D,Mz:()=>M,Vh:()=>k,Zi:()=>O,o5:()=>z,q8:()=>T});var l=n(1635),s=n(5563),a=n(7201),i=n(4231),r=n(8633),c=n(9367),o=n(1429),d=n(952),h=n(2556),m=n(7338),u=n(126),x=n(8416),g=n(7892),j=n.n(g),Z=n(8418),y=(n(2791),n(2603)),p=n(4191),v=n.n(p),f=n(184);const C=(e,t,n,l,a,i)=>" "===e?(0,f.jsx)(f.Fragment,{children:"\xa0"}):(0,f.jsx)(s.Z.Text,{type:t?"expense"===t?"danger":"success":void 0,style:{fontSize:l?"1em":"1.25em"},editable:a,ellipsis:!0,strong:n,children:e},i||0),S=(e,t,n,l,s,i)=>{const r=i?null===e||void 0===e?void 0:e.split("").map(((e,l)=>{const a=i.some((e=>{let[t,n]=e;return l>=t&&l<=n}));return C(e,t,a,n,s,l)})):[C(e||l&&x.Z.noTitle[l],t,!1,n,s)];return(0,f.jsx)(a.Z,{style:{inlineSize:"min-content",opacity:e?"1":".5"},children:r},v()())},k=(e,t,n,s)=>e?(0,f.jsx)(i.Z,{color:"#0005",placement:"right",title:!e.startsWith("#")&&(0,f.jsx)(r.Z,{preview:!1,src:e,style:{borderRadius:"50%",inlineSize:"100%",blockSize:"100%",objectFit:"cover"}}),children:(0,f.jsx)(c.C,{style:{cursor:"pointer",background:e.startsWith("#")?e:"unset"},size:t?"small":"default",icon:(0,f.jsx)(a.Z,{style:{inlineSize:"100%",blockSize:"100%",objectFit:"cover"},children:!e.startsWith("#")&&(0,f.jsx)(r.Z,{preview:!1,src:e,style:{inlineSize:"100%",blockSize:"100%",objectFit:"cover"}})})})}):(0,f.jsx)(i.Z,{title:n?x.Z.noImage[n]:"",children:(0,f.jsx)(c.C,{style:{cursor:"pointer"},onClick:s,icon:(0,f.jsx)(l.Z,{})})}),b=(e,t,n)=>(0,f.jsxs)(a.Z,{align:"center",children:[(0,f.jsx)(o.Z,{value:j()(e).format("DD.MM.YY"),style:{scale:t?".67":".75"}}),n&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.Z.Text,{strong:!0,children:"-"}),(0,f.jsx)(o.Z,{value:j()(n).format("DD.MM.YY"),style:{scale:t?".67":".75"}})]})]}),z=e=>(0,f.jsx)(a.Z,{vertical:!0,align:"stretch",children:e&&(0,f.jsx)(d.Z,{color:e.color,children:(0,f.jsx)("span",{style:{margin:"auto",color:e.color,filter:"invert(1)"},children:e.name})})}),D=(e,t,n,l,i)=>(0,f.jsxs)(a.Z,{justify:"center",children:[(0,f.jsxs)(s.Z.Text,{strong:!0,type:"expense"===t?"danger":"success",style:{fontSize:n?"1.25em":"1.5em"},children:[(0,Z.Rh)(l),Math.round(e[l])]}),i&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.Z.Text,{strong:!0,type:"expense"===t?"danger":"success",style:{fontSize:n?"1.25em":"1.5em"},children:"/"}),(0,f.jsxs)(s.Z.Text,{strong:!0,type:"expense"===t?"danger":"success",style:{fontSize:n?"1.25em":"1.5em"},children:[(0,Z.Rh)(l),Math.round(i[l])]})]})]}),M=(e,t,n)=>{const{onClick:l,small:s,title:a,light:r,placement:o,trigger:d,avatar:h}=n;return(0,f.jsx)(i.Z,{trigger:d,placement:o,title:a,color:r?"#0000":void 0,overlayInnerStyle:{padding:r?"0":"",boxShadow:"none"},children:h?(0,f.jsx)(c.C,{style:{cursor:"pointer"},size:t?"small":"default",onClick:l,icon:(0,f.jsx)(e,{})}):(0,f.jsx)(e,{onClick:l,style:{scale:s?t?".75":"1":t?"1":"1.25"}})})},I=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},s=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0;return(0,f.jsx)(i.Z,{color:"#0000",title:e?(0,f.jsxs)(a.Z,{vertical:!0,gap:n?4:8,children:[(0,f.jsx)(h.ZP,{onClick:s,size:n?"small":"middle",children:x.Z.deleteSelected[t]}),r&&(0,f.jsx)(h.ZP,{onClick:r,size:n?"small":"middle",children:x.Z.restoreSelected[t]})]}):"",children:(0,f.jsx)(m.Z,{onChange:l,checked:e})})},T=(e,t,n,l)=>(0,f.jsx)(y.Z,{size:l?"small":"middle",allowClear:!0,onChange:e,value:t,loading:n}),O=(e,t,n)=>t?(0,f.jsxs)(f.Fragment,{children:["".concat(x.Z.createdAt[n]," ").concat(j()(e).format("HH:mm:ss DD.MM.YY")),(0,f.jsx)("br",{}),"".concat(x.Z.updatedAt[n]," ").concat(j()(t).format("HH:mm:ss DD.MM.YY"))]}):(0,f.jsx)(f.Fragment,{children:"".concat(x.Z.createdAt[n]," ").concat(j()(e).format("HH:mm:ss DD.MM.YY"))}),G=(e,t,n,l,s)=>{const a=s?Object.keys(n).filter((e=>(null===s||void 0===s?void 0:s.members)&&!Object.keys(null===s||void 0===s?void 0:s.members).includes(e))):Object.keys(n);return(0,f.jsx)(u.Z,{mode:"multiple",size:e?"small":"middle",labelInValue:!0,onChange:t,showSearch:!0,value:l,style:{inlineSize:e?"10em":"15em"},options:a.map((e=>({value:e,label:e})))})}},2305:(e,t,n)=>{n.r(t),n.d(t,{default:()=>G});var l=n(7201),s=n(1468),a=n(5563),i=n(4587),r=n(3887),c=n(6473),o=n(7257),d=n(2791),h=n(7857),m=n(8416),u=n(7892),x=n.n(u),g=n(7703),j=n(8807),Z=n(2622),y=n(9966),p=n(7575),v=n(1752),f=n(6370),C=n(4878),S=n(8418),k=n(184);const b=(0,o.Pi)((e=>{let{initialGoalId:t,handleMoneyChange:n,handleDateChange:o,handleTitleChange:u}=e;const{isSmallScreen:b}=j.userStore,{userOptions:z}=g.optionsStore,{goals:D,lastDeletedGoalIds:M,setLastDeletedGoalIds:I,replaceGoal:T}=f.default,{language:O,currency:G}=z,[Y,w]=(0,d.useState)(D[t]),{title:F,date:R,money:A,createdAt:H,updatedAt:P}=Y,[W,$]=(0,d.useState)(!1),J=(0,d.useCallback)((()=>{$((e=>(e&&T(t,Y),!e)))}),[$,T,Y,t]),N=(0,d.useCallback)((()=>{I([...M,t])}),[I,t,M]),U=(0,d.useMemo)((()=>{var e;const t=R.start<x()().valueOf(),n=t?(x()().valueOf()-R.start)/(R.end-R.start)*100:(x()().valueOf()-H)/(R.start-H)*100,r=null===(e=[[t?x()(R.end).diff(x()(),"day"):x()(R.start).diff(x()(),"day")," d"],[t?x()(R.end).diff(x()(),"hour"):x()(R.start).diff(x()(),"hour")," h"],[t?x()(R.end).diff(x()(),"minute"):x()(R.start).diff(x()(),"minute")," m"]].find((e=>e[0]>0)))||void 0===e?void 0:e.join(""),c=(0,k.jsxs)(l.Z,{align:"center",gap:4,children:[(0,k.jsx)(s.Z,{onChange:e=>{o(e,"start",w)},value:x()(R.start),size:b?"small":"middle",minDate:C.Z.startDate,maxDate:C.Z.endDate}),(0,k.jsx)(a.Z.Text,{strong:!0,children:"-"}),(0,k.jsx)(s.Z,{onChange:e=>{o(e,"end",w)},value:x()(R.end),size:b?"small":"middle",minDate:x()(R.start),maxDate:C.Z.endDate})]}),d=(0,k.jsx)(i.Z,{size:b?"small":"default",percent:A.collected.USD/A.total.USD*100,format:e=>"".concat(Math.round(e),"%")});return(0,k.jsxs)(l.Z,{gap:b?16:32,align:"center",children:[(0,k.jsxs)(l.Z,{vertical:!0,align:"center",gap:8,style:{inlineSize:"100%"},children:[d,(0,k.jsx)(l.Z,{children:W?c:(0,h.IX)(R.start,b,R.end)})]}),(0,k.jsx)(i.Z,{status:t?"exception":"active",type:"circle",size:"small",percent:n,format:()=>r})]})}),[H,R,o,W,b,A]),V=(0,k.jsxs)(l.Z,{justify:"space-evenly",children:[(0,h.Mz)(Z.Z,b,{onClick:N,title:m.Z.delete[O]}),W?(0,k.jsxs)(l.Z,{gap:8,align:"center",children:[(0,k.jsx)(r.Z,{formatter:e=>"".concat((0,S.Rh)(G)).concat(e),value:A.collected[G],onChange:e=>n(e,"collected",w)}),(0,k.jsx)(a.Z.Text,{strong:!0,children:"/"}),(0,k.jsx)(r.Z,{formatter:e=>"".concat((0,S.Rh)(G)).concat(e),value:A.total[G],onChange:e=>n(e,"total",w)})]}):(0,h.JN)(A.collected,"expense",b,G,A.total),(0,h.Mz)(y.Z,b,{title:(0,h.Zi)(H,P,O)})]});return(0,k.jsx)(c.Z,{title:(0,h.I$)(F,"expense",b,O,!!W&&{onChange:e=>u(e,w)}),extra:(0,h.Mz)(W?p.Z:v.Z,b,{onClick:J,title:m.Z.edit[O]}),styles:{actions:{alignItems:"center"}},actions:[V],style:{inlineSize:"100%"},children:U})}));var z=n(4352),D=n(3070),M=n(9469),I=n(2556);const T=(0,o.Pi)((e=>{let{handleMoneyChange:t,handleDateChange:n,handleTitleChange:i}=e;const{isSmallScreen:c}=j.userStore,{addGoal:o}=f.default,{userOptions:h}=g.optionsStore,{currency:u,language:Z}=h,[y,v]=(0,d.useState)([]),[b,T]=(0,d.useState)(C.Z.emptyGoal),O=(0,d.useCallback)((()=>{y.length?(v([]),T(C.Z.emptyGoal)):v(["0"])}),[v,y]),G=(0,d.useCallback)((()=>{const e=x()().valueOf();o({...b,createdAt:e}),O()}),[o,O,b]);return(0,k.jsx)(z.Z,{style:{inlineSize:c?"25em":"35em"},ghost:!0,onChange:O,activeKey:y,items:[{key:"0",label:m.Z.newGoal[Z],children:(0,k.jsxs)(D.Z,{children:[(0,k.jsx)(D.Z.Item,{children:(0,k.jsx)(M.Z,{value:b.title,onChange:e=>i(e.target.value,T)})}),(0,k.jsxs)(D.Z.Item,{children:[(0,k.jsx)(s.Z,{onChange:e=>n(e,"start",T)}),(0,k.jsx)(a.Z.Text,{strong:!0,children:" - "}),(0,k.jsx)(s.Z,{onChange:e=>n(e,"end",T)})]}),(0,k.jsx)(D.Z.Item,{children:(0,k.jsxs)(l.Z,{justify:"space-between",children:[(0,k.jsxs)(l.Z,{gap:8,align:"center",children:[(0,k.jsx)(r.Z,{formatter:e=>"".concat((0,S.Rh)(u)).concat(e),value:b.money.collected[u],onChange:e=>t(e,"collected",T)}),(0,k.jsx)(a.Z.Text,{strong:!0,children:"/"}),(0,k.jsx)(r.Z,{formatter:e=>"".concat((0,S.Rh)(u)).concat(e),value:b.money.total[u],onChange:e=>t(e,"total",T)})]}),(0,k.jsx)(I.ZP,{disabled:!b.title,onClick:()=>G(),children:(0,k.jsx)(p.Z,{})})]})})]})}]})}));var O=n(1457);const G=(0,o.Pi)((()=>{const{isSmallScreen:e,currencyRates:t}=j.userStore,{goals:n,lastDeletedGoalIds:s}=f.default,{userOptions:a}=g.optionsStore,{currency:i}=a,r=(0,d.useCallback)(((e,t)=>{t((t=>({...t,title:e})))}),[]),c=(0,d.useCallback)(((e,n,l)=>{l((l=>{const s={...l,money:{...l.money,[n]:{...l.money[n],[i]:e}}};return{...s,money:{...s.money,[n]:(0,O.Z)(s.money[n],t,i)}}}))}),[i,t]),o=(0,d.useCallback)(((e,t,n)=>{n((n=>({...n,date:{...n.date,[t]:e.valueOf()}})))}),[]);return(0,k.jsxs)(l.Z,{style:{inlineSize:e?"25em":"35em",margin:"auto"},vertical:!0,gap:e?16:32,align:"center",children:[(0,k.jsx)(T,{handleMoneyChange:c,handleDateChange:o,handleTitleChange:r}),Object.keys(n).filter((e=>!s.includes(e))).map((e=>(0,k.jsx)(b,{initialGoalId:e,handleMoneyChange:c,handleDateChange:o,handleTitleChange:r},e)))]})}))}}]);
//# sourceMappingURL=305.df69095e.chunk.js.map