"use strict";(self.webpackChunkfinance_tracker=self.webpackChunkfinance_tracker||[]).push([[324],{4324:(e,t,l)=>{l.r(t),l.d(t,{default:()=>_});var s=l(7201),n=l(4664),i=l(6051),r=l(914),a=l(6220),c=l(7257),o=l(2791),d=l(8416),u=l(7703),Z=l(8807),h=l(2622),p=l(2864),y=l(9966),j=l(8030),x=l(3475),g=l(7857),S=l(8418),m=l(7892),v=l.n(m),f=l(8650),k=l(184);const C=(0,c.Pi)((e=>{let{query:t}=e;const{restoreCategory:l,deleteCategory:s,categories:c}=x.categoryStore,{isSmallScreen:m}=Z.userStore,{userOptions:C}=u.optionsStore,{language:b}=C,[E,M]=(0,o.useState)([]),z=(0,o.useMemo)((()=>Object.keys(c).reduce(((e,l)=>{if(!0===c[l].deleted){const s=(0,S.yC)(t,c[l].name);if(0!==(null===s||void 0===s?void 0:s.length))return[...e,{id:l,overlaps:s}]}return e}),[])),[c,t]),I=(0,o.useCallback)((()=>{M((e=>(e.forEach((e=>{s(e)})),[])))}),[s]),q=(0,o.useCallback)((()=>{M((e=>(e.forEach((e=>{l(e)})),[])))}),[l]),O=(0,o.useCallback)((e=>t=>{const l=t.target.checked;M(l?t=>[...t,e]:t=>t.filter((t=>t!==e)))}),[M]);return z.length?(0,k.jsx)(i.Z,{style:{inlineSize:"100%"},children:z.map((e=>{let{id:t,overlaps:n}=e;const i=c[t];return(0,k.jsxs)(a.Z,{style:{opacity:E.length&&!E.includes(t)?".5":"1"},children:[(0,k.jsx)(r.Z,{span:1,children:(u=t,Z=O,(0,g.$m)(E.includes(u),b,m,Z(u),I,q))}),(0,k.jsx)(r.Z,{span:16,children:(0,g.I$)(null===i||void 0===i?void 0:i.name,null===i||void 0===i?void 0:i.type,m,b,!1,n)}),(0,k.jsx)(r.Z,{span:1,children:(0,g.Mz)(p.Z,m,{small:!0,title:(0,k.jsx)(f.Z,{initialCategoryId:t,disabled:!0})})}),(0,k.jsx)(r.Z,{span:1,children:(0,g.Mz)(y.Z,m,{title:"".concat(d.Z.deletedAt[b],": ").concat(v()(null===i||void 0===i?void 0:i.deletedAt).format("HH:mm:ss DD.MM.YY"))})}),(0,k.jsx)(r.Z,{span:1,children:(0,g.Mz)(j.Z,m,{onClick:()=>l(t),title:d.Z.restore[b]})}),(0,k.jsx)(r.Z,{span:1,children:(o=()=>s(t),(0,g.Mz)(h.Z,m,{onClick:o,title:d.Z.delete[C.language]}))})]},t);var o,u,Z}))}):(0,k.jsx)(n.Z,{style:{margin:"auto"},image:n.Z.PRESENTED_IMAGE_SIMPLE,description:""})}));var b=l(4320),E=l(6246);const M=(0,c.Pi)((e=>{let{query:t}=e;const{list:l,restoreItem:s,deleteItem:c}=b.listStore,{isSmallScreen:x}=Z.userStore,{userOptions:m}=u.optionsStore,{language:f}=m,[C,M]=(0,o.useState)([]),z=(0,o.useMemo)((()=>Object.keys(l).reduce(((e,s)=>{if(!0===l[s].deleted){const n=(0,S.yC)(t,l[s].title);if(0!==(null===n||void 0===n?void 0:n.length))return[...e,{id:s,overlaps:n}]}return e}),[])),[l,t]),I=(0,o.useCallback)((()=>{M((e=>(e.forEach((e=>{c(e)})),[])))}),[c]),q=(0,o.useCallback)((()=>{M((e=>(e.forEach((e=>{s(e)})),[])))}),[s]),O=(0,o.useCallback)((e=>t=>{const l=t.target.checked;M(l?t=>[...t,e]:t=>t.filter((t=>t!==e)))}),[M]);return z.length?(0,k.jsx)(i.Z,{style:{inlineSize:"100%"},children:z.map((e=>{let{id:t,overlaps:n}=e;const i=l[t];return(0,k.jsxs)(a.Z,{style:{opacity:C.length&&!C.includes(t)?".5":"1"},children:[(0,k.jsx)(r.Z,{span:1,children:(u=t,Z=O,(0,g.$m)(C.includes(u),f,x,Z(u),I,q))}),(0,k.jsx)(r.Z,{span:16,children:(0,g.I$)(null===i||void 0===i?void 0:i.title,null===i||void 0===i?void 0:i.type,x,f,!1,n)}),(0,k.jsx)(r.Z,{span:1,children:(0,g.Mz)(p.Z,x,{light:!0,title:(0,k.jsx)(E.Z,{initialItem:{id:t,overlaps:n},mode:"grid",selected:C.includes(t),disabled:!0})})}),(0,k.jsx)(r.Z,{span:1,children:(0,g.Mz)(y.Z,x,{title:"".concat(d.Z.deletedAt[f],": ").concat(v()(null===i||void 0===i?void 0:i.deletedAt).format("HH:mm:ss DD.MM.YY"))})}),(0,k.jsx)(r.Z,{span:1,children:(0,g.Mz)(j.Z,x,{onClick:()=>s(t),title:d.Z.restore[f]})}),(0,k.jsx)(r.Z,{span:1,children:(o=()=>c(t),(0,g.Mz)(h.Z,x,{onClick:o,title:d.Z.delete[m.language]}))})]},t);var o,u,Z}))}):(0,k.jsx)(n.Z,{style:{margin:"auto"},image:n.Z.PRESENTED_IMAGE_SIMPLE,description:""})}));var z=l(127),I=l(3663),q=l(1082),O=l(4248);const A=(0,c.Pi)((e=>{let{query:t,setQuery:l,debouncedQuery:n,isExpenses:i,setIsExpenses:r}=e;const{deleteItem:a,restoreItem:c,list:p}=b.listStore,{categories:y,deleteCategory:S,restoreCategory:m}=x.categoryStore,{isSmallScreen:v}=Z.userStore,{userOptions:f}=u.optionsStore,{language:C}=f,[E,M]=(0,o.useState)(!1),A=(0,o.useCallback)((()=>{Object.keys(p).forEach((e=>{p[e].deleted&&a(e)})),Object.keys(y).forEach((e=>{y[e].deleted&&S(e)}))}),[p,y,S,a]),D=(0,o.useCallback)((()=>{Object.keys(p).forEach((e=>{p[e].deleted&&c(e)})),Object.keys(y).forEach((e=>{y[e].deleted&&m(e)}))}),[p,y,m,c]),P=(0,o.useCallback)((e=>{l(e.target.value),M(!0)}),[l,M]);return(0,o.useEffect)((()=>{M(!1)}),[n]),(0,k.jsxs)(s.Z,{align:"center",gap:16,style:{inlineSize:"100%"},children:[(0,k.jsx)(q.Z,{title:d.Z.deleteAllConfirm[C],onConfirm:A,children:(0,g.Mz)(h.Z,v,{})}),(0,k.jsx)(q.Z,{title:d.Z.restoreAllConfirm[C],onConfirm:D,children:(0,g.Mz)(j.Z,v,{})}),v&&(0,k.jsx)(O.Z,{onChange:r,value:i,options:[{label:(0,k.jsx)(z.Z,{}),value:!0},{label:(0,k.jsx)(I.Z,{}),value:!1}]}),(0,k.jsx)(s.Z,{style:{inlineSize:v?"100%":"50%"},children:(0,g.q8)(P,t,E,v)})]})}));var D=l(763),P=l(4878);const _=(0,c.Pi)((()=>{const{isSmallScreen:e}=Z.userStore,[t,l]=(0,o.useState)(""),[n,i]=(0,o.useState)(""),[r,a]=(0,o.useState)(!0),c=(0,o.useMemo)((()=>(0,D.debounce)((e=>i(e)),P.Z.optionsDebounceDelay)),[]);return(0,o.useEffect)((()=>(c(t),()=>{c.cancel()})),[t,c]),(0,k.jsxs)(s.Z,{vertical:!0,gap:e?16:32,children:[(0,k.jsx)(A,{query:t,setQuery:l,debouncedQuery:n,isExpenses:r,setIsExpenses:a}),(0,k.jsx)(s.Z,{gap:e?16:32,style:{inlineSize:"100%"},children:e?r?(0,k.jsx)(M,{query:n}):(0,k.jsx)(C,{query:n}):(0,k.jsxs)(s.Z,{style:{inlineSize:"100%"},gap:32,children:[(0,k.jsx)(s.Z,{style:{inlineSize:"50%"},children:(0,k.jsx)(M,{query:n})}),(0,k.jsx)(s.Z,{style:{inlineSize:"50%"},children:(0,k.jsx)(C,{query:n})})]})})]})}))}}]);
//# sourceMappingURL=324.c16fb15e.chunk.js.map